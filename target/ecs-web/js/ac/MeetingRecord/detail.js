var meetingRecordUrl=ECS.api.emUrl+"/meetingRecord/details";$(function(){var a={init:function(){mini.parse();a.bindUI()},table:{},bindUI:function(){$("input").blur(function(){$(this).val($.trim($(this).val()))});$(".btnClose").click(function(){a.logic.closeLayer(false)});$("#btnQuery").click(function(){a.logic.search()})},data:{param:{}},logic:{setData:function(b){$("#title-main").text(b.title);a.data.param.meetingRecordId=b.meetingRecordId;this.search()},search:function(){$.ajax({async:true,url:meetingRecordUrl,data:{meetingRecordId:a.data.param.meetingRecordId},type:"GET",success:function(b){var c=mini.get("datagrid");c.setData(b.meetingUser);mini.get("meetingAbstract").setValue(b.meetingAbstract)},error:function(b){console.log(b)}})},rendererOperate:function(c){var d=c.record.meetingRecordId;var b='<a href="javascript:window.page.logic.attachment('+d+')"><i class="icon-details edit mr__5"></i></a><a href="javascript:window.page.logic.detail('+d+')"><i class="icon-edit edit"></i></a>';return b},detail:function(b){ECS.util.detail({url:"detail.html",data:{title:"会议详情",pageMode:PageModelEnum.Details}})},attachment:function(){alert("TODO 上传附件公共控件用法待确定")},closeLayer:function(){var b=parent.layer.getFrameIndex(window.name);parent.layer.close(b)},}};a.init();window.page=a});