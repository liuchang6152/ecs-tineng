var eventUrl=ECS.api.apUrl+"/fileAlarmChild/getPoliceEventList";var upPoliceStatusurl=ECS.api.apUrl+"/policeProcess/upPoliceStatus";var vm=new Vue({el:"#main",data:{items:[],eventId:""}});$(function(){var a=parent.layer.getFrameIndex(window.name);var b={init:function(){this.bindUI()},table:{},bindUI:function(){},data:{param:{}},logic:{setData:function(c){vm.items=c},detail:function(c){$.ajax({url:upPoliceStatusurl+"?eventId="+c,async:true,type:"GET",dataType:"json",contentType:"application/json;charset=utf-8",beforeSend:function(){ECS.showLoading()},success:function(d){ECS.hideLoading();if(d.isSuccess){var e="../../html/ap/FiremanGo/Index.html?r="+Math.random();window.parent.layerOpen(e,c,function(){},{closeBtn:0});b.logic.closeLayer(true)}else{layer.msg(d.message)}},error:function(d){ECS.hideLoading();layer.msg("系统繁忙")}})},closeLayer:function(c){window.parent.pageLoadMode=window.pageLoadMode;parent.layer.close(a)},}};b.init();window.page=b});