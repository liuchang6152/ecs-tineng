var vm=new Vue({el:".main-content__dialog",data:{fireSubstanceUrl:ECS.api.apUrl+"/fileAlarmChild/getFileSubstance",index:parent.layer.getFrameIndex(window.name),items:[]},mounted:function(){this.initData()},methods:{initData:function(){var a=this;$.ajax({url:this.fireSubstanceUrl,type:"GET",success:function(f){for(var e=0,b=f.length;e<b;e++){for(var d=0,c=f[e].list.length;d<c;d++){f[e].list[d].checked=false}}a.items=f},error:function(b){console.log(b)}})},selectFireSubstance:function(a){a.checked=!a.checked},save:function(){var e=ids="";for(var d=0,a=this.items.length;d<a;d++){for(var c=0,b=this.items[d].list.length;c<b;c++){if(this.items[d].list[c].checked){e+=this.items[d].list[c].substanceName+",";ids+=this.items[d].list[c].fireSubstanceId+","}}}parent.$("#fireSubstanceTypeNames").val(e.substring(0,e.length-1));parent.$("#fireSubstanceTypeIds").val(ids.substring(0,ids.length-1));this.closePage()},closePage:function(){parent.layer.close(this.index)}}});