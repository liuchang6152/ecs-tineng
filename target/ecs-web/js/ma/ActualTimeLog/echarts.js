(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.echarts={})))}(this,(function(rD){var wb;if(typeof window!=="undefined"){wb=window.__DEV__}else{if(typeof global!=="undefined"){wb=global.__DEV__}}if(typeof wb==="undefined"){wb=true}var om=wb;var HI=2311;var dr=function(){return HI++};var hr={};if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){hr={browser:{},os:{},node:false,wxa:true,canvasSupported:true,svgSupported:false,touchEventsSupported:true,domSupported:false}}else{if(typeof document==="undefined"&&typeof self!=="undefined"){hr={browser:{},os:{},node:false,worker:true,canvasSupported:true,domSupported:false}}else{if(typeof navigator==="undefined"){hr={browser:{},os:{},node:true,worker:false,canvasSupported:true,svgSupported:true,domSupported:false}}else{hr=lb(navigator.userAgent)}}}var sZ=hr;function lb(k){var Z={};var e={};var v=k.match(/Firefox\/([\d.]+)/);var v1=k.match(/MSIE\s([\d.]+)/)||k.match(/Trident\/.+?rv:(([\d.]+))/);var m=k.match(/Edge\/([\d.]+)/);var i=(/micromessenger/i).test(k);if(v){e.firefox=true;e.version=v[1]}if(v1){e.ie=true;e.version=v1[1]}if(m){e.edge=true;e.version=m[1]}if(i){e.weChat=true}return{browser:e,os:Z,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown" in window&&(e.edge||(e.ie&&e.version>=11)),domSupported:typeof document!=="undefined"}}var xd={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var bZ={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var zH=Object.prototype.toString;var c6=Array.prototype;var r7=c6.forEach;var l3=c6.filter;var Gj=c6.slice;var cC=c6.map;var C5=c6.reduce;var nq={};function AV(e,i){if(e==="createCanvas"){hd=null}nq[e]=i}function C9(v2){if(v2==null||typeof v2!="object"){return v2}var m=v2;var k=zH.call(v2);if(k==="[object Array]"){if(!mb(v2)){m=[];for(var v1=0,e=v2.length;v1<e;v1++){m[v1]=C9(v2[v1])}}}else{if(bZ[k]){if(!mb(v2)){var v=v2.constructor;if(v2.constructor.from){m=v.from(v2)}else{m=new v(v2.length);for(var v1=0,e=v2.length;v1<e;v1++){m[v1]=C9(v2[v1])}}}}else{if(!xd[k]&&!mb(v2)&&!ay(v2)){m={};for(var Z in v2){if(v2.hasOwnProperty(Z)){m[Z]=C9(v2[Z])}}}}}return m}function v7(v,m,i){if(!tM(m)||!tM(v)){return i?C9(m):v}for(var k in m){if(m.hasOwnProperty(k)){var e=v[k];var Z=m[k];if(tM(Z)&&tM(e)&&!GL(Z)&&!GL(e)&&!ay(Z)&&!ay(e)&&!wm(Z)&&!wm(e)&&!mb(Z)&&!mb(e)){v7(e,Z,i)}else{if(i||!(k in v)){v[k]=C9(m[k],true)}}}}return v}function aa(Z,m){var k=Z[0];for(var v=1,e=Z.length;v<e;v++){k=v7(k,Z[v],m)}return k}function b0(k,i){for(var e in i){if(i.hasOwnProperty(e)){k[e]=i[e]}}return k}function Di(m,k,e){for(var i in k){if(k.hasOwnProperty(i)&&(e?k[i]!=null:m[i]==null)){m[i]=k[i]}}return m}var Dg=function(){return nq.createCanvas()};nq.createCanvas=function(){return document.createElement("canvas")};var hd;function oJ(){if(!hd){hd=Dg().getContext("2d")}return hd}function eR(v,m){if(v){if(v.indexOf){return v.indexOf(m)}for(var k=0,e=v.length;k<e;k++){if(v[k]===m){return k}}}return -1}function mt(i,e){var k=i.prototype;function m(){}m.prototype=e.prototype;i.prototype=new m();for(var v in k){i.prototype[v]=k[v]}i.prototype.constructor=i;i.superClass=e}function Gu(k,i,e){k="prototype" in k?k.prototype:k;i="prototype" in i?i.prototype:i;Di(k,i,e)}function sS(e){if(!e){return}if(typeof e=="string"){return false}return typeof e.length=="number"}function pb(v1,k,Z){if(!(v1&&k)){return}if(v1.forEach&&v1.forEach===r7){v1.forEach(k,Z)}else{if(v1.length===+v1.length){for(var v=0,e=v1.length;v<e;v++){k.call(Z,v1[v],v,v1)}}else{for(var m in v1){if(v1.hasOwnProperty(m)){k.call(Z,v1[m],m,v1)}}}}}function Ej(v1,m,Z){if(!(v1&&m)){return}if(v1.map&&v1.map===cC){return v1.map(m,Z)}else{var k=[];for(var v=0,e=v1.length;v<e;v++){k.push(m.call(Z,v1[v],v,v1))}return k}}function xf(v1,k,m,Z){if(!(v1&&k)){return}if(v1.reduce&&v1.reduce===C5){return v1.reduce(k,m,Z)}else{for(var v=0,e=v1.length;v<e;v++){m=k.call(Z,m,v1[v],v,v1)}return m}}function q7(v1,m,Z){if(!(v1&&m)){return}if(v1.filter&&v1.filter===l3){return v1.filter(m,Z)}else{var k=[];for(var v=0,e=v1.length;v<e;v++){if(m.call(Z,v1[v],v,v1)){k.push(v1[v])}}return k}}function rA(Z,k,v){if(!(Z&&k)){return}for(var m=0,e=Z.length;m<e;m++){if(k.call(v,Z[m],m,Z)){return Z[m]}}}function ko(k,i){var e=Gj.call(arguments,2);return function(){return k.apply(i,e.concat(Gj.call(arguments)))}}function sy(i){var e=Gj.call(arguments,1);return function(){return i.apply(this,e.concat(Gj.call(arguments)))}}function GL(e){return zH.call(e)==="[object Array]"}function E9(e){return typeof e==="function"}function we(e){return zH.call(e)==="[object String]"}function tM(i){var e=typeof i;return e==="function"||(!!i&&e=="object")}function wm(e){return !!xd[zH.call(e)]}function H1(e){return !!bZ[zH.call(e)]}function ay(e){return typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.ownerDocument==="object"}function lw(e){return e!==e}function gw(k){for(var m=0,e=arguments.length;m<e;m++){if(arguments[m]!=null){return arguments[m]}}}function kd(i,e){return i!=null?i:e}function kc(k,i,e){return k!=null?k:i!=null?i:e}function h9(){return Function.call.apply(Gj,arguments)}function Dz(i){if(typeof(i)==="number"){return[i,i,i,i]}var e=i.length;if(e===2){return[i[0],i[1],i[0],i[1]]}else{if(e===3){return[i[0],i[1],i[2],i[1]]}}return i}function bM(i,e){if(!i){throw new Error(e)}}function Gw(e){if(e==null){return null}else{if(typeof e.trim==="function"){return e.trim()}else{return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}}var sm="__ec_primitive__";function A(e){e[sm]=true}function mb(e){return e[sm]}function py(k){var i=GL(k);this.data={};var m=this;(k instanceof py)?k.each(e):(k&&pb(k,e));function e(Z,v){i?m.set(Z,v):m.set(v,Z)}}py.prototype={constructor:py,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,i){return(this.data[e]=i)},each:function(e,k){k!==void 0&&(e=ko(e,k));for(var i in this.data){this.data.hasOwnProperty(i)&&e(this.data[i],i)}},removeKey:function(e){delete this.data[e]}};function CN(e){return new py(e)}function lf(m,k){var e=new m.constructor(m.length+k.length);for(var v=0;v<m.length;v++){e[v]=m[v]}var Z=m.length;for(v=0;v<k.length;v++){e[v+Z]=k[v]}return e}function V(){}var xk=(Object.freeze||Object)({$override:AV,clone:C9,merge:v7,mergeAll:aa,extend:b0,defaults:Di,createCanvas:Dg,getContext:oJ,indexOf:eR,inherits:mt,mixin:Gu,isArrayLike:sS,each:pb,map:Ej,reduce:xf,filter:q7,find:rA,bind:ko,curry:sy,isArray:GL,isFunction:E9,isString:we,isObject:tM,isBuiltInObject:wm,isTypedArray:H1,isDom:ay,eqNaN:lw,retrieve:gw,retrieve2:kd,retrieve3:kc,slice:h9,normalizeCssArray:Dz,assert:bM,trim:Gw,setAsPrimitive:A,isPrimitive:mb,createHashMap:CN,concatArray:lf,noop:V});var C=typeof Float32Array==="undefined"?Array:Float32Array;function Hd(e,k){var i=new C(2);if(e==null){e=0}if(k==null){k=0}i[0]=e;i[1]=k;return i}function yM(i,e){i[0]=e[0];i[1]=e[1];return i}function uV(e){var i=new C(2);i[0]=e[0];i[1]=e[1];return i}function GR(k,i,e){k[0]=i;k[1]=e;return k}function uD(e,k,i){e[0]=k[0]+i[0];e[1]=k[1]+i[1];return e}function Ba(i,m,k,e){i[0]=m[0]+k[0]*e;i[1]=m[1]+k[1]*e;return i}function BR(e,k,i){e[0]=k[0]-i[0];e[1]=k[1]-i[1];return e}function ez(e){return Math.sqrt(m6(e))}var na=ez;function m6(e){return e[0]*e[0]+e[1]*e[1]}var bz=m6;function wZ(e,k,i){e[0]=k[0]*i[0];e[1]=k[1]*i[1];return e}function uT(e,k,i){e[0]=k[0]/i[0];e[1]=k[1]/i[1];return e}function sw(i,e){return i[0]*e[0]+i[1]*e[1]}function HN(i,e,k){i[0]=e[0]*k;i[1]=e[1]*k;return i}function wJ(i,e){var k=ez(e);if(k===0){i[0]=0;i[1]=0}else{i[0]=e[0]/k;i[1]=e[1]/k}return i}function Ad(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var DZ=Ad;function EO(i,e){return(i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])}var cl=EO;function k3(i,e){i[0]=-e[0];i[1]=-e[1];return i}function rK(e,m,k,i){e[0]=m[0]+i*(k[0]-m[0]);e[1]=m[1]+i*(k[1]-m[1]);return e}function aY(Z,k,i){var e=k[0];var v1=k[1];Z[0]=i[0]*e+i[2]*v1+i[4];Z[1]=i[1]*e+i[3]*v1+i[5];return Z}function By(e,k,i){e[0]=Math.min(k[0],i[0]);e[1]=Math.min(k[1],i[1]);return e}function D9(e,k,i){e[0]=Math.max(k[0],i[0]);e[1]=Math.max(k[1],i[1]);return e}var EG=(Object.freeze||Object)({create:Hd,copy:yM,clone:uV,set:GR,add:uD,scaleAndAdd:Ba,sub:BR,len:ez,length:na,lenSquare:m6,lengthSquare:bz,mul:wZ,div:uT,dot:sw,scale:HN,normalize:wJ,distance:Ad,dist:DZ,distanceSquare:EO,distSquare:cl,negate:k3,lerp:rK,applyTransform:aY,min:By,max:D9});function nk(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}nk.prototype={constructor:nk,_dragStart:function(k){var i=k.target;if(i&&i.draggable){this._draggingTarget=i;i.dragging=true;this._x=k.offsetX;this._y=k.offsetY;this.dispatchToElement(kT(i,k),"dragstart",k.event)}},_drag:function(v1){var v=this._draggingTarget;if(v){var i=v1.offsetX;var v3=v1.offsetY;var m=i-this._x;var k=v3-this._y;this._x=i;this._y=v3;v.drift(m,k,v1);this.dispatchToElement(kT(v,v1),"drag",v1.event);var v2=this.findHover(i,v3,v).target;var Z=this._dropTarget;this._dropTarget=v2;if(v!==v2){if(Z&&v2!==Z){this.dispatchToElement(kT(Z,v1),"dragleave",v1.event)}if(v2&&v2!==Z){this.dispatchToElement(kT(v2,v1),"dragenter",v1.event)}}}},_dragEnd:function(k){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(kT(i,k),"dragend",k.event);if(this._dropTarget){this.dispatchToElement(kT(this._dropTarget,k),"drop",k.event)}this._draggingTarget=null;this._dropTarget=null}};function kT(k,i){return{target:k,topTarget:i&&i.topTarget}}var x6=Array.prototype.slice;var Gg=function(e){this._$handlers={};this._$eventProcessor=e};Gg.prototype={constructor:Gg,one:function(v,Z,m,k){var v1=this._$handlers;if(typeof Z==="function"){k=m;m=Z;Z=null}if(!m||!v){return this}Z=Ao(this,Z);if(!v1[v]){v1[v]=[]}for(var e=0;e<v1[v].length;e++){if(v1[v][e].h===m){return this}}v1[v].push({h:m,one:true,query:Z,ctx:k||this});return this},on:function(v,Z,m,k){var v1=this._$handlers;if(typeof Z==="function"){k=m;m=Z;Z=null}if(!m||!v){return this}Z=Ao(this,Z);if(!v1[v]){v1[v]=[]}for(var e=0;e<v1[v].length;e++){if(v1[v][e].h===m){return this}}v1[v].push({h:m,one:false,query:Z,ctx:k||this});return this},isSilent:function(e){var i=this._$handlers;return i[e]&&i[e].length},off:function(Z,v){var v1=this._$handlers;if(!Z){this._$handlers={};return this}if(v){if(v1[Z]){var m=[];for(var k=0,e=v1[Z].length;k<e;k++){if(v1[Z][k].h!==v){m.push(v1[Z][k])}}v1[Z]=m}if(v1[Z]&&v1[Z].length===0){delete v1[Z]}}else{delete v1[Z]}return this},trigger:function(v1){var v2=this._$handlers[v1];var v3=this._$eventProcessor;if(v2){var v=arguments;var m=v.length;if(m>3){v=x6.call(v,1)}var k=v2.length;for(var Z=0;Z<k;){var e=v2[Z];if(v3&&v3.filter&&e.query!=null&&!v3.filter(v1,e.query)){Z++;continue}switch(m){case 1:e.h.call(e.ctx);break;case 2:e.h.call(e.ctx,v[1]);break;case 3:e.h.call(e.ctx,v[1],v[2]);break;default:e.h.apply(e.ctx,v);break}if(e.one){v2.splice(Z,1);k--}else{Z++}}}v3&&v3.afterTrigger&&v3.afterTrigger(v1);return this},triggerWithContext:function(v3){var k=this._$handlers[v3];var Z=this._$eventProcessor;if(k){var v2=arguments;var v1=v2.length;if(v1>4){v2=x6.call(v2,1,v2.length-1)}var Iq=v2[v2.length-1];var v=k.length;for(var m=0;m<v;){var e=k[m];if(Z&&Z.filter&&e.query!=null&&!Z.filter(v3,e.query)){m++;continue}switch(v1){case 1:e.h.call(Iq);break;case 2:e.h.call(Iq,v2[1]);break;case 3:e.h.call(Iq,v2[1],v2[2]);break;default:e.h.apply(Iq,v2);break}if(e.one){k.splice(m,1);v--}else{m++}}}Z&&Z.afterTrigger&&Z.afterTrigger(v3);return this}};function Ao(e,i){var k=e._$eventProcessor;if(i!=null&&k&&k.normalizeQuery){i=k.normalizeQuery(i)}return i}var cj=(typeof window!=="undefined")&&!!window.addEventListener;var Cx=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function hi(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function BZ(m,v,i,k){i=i||{};if(k||!sZ.canvasSupported){tk(m,v,i)}else{if(sZ.browser.firefox&&v.layerX!=null&&v.layerX!==v.offsetX){i.zrX=v.layerX;i.zrY=v.layerY}else{if(v.offsetX!=null){i.zrX=v.offsetX;i.zrY=v.offsetY}else{tk(m,v,i)}}}return i}function tk(k,v,i){var m=hi(k);i.zrX=v.clientX-m.left;i.zrY=v.clientY-m.top}function Bg(Z,v1,v){v1=v1||window.event;if(v1.zrX!=null){return v1}var m=v1.type;var i=m&&m.indexOf("touch")>=0;if(!i){BZ(Z,v1,v1,v);v1.zrDelta=(v1.wheelDelta)?v1.wheelDelta/120:-(v1.detail||0)/3}else{var v2=m!="touchend"?v1.targetTouches[0]:v1.changedTouches[0];v2&&BZ(Z,v2,v1,v)}var k=v1.button;if(v1.which==null&&k!==undefined&&Cx.test(v1.type)){v1.which=(k&1?1:(k&2?3:(k&4?2:0)))}return v1}function ft(k,e,i){if(cj){k.addEventListener(e,i)}else{k.attachEvent("on"+e,i)}}function qC(k,e,i){if(cj){k.removeEventListener(e,i)}else{k.detachEvent("on"+e,i)}}var GV=cj?function(i){i.preventDefault();i.stopPropagation();i.cancelBubble=true}:function(i){i.returnValue=false;i.cancelBubble=true};function dR(i){return i.which>1}var Io="silent";function wH(i,k,e){return{type:i,event:e,target:k.target,topTarget:k.topTarget,cancelBubble:false,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:AG}}function AG(e){GV(this.event)}function Im(){}Im.prototype.dispose=function(){};var rG=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var ew=function(m,e,i,k){Gg.call(this);this.storage=m;this.painter=e;this.painterRoot=k;i=i||new Im();this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;nk.call(this);this.setHandlerProxy(i)};ew.prototype={constructor:ew,setHandlerProxy:function(e){if(this.proxy){this.proxy.dispose()}if(e){pb(rG,function(i){e.on&&e.on(i,this[i],this)},this);e.handler=this}this.proxy=e},mousemove:function(v){var i=v.zrX;var v2=v.zrY;var v1=this._hovered;var Z=v1.target;if(Z&&!Z.__zr){v1=this.findHover(v1.x,v1.y);Z=v1.target}var m=this._hovered=this.findHover(i,v2);var e=m.target;var k=this.proxy;k.setCursor&&k.setCursor(e?e.cursor:"default");if(Z&&e!==Z){this.dispatchToElement(v1,"mouseout",v)}this.dispatchToElement(m,"mousemove",v);if(e&&e!==Z){this.dispatchToElement(m,"mouseover",v)}},mouseout:function(k){this.dispatchToElement(this._hovered,"mouseout",k);var i=k.toElement||k.relatedTarget;var e;do{i=i&&i.parentNode}while(i&&i.nodeType!=9&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:k})},resize:function(e){this._hovered={}},dispatch:function(i,e){var k=this[i];k&&k.call(this,e)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},dispatchToElement:function(Z,e,m){Z=Z||{};var k=Z.target;if(k&&k.silent){return}var i="on"+e;var v=wH(e,Z,m);while(k){k[i]&&(v.cancelBubble=k[i].call(k,v));k.trigger(e,v);k=k.parent;if(v.cancelBubble){break}}if(!v.cancelBubble){this.trigger(e,v);this.painter&&this.painter.eachOtherLayer(function(v1){if(typeof(v1[i])=="function"){v1[i].call(v1,v)}if(v1.trigger){v1.trigger(e,v)}})}},findHover:function(e,v2,k){var Z=this.storage.getDisplayList();var m={x:e,y:v2};for(var v=Z.length-1;v>=0;v--){var v1;if(Z[v]!==k&&!Z[v].ignore&&(v1=x1(Z[v],e,v2))){!m.topTarget&&(m.topTarget=Z[v]);if(v1!==Io){m.target=Z[v];break}}}return m}};pb(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){ew.prototype[e]=function(m){var k=this.findHover(m.zrX,m.zrY);var i=k.target;if(e==="mousedown"){this._downEl=i;this._downPoint=[m.zrX,m.zrY];this._upEl=i}else{if(e==="mouseup"){this._upEl=i}else{if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||DZ(this._downPoint,[m.zrX,m.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(k,e,m)}});function x1(i,e,v){if(i[i.rectHover?"rectContain":"contain"](e,v)){var k=i;var m;while(k){if(k.clipPath&&!k.clipPath.contain(e,v)){return false}if(k.silent){m=true}k=k.parent}return m?Io:true}return false}Gu(ew,Gg);Gu(ew,nk);var C4=typeof Float32Array==="undefined"?Array:Float32Array;function CF(){var e=new C4(6);lP(e);return e}function lP(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e}function zy(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];i[4]=e[4];i[5]=e[5];return i}function l(i,v2,Z){var e=v2[0]*Z[0]+v2[2]*Z[1];var v3=v2[1]*Z[0]+v2[3]*Z[1];var v1=v2[0]*Z[2]+v2[2]*Z[3];var v=v2[1]*Z[2]+v2[3]*Z[3];var m=v2[0]*Z[4]+v2[2]*Z[5]+v2[4];var k=v2[1]*Z[4]+v2[3]*Z[5]+v2[5];i[0]=e;i[1]=v3;i[2]=v1;i[3]=v;i[4]=m;i[5]=k;return i}function vp(k,e,i){k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4]+i[0];k[5]=e[5]+i[1];return k}function kk(i,v1,Z){var e=v1[0];var Iq=v1[2];var v=v1[4];var Ir=v1[1];var v2=v1[3];var k=v1[5];var v3=Math.sin(Z);var m=Math.cos(Z);i[0]=e*m+Ir*v3;i[1]=-e*v3+Ir*m;i[2]=Iq*m+v2*v3;i[3]=-Iq*v3+m*v2;i[4]=m*v+v3*k;i[5]=m*k-v3*v;return i}function q0(k,e,i){var Z=i[0];var m=i[1];k[0]=e[0]*Z;k[1]=e[1]*m;k[2]=e[2]*Z;k[3]=e[3]*m;k[4]=e[4]*Z;k[5]=e[5]*m;return k}function fI(i,Z){var e=Z[0];var v2=Z[2];var m=Z[4];var v3=Z[1];var v1=Z[3];var k=Z[5];var v=e*v1-v3*v2;if(!v){return null}v=1/v;i[0]=v1*v;i[1]=-v3*v;i[2]=-v2*v;i[3]=e*v;i[4]=(v2*k-v1*m)*v;i[5]=(v3*m-e*k)*v;return i}function uS(i){var e=CF();zy(e,i);return e}var kE=(Object.freeze||Object)({create:CF,identity:lP,copy:zy,mul:l,translate:vp,rotate:kk,scale:q0,invert:fI,clone:uS});var tD=lP;var nR=0.00005;function iF(e){return e>nR||e<-nR}var bJ=function(e){e=e||{};if(!e.position){this.position=[0,0]}if(e.rotation==null){this.rotation=0}if(!e.scale){this.scale=[1,1]}this.origin=this.origin||null};var jZ=bJ.prototype;jZ.transform=null;jZ.needLocalTransform=function(){return iF(this.rotation)||iF(this.position[0])||iF(this.position[1])||iF(this.scale[0]-1)||iF(this.scale[1]-1)};var GP=[];jZ.updateTransform=function(){var Iq=this.parent;var e=Iq&&Iq.transform;var i=this.needLocalTransform();var v=this.transform;if(!(i||e)){v&&tD(v);return}v=v||CF();if(i){this.getLocalTransform(v)}else{tD(v)}if(e){if(i){l(v,Iq.transform,v)}else{zy(v,Iq.transform)}}this.transform=v;var k=this.globalScaleRatio;if(k!=null&&k!==1){this.getGlobalScale(GP);var v3=GP[0]<0?-1:1;var v2=GP[1]<0?-1:1;var v1=((GP[0]-v3)*k+v3)/GP[0]||0;var Z=((GP[1]-v2)*k+v2)/GP[1]||0;v[0]*=v1;v[1]*=v1;v[2]*=Z;v[3]*=Z}this.invTransform=this.invTransform||CF();fI(this.invTransform,v)};jZ.getLocalTransform=function(e){return bJ.getLocalTransform(this,e)};jZ.setTransform=function(i){var e=this.transform;var k=i.dpr||1;if(e){i.setTransform(k*e[0],k*e[1],k*e[2],k*e[3],k*e[4],k*e[5])}else{i.setTransform(k,0,0,k,0,0)}};jZ.restoreTransform=function(e){var i=e.dpr||1;e.setTransform(i,0,0,i,0,0)};var hE=[];var El=CF();jZ.setLocalTransform=function(i){if(!i){return}var Z=i[0]*i[0]+i[1]*i[1];var v=i[2]*i[2]+i[3]*i[3];var e=this.position;var k=this.scale;if(iF(Z-1)){Z=Math.sqrt(Z)}if(iF(v-1)){v=Math.sqrt(v)}if(i[0]<0){Z=-Z}if(i[3]<0){v=-v}e[0]=i[4];e[1]=i[5];k[0]=Z;k[1]=v;this.rotation=Math.atan2(-i[1]/v,i[0]/Z)};jZ.decomposeTransform=function(){if(!this.transform){return}var k=this.parent;var e=this.transform;if(k&&k.transform){l(hE,k.invTransform,e);e=hE}var i=this.origin;if(i&&(i[0]||i[1])){El[4]=i[0];El[5]=i[1];l(hE,e,El);hE[4]-=i[0];hE[5]-=i[1];e=hE}this.setLocalTransform(e)};jZ.getGlobalScale=function(i){var e=this.transform;i=i||[];if(!e){i[0]=1;i[1]=1;return i}i[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]);i[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){i[0]=-i[0]}if(e[3]<0){i[1]=-i[1]}return i};jZ.transformCoordToLocal=function(e,m){var k=[e,m];var i=this.invTransform;if(i){aY(k,k,i)}return k};jZ.transformCoordToGlobal=function(e,m){var k=[e,m];var i=this.transform;if(i){aY(k,k,i)}return k};bJ.getLocalTransform=function(v1,i){i=i||[];tD(i);var v=v1.origin;var k=v1.scale||[1,1];var Z=v1.rotation||0;var e=v1.position||[0,0];if(v){i[4]-=v[0];i[5]-=v[1]}q0(i,i,k);if(Z){kk(i,i,Z)}if(v){i[4]+=v[0];i[5]+=v[1]}i[4]+=e[0];i[5]+=e[1];return i};var e8={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1){return 0.5*e*e}return -0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return --e*e*e+1},cubicInOut:function(e){if((e*=2)<1){return 0.5*e*e*e}return 0.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1-(--e*e*e*e)},quarticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e}return -0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return --e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e*e}return 0.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return 0.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(e===0){return 0}if(e===1){return 1}if((e*=2)<1){return 0.5*Math.pow(1024,e-1)}return 0.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1-(--e*e))},circularInOut:function(e){if((e*=2)<1){return -0.5*(Math.sqrt(1-e*e)-1)}return 0.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return -(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))},elasticOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}return(e*Math.pow(2,-10*i)*Math.sin((i-m)*(2*Math.PI)/v)+1)},elasticInOut:function(i){var m;var e=0.1;var v=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;m=v/4}else{m=v*Math.asin(1/e)/(2*Math.PI)}if((i*=2)<1){return -0.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v))}return e*Math.pow(2,-10*(i-=1))*Math.sin((i-m)*(2*Math.PI)/v)*0.5+1},backIn:function(e){var i=1.70158;return e*e*((i+1)*e-i)},backOut:function(e){var i=1.70158;return --e*e*((i+1)*e+i)+1},backInOut:function(e){var i=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((i+1)*e-i))}return 0.5*((e-=2)*e*((i+1)*e+i)+2)},bounceIn:function(e){return 1-e8.bounceOut(1-e)},bounceOut:function(e){if(e<(1/2.75)){return 7.5625*e*e}else{if(e<(2/2.75)){return 7.5625*(e-=(1.5/2.75))*e+0.75}else{if(e<(2.5/2.75)){return 7.5625*(e-=(2.25/2.75))*e+0.9375}else{return 7.5625*(e-=(2.625/2.75))*e+0.984375}}}},bounceInOut:function(e){if(e<0.5){return e8.bounceIn(e*2)*0.5}return e8.bounceOut(e*2-1)*0.5+0.5}};function eQ(e){this._target=e.target;this._life=e.life||1000;this._delay=e.delay||0;this._initialized=false;this.loop=e.loop==null?false:e.loop;this.gap=e.gap||0;this.easing=e.easing||"Linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart;this._pausedTime=0;this._paused=false}eQ.prototype={constructor:eQ,step:function(e,k){if(!this._initialized){this._startTime=e+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=k;return}var v=(e-this._startTime-this._pausedTime)/this._life;if(v<0){return}v=Math.min(v,1);var m=this.easing;var i=typeof m=="string"?e8[m]:m;var Z=typeof i==="function"?i(v):v;this.fire("frame",Z);if(v==1){if(this.loop){this.restart(e);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(e){var i=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-i+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(i,e){i="on"+i;if(this[i]){this[i](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var dQ=function(){this.head=null;this.tail=null;this._len=0};var kB=dQ.prototype;kB.insert=function(i){var e=new rJ(i);this.insertEntry(e);return e};kB.insertEntry=function(e){if(!this.head){this.head=this.tail=e}else{this.tail.next=e;e.prev=this.tail;e.next=null;this.tail=e}this._len++};kB.remove=function(k){var i=k.prev;var e=k.next;if(i){i.next=e}else{this.head=e}if(e){e.prev=i}else{this.tail=i}k.next=k.prev=null;this._len--};kB.len=function(){return this._len};kB.clear=function(){this.head=this.tail=null;this._len=0};var rJ=function(e){this.value=e;this.next;this.prev};var lI=function(e){this._list=new dQ();this._map={};this._maxSize=e||10;this._lastRemovedEntry=null};var z1=lI.prototype;z1.put=function(i,v){var m=this._list;var v2=this._map;var v1=null;if(v2[i]==null){var e=m.len();var k=this._lastRemovedEntry;if(e>=this._maxSize&&e>0){var Z=m.head;m.remove(Z);delete v2[Z.key];v1=Z.value;this._lastRemovedEntry=Z}if(k){k.value=v}else{k=new rJ(v)}k.key=i;m.insertEntry(k);v2[i]=k}return v1};z1.get=function(e){var i=this._map[e];var k=this._list;if(i!=null){if(i!==k.tail){k.remove(i);k.insertEntry(i)}return i.value}};z1.clear=function(){this._list.clear();this._map={}};var iO={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function cq(e){e=Math.round(e);return e<0?0:e>255?255:e}function mD(e){e=Math.round(e);return e<0?0:e>360?360:e}function AO(e){return e<0?0:e>1?1:e}function jl(e){if(e.length&&e.charAt(e.length-1)==="%"){return cq(parseFloat(e)/100*255)}return cq(parseInt(e,10))}function vu(e){if(e.length&&e.charAt(e.length-1)==="%"){return AO(parseFloat(e)/100)}return AO(parseFloat(e))}function CQ(i,e,k){if(k<0){k+=1}else{if(k>1){k-=1}}if(k*6<1){return i+(e-i)*k*6}if(k*2<1){return e}if(k*3<2){return i+(e-i)*(2/3-k)*6}return i}function zL(i,e,k){return i+(e-i)*k}function Ek(k,v,m,e,i){k[0]=v;k[1]=m;k[2]=e;k[3]=i;return k}function eG(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];return i}var Gq=new lI(20);var hL=null;function y4(e,i){if(hL){eG(hL,i)}hL=Gq.put(e,hL||(i.slice()))}function eY(v3,e){if(!v3){return}e=e||[];var k=Gq.get(v3);if(k){return eG(e,k)}v3=v3+"";var v2=v3.replace(/ /g,"").toLowerCase();if(v2 in iO){eG(e,iO[v2]);y4(v3,e);return e}if(v2.charAt(0)==="#"){if(v2.length===4){var Z=parseInt(v2.substr(1),16);if(!(Z>=0&&Z<=4095)){Ek(e,0,0,0,1);return}Ek(e,((Z&3840)>>4)|((Z&3840)>>8),(Z&240)|((Z&240)>>4),(Z&15)|((Z&15)<<4),1);y4(v3,e);return e}else{if(v2.length===7){var Z=parseInt(v2.substr(1),16);if(!(Z>=0&&Z<=16777215)){Ek(e,0,0,0,1);return}Ek(e,(Z&16711680)>>16,(Z&65280)>>8,Z&255,1);y4(v3,e);return e}}return}var v1=v2.indexOf("("),Iq=v2.indexOf(")");if(v1!==-1&&Iq+1===v2.length){var i=v2.substr(0,v1);var v=v2.substr(v1+1,Iq-(v1+1)).split(",");var m=1;switch(i){case"rgba":if(v.length!==4){Ek(e,0,0,0,1);return}m=vu(v.pop());case"rgb":if(v.length!==3){Ek(e,0,0,0,1);return}Ek(e,jl(v[0]),jl(v[1]),jl(v[2]),m);y4(v3,e);return e;case"hsla":if(v.length!==4){Ek(e,0,0,0,1);return}v[3]=vu(v[3]);wu(v,e);y4(v3,e);return e;case"hsl":if(v.length!==3){Ek(e,0,0,0,1);return}wu(v,e);y4(v3,e);return e;default:return}}Ek(e,0,0,0,1);return}function wu(v1,m){var Z=(((parseFloat(v1[0])%360)+360)%360)/360;var v=vu(v1[1]);var e=vu(v1[2]);var i=e<=0.5?e*(v+1):e+v-e*v;var k=e*2-i;m=m||[];Ek(m,cq(CQ(k,i,Z+1/3)*255),cq(CQ(k,i,Z)*255),cq(CQ(k,i,Z-1/3)*255),1);if(v1.length===4){m[3]=v1[3]}return m}function BS(v){if(!v){return}var v1=v[0]/255;var It=v[1]/255;var k=v[2]/255;var v3=Math.min(v1,It,k);var Iu=Math.max(v1,It,k);var Is=Iu-v3;var Iq=(Iu+v3)/2;var Ir;var Z;if(Is===0){Ir=0;Z=0}else{if(Iq<0.5){Z=Is/(Iu+v3)}else{Z=Is/(2-Iu-v3)}var v2=(((Iu-v1)/6)+(Is/2))/Is;var i=(((Iu-It)/6)+(Is/2))/Is;var m=(((Iu-k)/6)+(Is/2))/Is;if(v1===Iu){Ir=m-i}else{if(It===Iu){Ir=(1/3)+v2-m}else{if(k===Iu){Ir=(2/3)+i-v2}}}if(Ir<0){Ir+=1}if(Ir>1){Ir-=1}}var e=[Ir*360,Z,Iq];if(v[3]!=null){e.push(v[3])}return e}function mW(e,v){var m=eY(e);if(m){for(var k=0;k<3;k++){if(v<0){m[k]=m[k]*(1-v)|0}else{m[k]=((255-m[k])*v+m[k])|0}if(m[k]>255){m[k]=255}else{if(e[k]<0){m[k]=0}}}return wr(m,m.length===4?"rgba":"rgb")}}function zk(e){var i=eY(e);if(i){return((1<<24)+(i[0]<<16)+(i[1]<<8)+(+i[2])).toString(16).slice(1)}}function Q(Z,e,m){if(!(e&&e.length)||!(Z>=0&&Z<=1)){return}m=m||[];var v2=Z*(e.length-1);var v1=Math.floor(v2);var k=Math.ceil(v2);var v=e[v1];var v3=e[k];var i=v2-v1;m[0]=cq(zL(v[0],v3[0],i));m[1]=cq(zL(v[1],v3[1],i));m[2]=cq(zL(v[2],v3[2],i));m[3]=AO(zL(v[3],v3[3],i));return m}var ES=Q;function uM(v1,e,k){if(!(e&&e.length)||!(v1>=0&&v1<=1)){return}var v3=v1*(e.length-1);var v2=Math.floor(v3);var m=Math.ceil(v3);var Z=eY(e[v2]);var Iq=eY(e[m]);var i=v3-v2;var v=wr([cq(zL(Z[0],Iq[0],i)),cq(zL(Z[1],Iq[1],i)),cq(zL(Z[2],Iq[2],i)),AO(zL(Z[3],Iq[3],i))],"rgba");return k?{color:v,leftIndex:v2,rightIndex:m,value:v3}:v}var Br=uM;function lz(i,m,k,e){i=eY(i);if(i){i=BS(i);m!=null&&(i[0]=mD(m));k!=null&&(i[1]=vu(k));e!=null&&(i[2]=vu(e));return wr(wu(i),"rgba")}}function im(e,i){e=eY(e);if(e&&i!=null){e[3]=AO(i);return wr(e,"rgba")}}function wr(k,i){if(!k||!k.length){return}var e=k[0]+","+k[1]+","+k[2];if(i==="rgba"||i==="hsva"||i==="hsla"){e+=","+k[3]}return i+"("+e+")"}var wG=(Object.freeze||Object)({parse:eY,lift:mW,toHex:zk,fastLerp:Q,fastMapToColor:ES,lerp:uM,mapToColor:Br,modifyHSL:lz,modifyAlpha:im,stringify:wr});var fV=Array.prototype.slice;function Ar(i,e){return i[e]}function ze(k,e,i){k[e]=i}function GS(k,i,e){return(i-k)*e+k}function BK(k,i,e){return e>0.5?i:k}function dJ(Iq,v3,v1,m,v2){var Z=Iq.length;if(v2==1){for(var v=0;v<Z;v++){m[v]=GS(Iq[v],v3[v],v1)}}else{var e=Z&&Iq[0].length;for(var v=0;v<Z;v++){for(var k=0;k<e;k++){m[v][k]=GS(Iq[v][k],v3[v][k],v1)}}}}function eV(v3,v1,Z){var v2=v3.length;var v=v1.length;if(v2!==v){var Iq=v2>v;if(Iq){v3.length=v}else{for(var m=v2;m<v;m++){v3.push(Z===1?v1[m]:fV.call(v1[m]))}}}var e=v3[0]&&v3[0].length;for(var m=0;m<v3.length;m++){if(Z===1){if(isNaN(v3[m])){v3[m]=v1[m]}}else{for(var k=0;k<e;k++){if(isNaN(v3[m][k])){v3[m][k]=v1[m][k]}}}}}function em(v1,v,v2){if(v1===v){return true}var e=v1.length;if(e!==v.length){return false}if(v2===1){for(var Z=0;Z<e;Z++){if(v1[Z]!==v[Z]){return false}}}else{var k=v1[0].length;for(var Z=0;Z<e;Z++){for(var m=0;m<k;m++){if(v1[Z][m]!==v[Z][m]){return false}}}}return true}function xc(It,Is,Ir,Iq,Iu,v1,Z,m,v3){var v2=It.length;if(v3==1){for(var v=0;v<v2;v++){m[v]=kl(It[v],Is[v],Ir[v],Iq[v],Iu,v1,Z)}}else{var e=It[0].length;for(var v=0;v<v2;v++){for(var k=0;k<e;k++){m[v][k]=kl(It[v][k],Is[v][k],Ir[v][k],Iq[v][k],Iu,v1,Z)}}}}function kl(v2,v1,v,m,v3,i,e){var Z=(v-v2)*0.5;var k=(m-v1)*0.5;return(2*(v1-v)+Z+k)*e+(-3*(v1-v)-2*Z-k)*i+Z*v3+v1}function pN(v){if(sS(v)){var e=v.length;if(sS(v[0])){var k=[];for(var m=0;m<e;m++){k.push(fV.call(v[m]))}return k}return fV.call(v)}return v}function nY(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function aV(i){var e=i[i.length-1].value;return sS(e&&e[0])?2:1}function sT(IQ,IC,Iy,IA,Iz,IN){var Iv=IQ._getter;var IO=IQ._setter;var IK=IC==="spline";var k=IA.length;if(!k){return}var IF=IA[0].value;var IH=sS(IF);var v3=false;var Z=false;var Ir=IH?aV(IA):0;var Iw;IA.sort(function(IR,i){return IR.time-i.time});Iw=IA[k-1].time;var IJ=[];var IP=[];var IG=IA[0].value;var IB=true;for(var II=0;II<k;II++){IJ.push(IA[II].time/Iw);var IE=IA[II].value;if(!((IH&&em(IE,IG,Ir))||(!IH&&IE===IG))){IB=false}IG=IE;if(typeof IE=="string"){var Iu=eY(IE);if(Iu){IE=Iu;v3=true}else{Z=true}}IP.push(IE)}if(!IN&&IB){return}var Iq=IP[k-1];for(var II=0;II<k-1;II++){if(IH){eV(IP[II],Iq,Ir)}else{if(isNaN(IP[II])&&!isNaN(Iq)&&!Z&&!v3){IP[II]=Iq}}}IH&&eV(Iv(IQ._target,Iz),Iq,Ir);var e=0;var ID=0;var Is;var Ix;var v2;var v1;var v;var m;if(v3){var It=[0,0,0,0]}var IM=function(IT,IR){var IU;if(IR<0){IU=0}else{if(IR<ID){Is=Math.min(e+1,k-1);for(IU=Is;IU>=0;IU--){if(IJ[IU]<=IR){break}}IU=Math.min(IU,k-2)}else{for(IU=e;IU<k;IU++){if(IJ[IU]>IR){break}}IU=Math.min(IU-1,k-2)}}e=IU;ID=IR;var i=(IJ[IU+1]-IJ[IU]);if(i===0){return}else{Ix=(IR-IJ[IU])/i}if(IK){v1=IP[IU];v2=IP[IU===0?IU:IU-1];v=IP[IU>k-2?k-1:IU+1];m=IP[IU>k-3?k-1:IU+2];if(IH){xc(v2,v1,v,m,Ix,Ix*Ix,Ix*Ix*Ix,Iv(IT,Iz),Ir)}else{var IS;if(v3){IS=xc(v2,v1,v,m,Ix,Ix*Ix,Ix*Ix*Ix,It,1);IS=nY(It)}else{if(Z){return BK(v1,v,Ix)}else{IS=kl(v2,v1,v,m,Ix,Ix*Ix,Ix*Ix*Ix)}}IO(IT,Iz,IS)}}else{if(IH){dJ(IP[IU],IP[IU+1],Ix,Iv(IT,Iz),Ir)}else{var IS;if(v3){dJ(IP[IU],IP[IU+1],Ix,It,1);IS=nY(It)}else{if(Z){return BK(IP[IU],IP[IU+1],Ix)}else{IS=GS(IP[IU],IP[IU+1],Ix)}}IO(IT,Iz,IS)}}};var IL=new eQ({target:IQ._target,life:Iw,loop:IQ._loop,delay:IQ._delay,onframe:IM,ondestroy:Iy});if(IC&&IC!=="spline"){IL.easing=IC}return IL}var gP=function(k,i,e,m){this._tracks={};this._target=k;this._loop=i||false;this._getter=e||Ar;this._setter=m||ze;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};gP.prototype={when:function(v,i){var e=this._tracks;for(var m in i){if(!i.hasOwnProperty(m)){continue}if(!e[m]){e[m]=[];var k=this._getter(this._target,m);if(k==null){continue}if(v!==0){e[m].push({time:0,value:pN(k)})}}e[m].push({time:v,value:i[m]})}return this},during:function(e){this._onframeList.push(e);return this},pause:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].pause()}this._paused=true},resume:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var m=this._doneList;var e=m.length;for(var k=0;k<e;k++){m[k].call(this)}},start:function(v1,Z){var v2=this;var i=0;var k=function(){i--;if(!i){v2._doneCallback()}};var e;for(var v in this._tracks){if(!this._tracks.hasOwnProperty(v)){continue}var m=sT(this,v1,k,this._tracks[v],v,Z);if(m){this._clipList.push(m);i++;if(this.animation){this.animation.addClip(m)}e=m}}if(e){var v3=e.onframe;e.onframe=function(Is,Ir){v3(Is,Ir);for(var Iq=0;Iq<v2._onframeList.length;Iq++){v2._onframeList[Iq](Is,Ir)}}}if(!i){this._doneCallback()}return this},stop:function(e){var m=this._clipList;var Z=this.animation;for(var k=0;k<m.length;k++){var v=m[k];if(e){v.onframe(this._target,1)}Z&&Z.removeClip(v)}m.length=0},delay:function(e){this._delay=e;return this},done:function(e){if(e){this._doneList.push(e)}return this},getClips:function(){return this._clipList}};var r9=1;if(typeof window!=="undefined"){r9=Math.max(window.devicePixelRatio||1,1)}var rB=0;var h5=r9;var aU=function(){};if(rB===1){aU=function(){for(var e in arguments){throw new Error(arguments[e])}}}else{if(rB>1){aU=function(){for(var e in arguments){console.log(arguments[e])}}}}var Gy=aU;var uB=function(){this.animators=[]};uB.prototype={constructor:uB,animate:function(It,v2){var v3;var Is=false;var k=this;var Iq=this.__zr;if(It){var Ir=It.split(".");var e=k;Is=Ir[0]==="shape";for(var v1=0,v=Ir.length;v1<v;v1++){if(!e){continue}e=e[Ir[v1]]}if(e){v3=e}}else{v3=k}if(!v3){Gy('Property "'+It+'" is not existed in element '+k.id);return}var Z=k.animators;var m=new gP(v3,v2);m.during(function(i){k.dirty(Is)}).done(function(){Z.splice(eR(Z,m),1)});Z.push(m);if(Iq){Iq.animation.addAnimator(m)}return m},stopAnimation:function(k){var v=this.animators;var e=v.length;for(var m=0;m<e;m++){v[m].stop(k)}v.length=0;return this},animateTo:function(m,k,e,Z,v,i){wN(this,m,k,e,Z,v,i)},animateFrom:function(m,k,e,Z,v,i){wN(this,m,k,e,Z,v,i,true)}};function wN(v2,Iq,e,Z,Is,It,v1,Ir){if(we(Z)){It=Is;Is=Z;Z=0}else{if(E9(Is)){It=Is;Is="linear";Z=0}else{if(E9(Z)){It=Z;Z=0}else{if(E9(e)){It=e;e=500}else{if(!e){e=500}}}}}v2.stopAnimation();i2(v2,"",v2,Iq,e,Z,Ir);var m=v2.animators.slice();var v3=m.length;function k(){v3--;if(!v3){It&&It()}}if(!v3){It&&It()}for(var v=0;v<m.length;v++){m[v].done(k).start(Is,v1)}}function i2(v1,Iq,e,v2,v,Z,v3){var m={};var k=0;for(var i in v2){if(!v2.hasOwnProperty(i)){continue}if(e[i]!=null){if(tM(v2[i])&&!sS(v2[i])){i2(v1,Iq?Iq+"."+i:i,e[i],v2[i],v,Z,v3)}else{if(v3){m[i]=e[i];a9(v1,Iq,i,v2[i])}else{m[i]=v2[i]}k++}}else{if(v2[i]!=null&&!v3){a9(v1,Iq,i,v2[i])}}}if(k>0){v1.animate(Iq,false).when(v==null?500:v,m).delay(Z||0)}}function a9(k,v,e,m){if(!v){k.attr(e,m)}else{var i={};i[v]={};i[v][e]=m;k.attr(i)}}var s3=function(e){bJ.call(this,e);Gg.call(this,e);uB.call(this,e);this.id=e.id||dr()};s3.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,isGroup:false,drift:function(k,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":k=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=k;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,i){},attrKV:function(e,i){if(e==="position"||e==="scale"||e==="origin"){if(i){var k=this[e];if(!k){k=this[e]=[]}k[0]=i[0];k[1]=i[1]}}else{this[e]=i}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(i,k){if(typeof i==="string"){this.attrKV(i,k)}else{if(tM(i)){for(var e in i){if(i.hasOwnProperty(e)){this.attrKV(e,i[e])}}}}this.dirty(false);return this},setClipPath:function(e){var i=this.__zr;if(i){e.addSelfToZr(i)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=i;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var e=this.clipPath;if(e){if(e.__zr){e.removeSelfFromZr(e.__zr)}e.__zr=null;e.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(m){this.__zr=m;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(m)}},removeSelfFromZr:function(m){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){m.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(m)}}};Gu(s3,uB);Gu(s3,bJ);Gu(s3,Gg);var He=aY;var w3=Math.min;var z6=Math.max;function CL(i,m,k,e){if(k<0){i=i+k;k=-k}if(e<0){m=m+e;e=-e}this.x=i;this.y=m;this.width=k;this.height=e}CL.prototype={constructor:CL,union:function(i){var e=w3(i.x,this.x);var k=w3(i.y,this.y);this.width=z6(i.x+i.width,this.x+this.width)-e;this.height=z6(i.y+i.height,this.y+this.height)-k;this.x=e;this.y=k},applyTransform:(function(){var e=[];var m=[];var k=[];var i=[];return function(v){if(!v){return}e[0]=k[0]=this.x;e[1]=i[1]=this.y;m[0]=i[0]=this.x+this.width;m[1]=k[1]=this.y+this.height;He(e,e,v);He(m,m,v);He(k,k,v);He(i,i,v);this.x=w3(e[0],m[0],k[0],i[0]);this.y=w3(e[1],m[1],k[1],i[1]);var v1=z6(e[0],m[0],k[0],i[0]);var Z=z6(e[1],m[1],k[1],i[1]);this.width=v1-this.x;this.height=Z-this.y}})(),calculateTransform:function(i){var k=this;var Z=i.width/k.width;var v=i.height/k.height;var e=CF();vp(e,e,[-k.x,-k.y]);q0(e,e,[Z,v]);vp(e,e,[i.x,i.y]);return e},intersect:function(v1){if(!v1){return false}if(!(v1 instanceof CL)){v1=CL.create(v1)}var v2=this;var m=v2.x;var k=v2.x+v2.width;var Iq=v2.y;var v3=v2.y+v2.height;var Z=v1.x;var v=v1.x+v1.width;var i=v1.y;var e=v1.y+v1.height;return !(k<Z||v<m||v3<i||e<Iq)},contain:function(e,k){var i=this;return e>=i.x&&e<=(i.x+i.width)&&k>=i.y&&k<=(i.y+i.height)},clone:function(){return new CL(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};CL.create=function(e){return new CL(e.x,e.y,e.width,e.height)};var Cc=function(i){i=i||{};s3.call(this,i);for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}this._children=[];this.__storage=null;this.__dirty=true};Cc.prototype={constructor:Cc,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){var m=this._children;for(var k=0;k<m.length;k++){if(m[k].name===e){return m[k]}}},childCount:function(){return this._children.length},add:function(e){if(e&&e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}return this},addBefore:function(m,k){if(m&&m!==this&&m.parent!==this&&k&&k.parent===this){var i=this._children;var e=i.indexOf(k);if(e>=0){i.splice(e,0,m);this._doAdd(m)}}return this},_doAdd:function(k){if(k.parent){k.parent.remove(k)}k.parent=this;var i=this.__storage;var e=this.__zr;if(i&&i!==k.__storage){i.addToStorage(k);if(k instanceof Cc){k.addChildrenToStorage(i)}}e&&e.refresh()},remove:function(v){var k=this.__zr;var m=this.__storage;var i=this._children;var e=eR(i,v);if(e<0){return this}i.splice(e,1);v.parent=null;if(m){m.delFromStorage(v);if(v instanceof Cc){v.delChildrenFromStorage(m)}}k&&k.refresh();return this},removeAll:function(){var k=this._children;var v=this.__storage;var m;var e;for(e=0;e<k.length;e++){m=k[e];if(v){v.delFromStorage(m);if(m instanceof Cc){m.delChildrenFromStorage(v)}}m.parent=null}k.length=0;return this},eachChild:function(e,v){var m=this._children;for(var k=0;k<m.length;k++){var Z=m[k];e.call(v,Z,k)}return this},traverse:function(e,m){for(var k=0;k<this._children.length;k++){var v=this._children[k];e.call(m,v);if(v.type==="group"){v.traverse(e,m)}}return this},addChildrenToStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.addToStorage(k);if(k instanceof Cc){k.addChildrenToStorage(m)}}},delChildrenFromStorage:function(m){for(var e=0;e<this._children.length;e++){var k=this._children[e];m.delFromStorage(k);if(k instanceof Cc){k.delChildrenFromStorage(m)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(v){var v2=null;var v3=new CL(0,0,0,0);var k=v||this._children;var Iq=[];for(var Z=0;Z<k.length;Z++){var e=k[Z];if(e.ignore||e.invisible){continue}var v1=e.getBoundingRect();var m=e.getLocalTransform(Iq);if(m){v3.copy(v1);v3.applyTransform(m);v2=v2||v3.clone();v2.union(v3)}else{v2=v2||v1.clone();v2.union(v1)}}return v2||v3}};mt(Cc,s3);var ho=32;var xA=7;function tR(i){var e=0;while(i>=ho){e|=i&1;i>>=1}return i+e}function aK(v,i,e,k){var m=i+1;if(m===e){return 1}if(k(v[m++],v[i])<0){while(m<e&&k(v[m],v[m-1])<0){m++}h8(v,i,m)}else{while(m<e&&k(v[m],v[m-1])>=0){m++}}return m-i}function h8(m,k,e){e--;while(k<e){var i=m[k];m[k++]=m[e];m[e--]=i}}function yO(Z,v1,v,e,i){if(e===v1){e++}for(;e<v;e++){var Iq=Z[e];var m=v1;var v3=e;var v2;while(m<v3){v2=m+v3>>>1;if(i(Iq,Z[v2])<0){v3=v2}else{m=v2+1}}var k=e-m;switch(k){case 3:Z[m+3]=Z[m+2];case 2:Z[m+2]=Z[m+1];case 1:Z[m+1]=Z[m];break;default:while(k>0){Z[m+k]=Z[m+k-1];k--}}Z[m]=Iq}}function wq(Is,Ir,i,v,v3,k){var e=0;var v1=0;var v2=1;if(k(Is,Ir[i+v3])>0){v1=v-v3;while(v2<v1&&k(Is,Ir[i+v3+v2])>0){e=v2;v2=(v2<<1)+1;if(v2<=0){v2=v1}}if(v2>v1){v2=v1}e+=v3;v2+=v3}else{v1=v3+1;while(v2<v1&&k(Is,Ir[i+v3-v2])<=0){e=v2;v2=(v2<<1)+1;if(v2<=0){v2=v1}}if(v2>v1){v2=v1}var Iq=e;e=v3-v2;v2=v3-Iq}e++;while(e<v2){var Z=e+(v2-e>>>1);if(k(Is,Ir[i+Z])>0){e=Z+1}else{v2=Z}}return v2}function Cw(Is,Ir,i,v,v3,k){var e=0;var v1=0;var v2=1;if(k(Is,Ir[i+v3])<0){v1=v3+1;while(v2<v1&&k(Is,Ir[i+v3-v2])<0){e=v2;v2=(v2<<1)+1;if(v2<=0){v2=v1}}if(v2>v1){v2=v1}var Iq=e;e=v3-v2;v2=v3-Iq}else{v1=v-v3;while(v2<v1&&k(Is,Ir[i+v3+v2])>=0){e=v2;v2=(v2<<1)+1;if(v2<=0){v2=v1}}if(v2>v1){v2=v1}e+=v3;v2+=v3}e++;while(e<v2){var Z=e+(v2-e>>>1);if(k(Is,Ir[i+Z])<0){v2=Z}else{e=Z+1}}return v2}function xJ(v1,e){var It=xA;var v3;var k;var Is=0;var v=[];v3=[];k=[];function Iq(Iv,Iu){v3[Is]=Iv;k[Is]=Iu;Is+=1}function m(){while(Is>1){var Iu=Is-2;if(Iu>=1&&k[Iu-1]<=k[Iu]+k[Iu+1]||Iu>=2&&k[Iu-2]<=k[Iu]+k[Iu-1]){if(k[Iu-1]<k[Iu+1]){Iu--}}else{if(k[Iu]>k[Iu+1]){break}}v2(Iu)}}function Ir(){while(Is>1){var Iu=Is-2;if(Iu>0&&k[Iu-1]<k[Iu+1]){Iu--}v2(Iu)}}function v2(Iv){var Ix=v3[Iv];var Iz=k[Iv];var Iw=v3[Iv+1];var Iy=k[Iv+1];k[Iv]=Iz+Iy;if(Iv===Is-3){v3[Iv+1]=v3[Iv+2];k[Iv+1]=k[Iv+2]}Is--;var Iu=Cw(v1[Iw],v1,Ix,Iz,0,e);Ix+=Iu;Iz-=Iu;if(Iz===0){return}Iy=wq(v1[Ix+Iz-1],v1,Iw,Iy,Iy-1,e);if(Iy===0){return}if(Iz<=Iy){Z(Ix,Iz,Iw,Iy)}else{i(Ix,Iz,Iw,Iy)}}function Z(Iz,Iy,Iw,Iv){var IB=0;for(IB=0;IB<Iy;IB++){v[IB]=v1[Iz+IB]}var Iu=0;var IF=Iw;var IE=Iz;v1[IE++]=v1[IF++];if(--Iv===0){for(IB=0;IB<Iy;IB++){v1[IE+IB]=v[Iu+IB]}return}if(Iy===1){for(IB=0;IB<Iv;IB++){v1[IE+IB]=v1[IF+IB]}v1[IE+Iv]=v[Iu];return}var IA=It;var ID,IC,Ix;while(1){ID=0;IC=0;Ix=false;do{if(e(v1[IF],v[Iu])<0){v1[IE++]=v1[IF++];IC++;ID=0;if(--Iv===0){Ix=true;break}}else{v1[IE++]=v[Iu++];ID++;IC=0;if(--Iy===1){Ix=true;break}}}while((ID|IC)<IA);if(Ix){break}do{ID=Cw(v1[IF],v,Iu,Iy,0,e);if(ID!==0){for(IB=0;IB<ID;IB++){v1[IE+IB]=v[Iu+IB]}IE+=ID;Iu+=ID;Iy-=ID;if(Iy<=1){Ix=true;break}}v1[IE++]=v1[IF++];if(--Iv===0){Ix=true;break}IC=wq(v[Iu],v1,IF,Iv,0,e);if(IC!==0){for(IB=0;IB<IC;IB++){v1[IE+IB]=v1[IF+IB]}IE+=IC;IF+=IC;Iv-=IC;if(Iv===0){Ix=true;break}}v1[IE++]=v[Iu++];if(--Iy===1){Ix=true;break}IA--}while(ID>=xA||IC>=xA);if(Ix){break}if(IA<0){IA=0}IA+=2}It=IA;It<1&&(It=1);if(Iy===1){for(IB=0;IB<Iv;IB++){v1[IE+IB]=v1[IF+IB]}v1[IE+Iv]=v[Iu]}else{if(Iy===0){throw new Error()}else{for(IB=0;IB<Iy;IB++){v1[IE+IB]=v[Iu+IB]}}}}function i(Iz,Iy,Iw,Iv){var IC=0;for(IC=0;IC<Iv;IC++){v[IC]=v1[Iw+IC]}var Iu=Iz+Iy-1;var IH=Iv-1;var IG=Iw+Iv-1;var ID=0;var IB=0;v1[IG--]=v1[Iu--];if(--Iy===0){ID=IG-(Iv-1);for(IC=0;IC<Iv;IC++){v1[ID+IC]=v[IC]}return}if(Iv===1){IG-=Iy;Iu-=Iy;IB=IG+1;ID=Iu+1;for(IC=Iy-1;IC>=0;IC--){v1[IB+IC]=v1[ID+IC]}v1[IG]=v[IH];return}var IA=It;while(true){var IF=0;var IE=0;var Ix=false;do{if(e(v[IH],v1[Iu])<0){v1[IG--]=v1[Iu--];IF++;IE=0;if(--Iy===0){Ix=true;break}}else{v1[IG--]=v[IH--];IE++;IF=0;if(--Iv===1){Ix=true;break}}}while((IF|IE)<IA);if(Ix){break}do{IF=Iy-Cw(v[IH],v1,Iz,Iy,Iy-1,e);if(IF!==0){IG-=IF;Iu-=IF;Iy-=IF;IB=IG+1;ID=Iu+1;for(IC=IF-1;IC>=0;IC--){v1[IB+IC]=v1[ID+IC]}if(Iy===0){Ix=true;break}}v1[IG--]=v[IH--];if(--Iv===1){Ix=true;break}IE=Iv-wq(v1[Iu],v,0,Iv,Iv-1,e);if(IE!==0){IG-=IE;IH-=IE;Iv-=IE;IB=IG+1;ID=IH+1;for(IC=0;IC<IE;IC++){v1[IB+IC]=v[ID+IC]}if(Iv<=1){Ix=true;break}}v1[IG--]=v1[Iu--];if(--Iy===0){Ix=true;break}IA--}while(IF>=xA||IE>=xA);if(Ix){break}if(IA<0){IA=0}IA+=2}It=IA;if(It<1){It=1}if(Iv===1){IG-=Iy;Iu-=Iy;IB=IG+1;ID=Iu+1;for(IC=Iy-1;IC>=0;IC--){v1[IB+IC]=v1[ID+IC]}v1[IG]=v[IH]}else{if(Iv===0){throw new Error()}else{ID=IG-(Iv-1);for(IC=0;IC<Iv;IC++){v1[ID+IC]=v[IC]}}}}this.mergeRuns=m;this.forceMergeRuns=Ir;this.pushRun=Iq}function qx(Z,i,v1,k){if(!v1){v1=0}if(!k){k=Z.length}var v=k-v1;if(v<2){return}var m=0;if(v<ho){m=aK(Z,v1,k,i);yO(Z,v1,k,v1+m,i);return}var v2=new xJ(Z,i);var v3=tR(v);do{m=aK(Z,v1,k,i);if(m<v3){var e=v;if(e>v3){e=v3}yO(Z,v1,v1+e,v1+m,i);m=e}v2.pushRun(v1,m);v2.mergeRuns();v-=m;v1+=m}while(v!==0);v2.forceMergeRuns()}function Ev(i,e){if(i.zlevel===e.zlevel){if(i.z===e.z){return i.z2-e.z2}return i.z-e.z}return i.zlevel-e.zlevel}var dw=function(){this._roots=[];this._displayList=[];this._displayListLen=0};dw.prototype={constructor:dw,traverse:function(e,m){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(e,m)}},getDisplayList:function(i,e){e=e||false;if(i){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(m){this._displayListLen=0;var k=this._roots;var Z=this._displayList;for(var v=0,e=k.length;v<e;v++){this._updateAndAddDisplayable(k[v],null,m)}Z.length=this._displayListLen;sZ.canvasSupported&&qx(Z,Ev)},_updateAndAddDisplayable:function(k,v2,Z){if(k.ignore&&!Z){return}k.beforeUpdate();if(k.__dirty){k.update()}k.afterUpdate();var v3=k.clipPath;if(v3){if(v2){v2=v2.slice()}else{v2=[]}var v1=v3;var Iq=k;while(v1){v1.parent=Iq;v1.updateTransform();v2.push(v1);Iq=v1;v1=v1.clipPath}}if(k.isGroup){var m=k._children;for(var v=0;v<m.length;v++){var e=m[v];if(k.__dirty){e.__dirty=true}this._updateAndAddDisplayable(e,v2,Z)}k.__dirty=false}else{k.__clipPaths=v2;this._displayList[this._displayListLen++]=k}},addRoot:function(e){if(e.__storage===this){return}if(e instanceof Cc){e.addChildrenToStorage(this)}this.addToStorage(e);this._roots.push(e)},delRoot:function(Z){if(Z==null){for(var v=0;v<this._roots.length;v++){var m=this._roots[v];if(m instanceof Cc){m.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(Z instanceof Array){for(var v=0,k=Z.length;v<k;v++){this.delRoot(Z[v])}return}var e=eR(this._roots,Z);if(e>=0){this.delFromStorage(Z);this._roots.splice(e,1);if(Z instanceof Cc){Z.delChildrenFromStorage(this)}}},addToStorage:function(e){if(e){e.__storage=this;e.dirty(false)}return this},delFromStorage:function(e){if(e){e.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Ev};var w5={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};var qE=function(e,k,i){if(w5.hasOwnProperty(k)){return i*=e.dpr}return i};var ly=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var xW=function(e){this.extendFrom(e,false)};function Fq(i,v1,v){var e=v1.x==null?0:v1.x;var k=v1.x2==null?1:v1.x2;var v2=v1.y==null?0:v1.y;var m=v1.y2==null?0:v1.y2;if(!v1.global){e=e*v.width+v.x;k=k*v.width+v.x;v2=v2*v.height+v.y;m=m*v.height+v.y}e=isNaN(e)?0:e;k=isNaN(k)?1:k;v2=isNaN(v2)?0:v2;m=isNaN(m)?0:m;var Z=i.createLinearGradient(e,v2,k,m);return Z}function a3(Iq,m,Z){var i=Z.width;var v3=Z.height;var k=Math.min(i,v3);var v2=m.x==null?0.5:m.x;var v=m.y==null?0.5:m.y;var e=m.r==null?0.5:m.r;if(!m.global){v2=v2*i+Z.x;v=v*v3+Z.y;e=e*k}var v1=Iq.createRadialGradient(v2,v,0,v2,v,e);return v1}xW.prototype={constructor:xW,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(Ir,v,e){var m=this;var Iq=e&&e.style;var v3=!Iq;for(var v1=0;v1<ly.length;v1++){var k=ly[v1];var Z=k[0];if(v3||m[Z]!==Iq[Z]){Ir[Z]=qE(Ir,Z,m[Z]||k[1])}}if((v3||m.fill!==Iq.fill)){Ir.fillStyle=m.fill}if((v3||m.stroke!==Iq.stroke)){Ir.strokeStyle=m.stroke}if((v3||m.opacity!==Iq.opacity)){Ir.globalAlpha=m.opacity==null?1:m.opacity}if((v3||m.blend!==Iq.blend)){Ir.globalCompositeOperation=m.blend||"source-over"}if(this.hasStroke()){var v2=m.lineWidth;Ir.lineWidth=v2/((this.strokeNoScale&&v&&v.getLineScale)?v.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,k){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(k===true||(k===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(i,e){if(typeof i==="string"){this[i]=e}else{this.extendFrom(i,true)}},clone:function(){var e=new this.constructor();e.extendFrom(this,true);return e},getGradient:function(e,v1,v){var v2=v1.type==="radial"?a3:Fq;var Z=v2(e,v1,v);var k=v1.colorStops;for(var m=0;m<k.length;m++){Z.addColorStop(k[m].offset,k[m].color)}return Z}};var m0=xW.prototype;for(var Hm=0;Hm<ly.length;Hm++){var xr=ly[Hm];if(!(xr[0] in m0)){m0[xr[0]]=xr[1]}}xW.getGradient=m0.getGradient;var o0=function(i,e){this.image=i;this.repeat=e;this.type="pattern"};o0.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};function uj(){return false}function xB(v1,i,v){var k=Dg();var m=i.getWidth();var e=i.getHeight();var Z=k.style;if(Z){Z.position="absolute";Z.left=0;Z.top=0;Z.width=m+"px";Z.height=e+"px";k.setAttribute("data-zr-dom-id",v1)}k.width=m*v;k.height=e*v;return k}var el=function(v,e,k){var m;k=k||h5;if(typeof v==="string"){m=xB(v,e,k)}else{if(tM(v)){m=v;v=m.id}}this.id=v;this.dom=m;var i=m.style;if(i){m.onselectstart=uj;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i.padding=0;i.margin=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};el.prototype={constructor:el,__dirty:true,__used:false,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:false,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=xB("back-"+this.id,this.painter,e);this.ctxBack=this.domBack.getContext("2d");if(e!=1){this.ctxBack.scale(e,e)}},resize:function(m,e){var v=this.dpr;var Z=this.dom;var k=Z.style;var i=this.domBack;if(k){k.width=m+"px";k.height=e+"px"}Z.width=m*v;Z.height=e*v;if(i){i.width=m*v;i.height=e*v;if(v!=1){this.ctxBack.scale(v,v)}}},clear:function(v,Iq){var k=this.dom;var Ir=this.ctx;var i=k.width;var v3=k.height;var Iq=Iq||this.clearColor;var v2=this.motionBlur&&!v;var e=this.lastFrameAlpha;var v1=this.dpr;if(v2){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(k,0,0,i/v1,v3/v1)}Ir.clearRect(0,0,i,v3);if(Iq&&Iq!=="transparent"){var Z;if(Iq.colorStops){Z=Iq.__canvasGradient||xW.getGradient(Ir,Iq,{x:0,y:0,width:i,height:v3});Iq.__canvasGradient=Z}else{if(Iq.image){Z=o0.prototype.getCanvasPattern.call(Iq,Ir)}}Ir.save();Ir.fillStyle=Z||Iq;Ir.fillRect(0,0,i,v3);Ir.restore()}if(v2){var m=this.domBack;Ir.save();Ir.globalAlpha=e;Ir.drawImage(m,0,0,i,v3);Ir.restore()}}};var nw=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(e){setTimeout(e,16)};var bh=new lI(50);function np(e){if(typeof e==="string"){var i=bh.get(e);return i&&i.image}else{return e}}function pc(k,v1,m,i,e){if(!k){return v1}else{if(typeof k==="string"){if((v1&&v1.__zrImageSrc===k)||!m){return v1}var Z=bh.get(k);var v={hostEl:m,cb:i,cbPayload:e};if(Z){v1=Z.image;!GG(v1)&&Z.pending.push(v)}else{!v1&&(v1=new Image());v1.onload=v1.onerror=gn;bh.put(k,v1.__cachedImgObj={image:v1,pending:[v]});v1.src=v1.__zrImageSrc=k}return v1}else{return k}}}function gn(){var v=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var k=0;k<v.pending.length;k++){var m=v.pending[k];var e=m.cb;e&&e(this,m.cbPayload);m.hostEl.dirty()}v.pending.length=0}function GG(e){return e&&e.width&&e.height}var pO={};var iE=0;var xm=5000;var wt=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var E2="12px sans-serif";var jP={};function g0(e,i){jP[e]=i}function i9(v2,k){k=k||E2;var v=v2+":"+k;if(pO[v]){return pO[v]}var v1=(v2+"").split("\n");var Z=0;for(var m=0,e=v1.length;m<e;m++){Z=Math.max(vx(v1[m],k).width,Z)}if(iE>xm){iE=0;pO={}}iE++;pO[v]=Z;return Z}function Gv(v1,k,m,i,Z,e,v){return e?gR(v1,k,m,i,Z,e,v):w9(v1,k,m,i,Z,v)}function w9(Ir,i,e,m,v1,v3){var k=y(Ir,i,v1,v3);var Is=i9(Ir,i);if(v1){Is+=v1[1]+v1[3]}var Iq=k.outerHeight;var v2=uC(0,Is,e);var Z=uy(0,Iq,m);var v=new CL(v2,Z,Is,Iq);v.lineHeight=k.lineHeight;return v}function gR(Ir,k,e,v,v1,i,v3){var m=st(Ir,{rich:i,truncate:v3,font:k,textAlign:e,textPadding:v1});var Is=m.outerWidth;var Iq=m.outerHeight;var v2=uC(0,Is,e);var Z=uy(0,Iq,v);return new CL(v2,Z,Is,Iq)}function uC(e,k,i){if(i==="right"){e-=k}else{if(i==="center"){e-=k/2}}return e}function uy(k,e,i){if(i==="middle"){k-=e/2}else{if(i==="bottom"){k-=e}}return k}function F0(Iq,v1,e){var v2=v1.x;var Z=v1.y;var v3=v1.height;var k=v1.width;var v=v3/2;var i="left";var m="top";switch(Iq){case"left":v2-=e;Z+=v;i="right";m="middle";break;case"right":v2+=e+k;Z+=v;m="middle";break;case"top":v2+=k/2;Z-=e;i="center";m="bottom";break;case"bottom":v2+=k/2;Z+=v3+e;i="center";break;case"inside":v2+=k/2;Z+=v;i="center";m="middle";break;case"insideLeft":v2+=e;Z+=v;m="middle";break;case"insideRight":v2+=k-e;Z+=v;i="right";m="middle";break;case"insideTop":v2+=k/2;Z+=e;i="center";break;case"insideBottom":v2+=k/2;Z+=v3-e;i="center";m="bottom";break;case"insideTopLeft":v2+=e;Z+=e;break;case"insideTopRight":v2+=k-e;Z+=e;i="right";break;case"insideBottomLeft":v2+=e;Z+=v3-e;m="bottom";break;case"insideBottomRight":v2+=k-e;Z+=v3-e;i="right";m="bottom";break}return{x:v2,y:Z,textAlign:i,textVerticalAlign:m}}function aW(v3,v2,m,k,v){if(!v2){return""}var v1=(v3+"").split("\n");v=z(v2,m,k,v);for(var Z=0,e=v1.length;Z<e;Z++){v1[Z]=ee(v1[Z],v)}return v1.join("\n")}function z(v2,v,v3,Iq){Iq=b0({},Iq);Iq.font=v;var v3=kd(v3,"...");Iq.maxIterations=kd(Iq.maxIterations,2);var m=Iq.minChar=kd(Iq.minChar,0);Iq.cnCharWidth=i9("",v);var Z=Iq.ascCharWidth=i9("a",v);Iq.placeholder=kd(Iq.placeholder,"");var e=v2=Math.max(0,v2-1);for(var v1=0;v1<m&&e>=Z;v1++){e-=Z}var k=i9(v3);if(k>e){v3="";k=0}e=v2-k;Iq.ellipsis=v3;Iq.ellipsisWidth=k;Iq.contentWidth=e;Iq.containerWidth=v2;return Iq}function ee(v1,v){var v2=v.containerWidth;var k=v.font;var i=v.contentWidth;if(!v2){return""}var e=i9(v1,k);if(e<=v2){return v1}for(var m=0;;m++){if(e<=i||m>=v.maxIterations){v1+=v.ellipsis;break}var Z=m===0?km(v1,i,v.ascCharWidth,v.cnCharWidth):e>0?Math.floor(v1.length*i/e):0;v1=v1.substr(0,Z);e=i9(v1,k)}if(v1===""){v1=v.placeholder}return v1}function km(v3,v,v2,m){var v1=0;var Z=0;for(var e=v3.length;Z<e&&v1<v;Z++){var k=v3.charCodeAt(Z);v1+=(0<=k&&k<=127)?v2:m}return Z}function n4(e){return i9("",e)}function vx(i,e){return jP.measureText(i,e)}jP.measureText=function(k,i){var e=oJ();e.font=i||E2;return e.measureText(k)};function y(Ir,e,Z,v1){Ir!=null&&(Ir+="");var v2=n4(e);var Iu=Ir?Ir.split("\n"):[];var Is=Iu.length*v2;var v3=Is;if(Z){v3+=Z[0]+Z[2]}if(Ir&&v1){var v=v1.outerHeight;var Iq=v1.outerWidth;if(v!=null&&v3>v){Ir="";Iu=[]}else{if(Iq!=null){var It=z(Iq-(Z?Z[1]+Z[3]:0),e,v1.ellipsis,{minChar:v1.minChar,placeholder:v1.placeholder});for(var k=0,m=Iu.length;k<m;k++){Iu[k]=ee(Iu[k],It)}}}}return{lines:Iu,height:Is,outerHeight:v3,lineHeight:v2}}function st(Iy,IK){var Iq={lines:[],width:0,height:0};Iy!=null&&(Iy+="");if(!Iy){return Iq}var IL=wt.lastIndex=0;var Iu;while((Iu=wt.exec(Iy))!=null){var IF=Iu.index;if(IF>IL){fJ(Iq,Iy.substring(IL,IF))}fJ(Iq,Iu[2],Iu[1]);IL=wt.lastIndex}if(IL<Iy.length){fJ(Iq,Iy.substring(IL,Iy.length))}var k=Iq.lines;var IE=0;var IA=0;var Ix=[];var Is=IK.textPadding;var m=IK.truncate;var Ir=m&&m.outerWidth;var v2=m&&m.outerHeight;if(Is){Ir!=null&&(Ir-=Is[1]+Is[3]);v2!=null&&(v2-=Is[0]+Is[2])}for(var II=0;II<k.length;II++){var Iv=k[II];var Z=0;var e=0;for(var ID=0;ID<Iv.tokens.length;ID++){var v3=Iv.tokens[ID];var IH=v3.styleName&&IK.rich[v3.styleName]||{};var IG=v3.textPadding=IH.textPadding;var Iz=v3.font=IH.font||IK.font;var IM=v3.textHeight=kd(IH.textHeight,n4(Iz));IG&&(IM+=IG[0]+IG[2]);v3.height=IM;v3.lineHeight=kc(IH.textLineHeight,IK.textLineHeight,IM);v3.textAlign=IH&&IH.textAlign||IK.textAlign;v3.textVerticalAlign=IH&&IH.textVerticalAlign||"middle";if(v2!=null&&IE+v3.lineHeight>v2){return{lines:[],width:0,height:0}}v3.textWidth=i9(v3.text,Iz);var IC=IH.textWidth;var IB=IC==null||IC==="auto";if(typeof IC==="string"&&IC.charAt(IC.length-1)==="%"){v3.percentWidth=IC;Ix.push(v3);IC=0}else{if(IB){IC=v3.textWidth;var v1=IH.textBackgroundColor;var v=v1&&v1.image;if(v){v=np(v);if(GG(v)){IC=Math.max(IC,v.width*IM/v.height)}}}var IJ=IG?IG[1]+IG[3]:0;IC+=IJ;var Iw=Ir!=null?Ir-e:null;if(Iw!=null&&Iw<IC){if(!IB||Iw<IJ){v3.text="";v3.textWidth=IC=0}else{v3.text=aW(v3.text,Iw-IJ,Iz,m.ellipsis,{minChar:m.minChar});v3.textWidth=i9(v3.text,Iz);IC=v3.textWidth+IJ}}}e+=(v3.width=IC);IH&&(Z=Math.max(Z,v3.lineHeight))}Iv.width=e;Iv.lineHeight=Z;IE+=Z;IA=Math.max(IA,e)}Iq.outerWidth=Iq.width=kd(IK.textWidth,IA);Iq.outerHeight=Iq.height=kd(IK.textHeight,IE);if(Is){Iq.outerWidth+=Is[1]+Is[3];Iq.outerHeight+=Is[0]+Is[2]}for(var II=0;II<Ix.length;II++){var v3=Ix[II];var It=v3.percentWidth;v3.width=parseInt(It,10)/100*IA}return Iq}function fJ(v,Iq,k){var e=Iq==="";var v2=Iq.split("\n");var Is=v.lines;for(var v1=0;v1<v2.length;v1++){var Ir=v2[v1];var m={styleName:k,text:Ir,isLineHolder:!Ir&&!e};if(!v1){var v3=(Is[Is.length-1]||(Is[0]={tokens:[]})).tokens;var Z=v3.length;(Z===1&&v3[0].isLineHolder)?(v3[0]=m):((Ir||!Z||e)&&v3.push(m))}else{Is.push({tokens:[m]})}}}function pB(i){var e=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");return e&&Gw(e)||i.textFont||i.font}function ti(Is,v1){var Iq=v1.x;var v3=v1.y;var m=v1.width;var Ir=v1.height;var e=v1.r;var Z;var v;var k;var i;if(m<0){Iq=Iq+m;m=-m}if(Ir<0){v3=v3+Ir;Ir=-Ir}if(typeof e==="number"){Z=v=k=i=e}else{if(e instanceof Array){if(e.length===1){Z=v=k=i=e[0]}else{if(e.length===2){Z=k=e[0];v=i=e[1]}else{if(e.length===3){Z=e[0];v=i=e[1];k=e[2]}else{Z=e[0];v=e[1];k=e[2];i=e[3]}}}}else{Z=v=k=i=0}}var v2;if(Z+v>m){v2=Z+v;Z*=m/v2;v*=m/v2}if(k+i>m){v2=k+i;k*=m/v2;i*=m/v2}if(v+k>Ir){v2=v+k;v*=Ir/v2;k*=Ir/v2}if(Z+i>Ir){v2=Z+i;Z*=Ir/v2;i*=Ir/v2}Is.moveTo(Iq+Z,v3);Is.lineTo(Iq+m-v,v3);v!==0&&Is.arc(Iq+m-v,v3+v,v,-Math.PI/2,0);Is.lineTo(Iq+m,v3+Ir-k);k!==0&&Is.arc(Iq+m-k,v3+Ir-k,k,0,Math.PI/2);Is.lineTo(Iq+i,v3+Ir);i!==0&&Is.arc(Iq+i,v3+Ir-i,i,Math.PI/2,Math.PI);Is.lineTo(Iq,v3+Z);Z!==0&&Is.arc(Iq+Z,v3+Z,Z,Math.PI,Math.PI*1.5)}var zP={left:1,right:1,center:1};var Eu={top:1,bottom:1,middle:1};var CR=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function pj(e){CH(e);pb(e.rich,CH);return e}function CH(k){if(k){k.font=pB(k);var i=k.textAlign;i==="middle"&&(i="center");k.textAlign=(i==null||zP[i])?i:"left";var e=k.textVerticalAlign||k.textBaseline;e==="center"&&(e="middle");k.textVerticalAlign=(e==null||Eu[e])?e:"top";var m=k.textPadding;if(m){k.textPadding=Dz(k.textPadding)}}}function AE(k,e,Z,m,v,i){m.rich?fv(k,e,Z,m,v):fu(k,e,Z,m,v,i)}function fu(Ix,Iy,IB,IN,ID,II){var Iv=II&&II.style;var m=Iv&&II.type==="text";var Iq=IN.font||E2;if(!m||Iq!==(Iv.font||E2)){Iy.font=Iq}var v3=Ix.__computedFont;if(Ix.__styleFont!==Iq){Ix.__styleFont=Iq;v3=Ix.__computedFont=Iy.font}var IE=IN.textPadding;var Z=Ix.__textCotentBlock;if(!Z||Ix.__dirtyText){Z=Ix.__textCotentBlock=y(IB,v3,IE,IN.truncate)}var IR=Z.outerHeight;var IQ=Z.lines;var IC=Z.lineHeight;var IJ=yR(IR,IN,ID);var IL=IJ.baseX;var IK=IJ.baseY;var v1=IJ.textAlign||"left";var v2=IJ.textVerticalAlign;gF(Iy,IN,ID,IL,IK);var Is=uy(IK,IR,v2);var k=IL;var e=Is;var Iu=i5(IN);if(Iu||IE){var Ir=i9(IB,v3);var IM=Ir;IE&&(IM+=IE[1]+IE[3]);var It=uC(IL,IM,v1);Iu&&pH(Ix,Iy,IN,It,Is,IM,IR);if(IE){k=h6(IL,v1,IE);e+=IE[0]}}Iy.textAlign=v1;Iy.textBaseline="middle";for(var IP=0;IP<CR.length;IP++){var v=CR[IP];var IG=v[0];var Iz=v[1];var IA=IN[IG];if(!m||IA!==Iv[IG]){Iy[Iz]=qE(Iy,Iz,IA||v[2])}}e+=IC/2;var IT=IN.textStrokeWidth;var Iw=m?Iv.textStrokeWidth:null;var IF=!m||IT!==Iw;var IS=!m||IF||IN.textStroke!==Iv.textStroke;var IO=w1(IN.textStroke,IT);var IH=gv(IN.textFill);if(IO){if(IF){Iy.lineWidth=IT}if(IS){Iy.strokeStyle=IO}}if(IH){if(!m||IN.textFill!==Iv.textFill||Iv.textBackgroundColor){Iy.fillStyle=IH}}if(IQ.length===1){IO&&Iy.strokeText(IQ[0],k,e);IH&&Iy.fillText(IQ[0],k,e)}else{for(var IP=0;IP<IQ.length;IP++){IO&&Iy.strokeText(IQ[IP],k,e);IH&&Iy.fillText(IQ[IP],k,e);e+=IC}}}function fv(i,e,Z,m,v){var k=i.__textCotentBlock;if(!k||i.__dirtyText){k=i.__textCotentBlock=st(Z,m)}xR(i,e,k,m,v)}function xR(ID,IC,It,IG,Z){var Iz=It.width;var e=It.outerWidth;var v=It.outerHeight;var IF=IG.textPadding;var IJ=yR(v,IG,Z);var m=IJ.baseX;var k=IJ.baseY;var v3=IJ.textAlign;var Iy=IJ.textVerticalAlign;gF(IC,IG,Z,m,k);var IL=uC(m,e,v3);var IK=uy(k,v,Iy);var Iw=IL;var v2=IK;if(IF){Iw+=IF[3];v2+=IF[0]}var II=Iw+Iz;i5(IG)&&pH(ID,IC,IG,IL,IK,e,v);for(var IE=0;IE<It.lines.length;IE++){var Iv=It.lines[IE];var Ix=Iv.tokens;var Iq=Ix.length;var v1=Iv.lineHeight;var Is=Iv.width;var IA=0;var IH=Iw;var Iu=II;var IB=Iq-1;var Ir;while(IA<Iq&&(Ir=Ix[IA],!Ir.textAlign||Ir.textAlign==="left")){Ez(ID,IC,Ir,IG,v1,v2,IH,"left");Is-=Ir.width;IH+=Ir.width;IA++}while(IB>=0&&(Ir=Ix[IB],Ir.textAlign==="right")){Ez(ID,IC,Ir,IG,v1,v2,Iu,"right");Is-=Ir.width;Iu-=Ir.width;IB--}IH+=(Iz-(IH-Iw)-(II-Iu)-Is)/2;while(IA<=IB){Ir=Ix[IA];Ez(ID,IC,Ir,IG,v1,v2,IH+Ir.width/2,"center");IH+=Ir.width;IA++}v2+=v1}}function gF(i,m,v,e,Z){if(v&&m.textRotation){var k=m.textOrigin;if(k==="center"){e=v.width/2+v.x;Z=v.height/2+v.y}else{if(k){e=k[0]+v.x;Z=k[1]+v.y}}i.translate(e,Z);i.rotate(-m.textRotation);i.translate(-e,-Z)}}function Ez(v3,It,m,e,Is,Iq,Ir,i){var Iv=e.rich[m.styleName]||{};Iv.text=m.text;var v=m.textVerticalAlign;var v1=Iq+Is/2;if(v==="top"){v1=Iq+m.height/2}else{if(v==="bottom"){v1=Iq+Is-m.height/2}}!m.isLineHolder&&i5(Iv)&&pH(v3,It,Iv,i==="right"?Ir-m.width:i==="center"?Ir-m.width/2:Ir,v1-m.height/2,m.width,m.height);var Z=m.textPadding;if(Z){Ir=h6(Ir,i,Z);v1-=m.height/2-Z[2]-m.textHeight/2}ru(It,"shadowBlur",kc(Iv.textShadowBlur,e.textShadowBlur,0));ru(It,"shadowColor",Iv.textShadowColor||e.textShadowColor||"transparent");ru(It,"shadowOffsetX",kc(Iv.textShadowOffsetX,e.textShadowOffsetX,0));ru(It,"shadowOffsetY",kc(Iv.textShadowOffsetY,e.textShadowOffsetY,0));ru(It,"textAlign",i);ru(It,"textBaseline","middle");ru(It,"font",m.font||E2);var v2=w1(Iv.textStroke||e.textStroke,k);var Iu=gv(Iv.textFill||e.textFill);var k=kd(Iv.textStrokeWidth,e.textStrokeWidth);if(v2){ru(It,"lineWidth",k);ru(It,"strokeStyle",v2);It.strokeText(m.text,Ir,v1)}if(Iu){ru(It,"fillStyle",Iu);It.fillText(m.text,Ir,v1)}}function i5(e){return e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)}function pH(v2,Iu,e,v3,v1,i,Is){var Iq=e.textBackgroundColor;var m=e.textBorderWidth;var Z=e.textBorderColor;var It=we(Iq);ru(Iu,"shadowBlur",e.textBoxShadowBlur||0);ru(Iu,"shadowColor",e.textBoxShadowColor||"transparent");ru(Iu,"shadowOffsetX",e.textBoxShadowOffsetX||0);ru(Iu,"shadowOffsetY",e.textBoxShadowOffsetY||0);if(It||(m&&Z)){Iu.beginPath();var v=e.textBorderRadius;if(!v){Iu.rect(v3,v1,i,Is)}else{ti(Iu,{x:v3,y:v1,width:i,height:Is,r:v})}Iu.closePath()}if(It){ru(Iu,"fillStyle",Iq);if(e.fillOpacity!=null){var Ir=Iu.globalAlpha;Iu.globalAlpha=e.fillOpacity*e.opacity;Iu.fill();Iu.globalAlpha=Ir}else{Iu.fill()}}else{if(E9(Iq)){ru(Iu,"fillStyle",Iq(e));Iu.fill()}else{if(tM(Iq)){var k=Iq.image;k=pc(k,null,v2,w4,Iq);if(k&&GG(k)){Iu.drawImage(k,v3,v1,i,Is)}}}}if(m&&Z){ru(Iu,"lineWidth",m);ru(Iu,"strokeStyle",Z);if(e.strokeOpacity!=null){var Ir=Iu.globalAlpha;Iu.globalAlpha=e.strokeOpacity*e.opacity;Iu.stroke();Iu.globalAlpha=Ir}else{Iu.stroke()}}}function w4(i,e){e.image=i}function yR(v1,e,v3){var v=e.x||0;var k=e.y||0;var i=e.textAlign;var Z=e.textVerticalAlign;if(v3){var Iq=e.textPosition;if(Iq instanceof Array){v=v3.x+B9(Iq[0],v3.width);k=v3.y+B9(Iq[1],v3.height)}else{var v2=F0(Iq,v3,e.textDistance);v=v2.x;k=v2.y;i=i||v2.textAlign;Z=Z||v2.textVerticalAlign}var m=e.textOffset;if(m){v+=m[0];k+=m[1]}}return{baseX:v,baseY:k,textAlign:i,textVerticalAlign:Z}}function ru(e,k,i){e[k]=qE(e,k,i);return e[k]}function w1(i,e){return(i==null||e<=0||i==="transparent"||i==="none")?null:(i.image||i.colorStops)?"#000":i}function gv(e){return(e==null||e==="none")?null:(e.image||e.colorStops)?"#000":e}function B9(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e}function h6(e,i,k){return i==="right"?(e-k[1]):i==="center"?(e+k[3]/2-k[1]/2):(e+k[3])}function Ex(i,e){return i!=null&&(i||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var eu=new CL();var zb=function(){};zb.prototype={constructor:zb,drawRectText:function(e,m){var k=this.style;m=k.textRect||m;this.__dirty&&pj(k,true);var v=k.text;v!=null&&(v+="");if(!Ex(v,k)){return}e.save();var i=this.transform;if(!k.transformText){if(i){eu.copy(m);eu.applyTransform(i);m=eu}}else{this.setTransform(e)}AE(this,e,v,k,m);e.restore()}};function Il(i){i=i||{};s3.call(this,i);for(var e in i){if(i.hasOwnProperty(e)&&e!=="style"){this[e]=i[e]}}this.style=new xW(i.style,this);this._rect=null;this.__clipPaths=[]}Il.prototype={constructor:Il,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:false,incremental:false,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,i){},getBoundingRect:function(){},contain:function(e,i){return this.rectContain(e,i)},traverse:function(e,i){e.call(i,this)},rectContain:function(e,m){var k=this.transformCoordToLocal(e,m);var i=this.getBoundingRect();return i.contain(k[0],k[1])},dirty:function(){this.__dirty=this.__dirtyText=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,i){if(e!=="style"){s3.prototype.attrKV.call(this,e,i)}else{this.style.set(i)}},setStyle:function(e,i){this.style.set(e,i);this.dirty(false);return this},useStyle:function(e){this.style=new xW(e,this);this.dirty(false);return this}};mt(Il,s3);Gu(Il,zb);function Fx(e){Il.call(this,e)}Fx.prototype={constructor:Fx,type:"image",brush:function(Iu,k){var m=this.style;var i=m.image;m.bind(Iu,this,k);var v1=this._image=pc(i,this._image,this,this.onload);if(!v1||!GG(v1)){return}var Is=m.x||0;var Iq=m.y||0;var v=m.width;var It=m.height;var e=v1.width/v1.height;if(v==null&&It!=null){v=It*e}else{if(It==null&&v!=null){It=v/e}else{if(v==null&&It==null){v=v1.width;It=v1.height}}}this.setTransform(Iu);if(m.sWidth&&m.sHeight){var Ir=m.sx||0;var v3=m.sy||0;Iu.drawImage(v1,Ir,v3,m.sWidth,m.sHeight,Is,Iq,v,It)}else{if(m.sx&&m.sy){var Ir=m.sx;var v3=m.sy;var Z=v-Ir;var v2=It-v3;Iu.drawImage(v1,Ir,v3,Z,v2,Is,Iq,v,It)}else{Iu.drawImage(v1,Is,Iq,v,It)}}if(m.text!=null){this.restoreTransform(Iu);this.drawRectText(Iu,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;if(!this._rect){this._rect=new CL(e.x||0,e.y||0,e.width||0,e.height||0)}return this._rect}};mt(Fx,Il);var DT=100000;var s=314159;var f6=0.01;var xs=0.001;function Ei(e){return parseInt(e,10)}function S(e){if(!e){return false}if(e.__builtin__){return true}if(typeof(e.resize)!=="function"||typeof(e.refresh)!=="function"){return false}return true}var jH=new CL(0,0,0,0);var nf=new CL(0,0,0,0);function or(k,i,e){jH.copy(k.getBoundingRect());if(k.transform){jH.applyTransform(k.transform)}nf.width=i;nf.height=e;return !jH.intersect(nf)}function Bk(m,e){if(m==e){return false}if(!m||!e||(m.length!==e.length)){return true}for(var k=0;k<m.length;k++){if(m[k]!==e[k]){return true}}}function f9(v,e){for(var k=0;k<v.length;k++){var m=v[k];m.setTransform(e);e.beginPath();m.buildPath(e,m.shape);e.clip();m.restoreTransform(e)}}function D8(k,i){var e=document.createElement("div");e.style.cssText=["position:relative","overflow:hidden","width:"+k+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var aQ=function(v3,Z,e){this.type="canvas";var v2=!v3.nodeName||v3.nodeName.toUpperCase()==="CANVAS";this._opts=e=b0({},e||{});this.dpr=e.devicePixelRatio||h5;this._singleCanvas=v2;this.root=v3;var i=v3.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";v3.innerHTML=""}this.storage=Z;var m=this._zlevelList=[];var v=this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;if(!v2){this._width=this._getSize(0);this._height=this._getSize(1);var Iq=this._domRoot=D8(this._width,this._height);v3.appendChild(Iq)}else{var k=v3.width;var Ir=v3.height;if(e.width!=null){k=e.width}if(e.height!=null){Ir=e.height}this.dpr=e.devicePixelRatio||1;v3.width=k*this.dpr;v3.height=Ir*this.dpr;this._width=k;this._height=Ir;var v1=new el(v3,this,this.dpr);v1.__builtin__=true;v1.initContext();v[s]=v1;v1.zlevel=s;m.push(s);this._domRoot=v3}this._hoverlayer=null;this._hoverElements=[]};aQ.prototype={constructor:aQ,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(e){var v1=this.storage.getDisplayList(true);var v=this._zlevelList;this._redrawId=Math.random();this._paintList(v1,e,this._redrawId);for(var m=0;m<v.length;m++){var v2=v[m];var k=this._layers[v2];if(!k.__builtin__&&k.refresh){var Z=m===0?this._backgroundColor:null;k.refresh(Z)}}this.refreshHover();return this},addHover:function(e,i){if(e.__hoverMir){return}var k=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});k.__from=e;e.__hoverMir=k;i&&k.setStyle(i);this._hoverElements.push(k);return k},removeHover:function(k){var m=k.__hoverMir;var i=this._hoverElements;var e=eR(i,m);if(e>=0){i.splice(e,1)}k.__hoverMir=null},clearHover:function(m){var e=this._hoverElements;for(var k=0;k<e.length;k++){var v=e[k].__from;if(v){v.__hoverMir=null}}e.length=0},refreshHover:function(){var k=this._hoverElements;var e=k.length;var v1=this._hoverlayer;v1&&v1.clear();if(!e){return}qx(k,this.storage.displayableSortFunc);if(!v1){v1=this._hoverlayer=this.getLayer(DT)}var Z={};v1.ctx.save();for(var m=0;m<e;){var v=k[m];var v2=v.__from;if(!(v2&&v2.__zr)){k.splice(m,1);v2.__hoverMir=null;e--;continue}m++;if(!v2.invisible){v.transform=v2.transform;v.invTransform=v2.invTransform;v.__clipPaths=v2.__clipPaths;this._doPaintEl(v,v1,true,Z)}}v1.ctx.restore()},getHoverLayer:function(){return this.getLayer(DT)},_paintList:function(m,i,k){if(this._redrawId!==k){return}i=i||false;this._updateLayerStatus(m);var v=this._doPaintList(m,i);if(this._needsManuallyCompositing){this._compositeManually()}if(!v){var e=this;nw(function(){e._paintList(m,i,k)})}},_compositeManually:function(){var i=this.getLayer(s).ctx;var k=this._domRoot.width;var e=this._domRoot.height;i.clearRect(0,0,k,e);this.eachBuiltinLayer(function(m){if(m.virtual){i.drawImage(m.dom,0,0,k,e)}})},_doPaintList:function(Iz,It){var Iy=[];for(var Iq=0;Iq<this._zlevelList.length;Iq++){var e=this._zlevelList[Iq];var IA=this._layers[e];if(IA.__builtin__&&IA!==this._hoverlayer&&(IA.__dirty||It)){Iy.push(IA)}}var Ir=true;for(var Iw=0;Iw<Iy.length;Iw++){var IA=Iy[Iw];var Iv=IA.ctx;var m={};Iv.save();var v2=It?IA.__startIndex:IA.__drawIndex;var Iu=!It&&IA.incremental&&Date.now;var Is=Iu&&Date.now();var Z=IA.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(IA.__startIndex===IA.__endIndex){IA.clear(false,Z)}else{if(v2===IA.__startIndex){var v1=Iz[v2];if(!v1.incremental||!v1.notClear||It){IA.clear(false,Z)}}}if(v2===-1){console.error("For some unknown reason. drawIndex is -1");v2=IA.__startIndex}for(var Ix=v2;Ix<IA.__endIndex;Ix++){var v=Iz[Ix];this._doPaintEl(v,IA,It,m);v.__dirty=v.__dirtyText=false;if(Iu){var v3=Date.now()-Is;if(v3>15){break}}}IA.__drawIndex=Ix;if(IA.__drawIndex<IA.__endIndex){Ir=false}if(m.prevElClipPaths){Iv.restore()}Iv.restore()}if(sZ.wxa){pb(this._layers,function(i){if(i&&i.ctx&&i.ctx.draw){i.ctx.draw()}})}return Ir},_doPaintEl:function(Z,k,v2,v){var i=k.ctx;var e=Z.transform;if((k.__dirty||v2)&&!Z.invisible&&Z.style.opacity!==0&&!(e&&!e[0]&&!e[3])&&!(Z.culling&&or(Z,this._width,this._height))){var v1=Z.__clipPaths;if(!v.prevElClipPaths||Bk(v1,v.prevElClipPaths)){if(v.prevElClipPaths){k.ctx.restore();v.prevElClipPaths=null;v.prevEl=null}if(v1){i.save();f9(v1,i);v.prevElClipPaths=v1}}Z.beforeBrush&&Z.beforeBrush(i);Z.brush(i,v.prevEl||null);v.prevEl=Z;Z.afterBrush&&Z.afterBrush(i)}},getLayer:function(e,k){if(this._singleCanvas&&!this._needsManuallyCompositing){e=s}var i=this._layers[e];if(!i){i=new el("zr_"+e,this,this.dpr);i.zlevel=e;i.__builtin__=true;if(this._layerConfig[e]){v7(i,this._layerConfig[e],true)}if(k){i.virtual=k}this.insertLayer(e,i);i.initContext()}return i},insertLayer:function(Z,v2){var e=this._layers;var m=this._zlevelList;var v3=m.length;var k=null;var v=-1;var Iq=this._domRoot;if(e[Z]){Gy("ZLevel "+Z+" has been used already");return}if(!S(v2)){Gy("Layer of zlevel "+Z+" is not valid");return}if(v3>0&&Z>m[0]){for(v=0;v<v3-1;v++){if(m[v]<Z&&m[v+1]>Z){break}}k=e[m[v]]}m.splice(v+1,0,Z);e[Z]=v2;if(!v2.virtual){if(k){var v1=k.dom;if(v1.nextSibling){Iq.insertBefore(v2.dom,v1.nextSibling)}else{Iq.appendChild(v2.dom)}}else{if(Iq.firstChild){Iq.insertBefore(v2.dom,Iq.firstChild)}else{Iq.appendChild(v2.dom)}}}},eachLayer:function(e,m){var v=this._zlevelList;var Z;var k;for(k=0;k<v.length;k++){Z=v[k];e.call(m,this._layers[Z],Z)}},eachBuiltinLayer:function(e,v){var Z=this._zlevelList;var m;var v1;var k;for(k=0;k<Z.length;k++){v1=Z[k];m=this._layers[v1];if(m.__builtin__){e.call(v,m,v1)}}},eachOtherLayer:function(e,v){var Z=this._zlevelList;var m;var v1;var k;for(k=0;k<Z.length;k++){v1=Z[k];m=this._layers[v1];if(!m.__builtin__){e.call(v,m,v1)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(v2){this.eachBuiltinLayer(function(i,Iq){i.__dirty=i.__used=false});function v1(i){if(v){if(v.__endIndex!==i){v.__dirty=true}v.__endIndex=i}}if(this._singleCanvas){for(var m=1;m<v2.length;m++){var Z=v2[m];if(Z.zlevel!==v2[m-1].zlevel||Z.incremental){this._needsManuallyCompositing=true;break}}}var v=null;var v3=0;for(var m=0;m<v2.length;m++){var Z=v2[m];var e=Z.zlevel;var k;if(Z.incremental){k=this.getLayer(e+xs,this._needsManuallyCompositing);k.incremental=true;v3=1}else{k=this.getLayer(e+(v3>0?f6:0),this._needsManuallyCompositing)}if(!k.__builtin__){Gy("ZLevel "+e+" has been used by unkown layer "+k.id)}if(k!==v){k.__used=true;if(k.__startIndex!==m){k.__dirty=true}k.__startIndex=m;if(!k.incremental){k.__drawIndex=m}else{k.__drawIndex=-1}v1(m);v=k}if(Z.__dirty){k.__dirty=true;if(k.incremental&&k.__drawIndex<0){k.__drawIndex=m}}}v1(m);this.eachBuiltinLayer(function(i,Iq){if(!i.__used&&i.getElementCount()>0){i.__dirty=true;i.__startIndex=i.__endIndex=i.__drawIndex=0}if(i.__dirty&&i.__drawIndex<0){i.__drawIndex=i.__startIndex}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,m){if(m){var k=this._layerConfig;if(!k[e]){k[e]=m}else{v7(k[e],m,true)}for(var v1=0;v1<this._zlevelList.length;v1++){var Z=this._zlevelList[v1];if(Z===e||Z===e+f6){var v=this._layers[Z];v7(v,k[e],true)}}}},delLayer:function(e){var m=this._layers;var k=this._zlevelList;var i=m[e];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete m[e];k.splice(eR(k,e),1)},resize:function(k,i){if(!this._domRoot.style){if(k==null||i==null){return}this._width=k;this._height=i;this.getLayer(s).resize(k,i)}else{var e=this._domRoot;e.style.display="none";var m=this._opts;k!=null&&(m.width=k);i!=null&&(m.height=i);k=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!=k||i!=this._height){e.style.width=k+"px";e.style.height=i+"px";for(var v in this._layers){if(this._layers.hasOwnProperty(v)){this._layers[v].resize(k,i)}}pb(this._progressiveLayers,function(Z){Z.resize(k,i)});this.refresh(true)}this._width=k;this._height=i}return this},clearLayer:function(e){var i=this._layers[e];if(i){i.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){e=e||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[s].dom}var k=new el("image",this,e.pixelRatio||this.dpr);k.initContext();k.clear(false,e.backgroundColor||this._backgroundColor);if(e.pixelRatio<=this.dpr){this.refresh();var m=k.dom.width;var v2=k.dom.height;var Iq=k.ctx;this.eachLayer(function(i){if(i.__builtin__){Iq.drawImage(i.dom,0,0,m,v2)}else{if(i.renderToCanvas){k.ctx.save();i.renderToCanvas(k.ctx);k.ctx.restore()}}})}else{var v3={};var Z=this.storage.getDisplayList(true);for(var v1=0;v1<Z.length;v1++){var v=Z[v1];this._doPaintEl(v,k,true,v3)}}return k.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v2=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v2[m]!=null&&v2[m]!=="auto"){return parseFloat(v2[m])}var i=this.root;var v1=document.defaultView.getComputedStyle(i);return((i[k]||Ei(v1[m])||Ei(i.style[m]))-(Ei(v1[Z])||0)-(Ei(v1[e])||0))|0},pathToImage:function(Iq,e){e=e||this.dpr;var v=document.createElement("canvas");var Iu=v.getContext("2d");var m=Iq.getBoundingRect();var Iw=Iq.style;var Iy=Iw.shadowBlur*e;var Is=Iw.shadowOffsetX*e;var Ir=Iw.shadowOffsetY*e;var i=Iw.hasStroke()?Iw.lineWidth:0;var Iv=Math.max(i/2,-Is+Iy);var Ix=Math.max(i/2,Is+Iy);var k=Math.max(i/2,-Ir+Iy);var v1=Math.max(i/2,Ir+Iy);var It=m.width+Iv+Ix;var v3=m.height+k+v1;v.width=It*e;v.height=v3*e;Iu.scale(e,e);Iu.clearRect(0,0,It,v3);Iu.dpr=e;var v2={position:Iq.position,rotation:Iq.rotation,scale:Iq.scale};Iq.position=[Iv-m.x,k-m.y];Iq.rotation=0;Iq.scale=[1,1];Iq.updateTransform();if(Iq){Iq.brush(Iu)}var Z=Fx;var Iz=new Z({style:{x:0,y:0,image:v}});if(v2.position!=null){Iz.position=Iq.position=v2.position}if(v2.rotation!=null){Iz.rotation=Iq.rotation=v2.rotation}if(v2.scale!=null){Iz.scale=Iq.scale=v2.scale}return Iz}};var x5=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;Gg.call(this)};x5.prototype={constructor:x5,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var m=0;m<k.length;m++){this.addClip(k[m])}},removeClip:function(i){var e=eR(this._clips,i);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var m=0;m<k.length;m++){this.removeClip(k[m])}e.animation=null},_update:function(){var v=new Date().getTime()-this._pausedTime;var Ir=v-this._time;var k=this._clips;var v2=k.length;var m=[];var Iq=[];for(var v1=0;v1<v2;v1++){var Z=k[v1];var v3=Z.step(v,Ir);if(v3){m.push(v3);Iq.push(Z)}}for(var v1=0;v1<v2;){if(k[v1]._needsRemove){k[v1]=k[v2-1];k.pop();v2--}else{v1++}}v2=m.length;for(var v1=0;v1<v2;v1++){Iq[v1].fire(m[v1])}this._time=v;this.onframe(Ir);this.trigger("frame",Ir);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function i(){if(e._running){nw(i);!e._paused&&e._update()}}nw(i)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(k,i){i=i||{};var e=new gP(k,i.loop,i.getter,i.setter);this.addAnimator(e);return e}};Gu(x5,Gg);var an=function(){this._track=[]};an.prototype={constructor:an,recognize:function(i,k,e){this._doTrack(i,k,e);return this._recognize(i)},clear:function(){this._track.length=0;return this},_doTrack:function(e,v1,Iq){var v=e.touches;if(!v){return}var v3={points:[],touches:[],target:v1,event:e};for(var m=0,Z=v.length;m<Z;m++){var k=v[m];var v2=BZ(Iq,k,{});v3.points.push([v2.zrX,v2.zrY]);v3.touches.push(k)}this._track.push(v3)},_recognize:function(i){for(var e in X){if(X.hasOwnProperty(e)){var k=X[e](this._track,i);if(k){return k}}}}};function dx(k){var i=k[1][0]-k[0][0];var e=k[1][1]-k[0][1];return Math.sqrt(i*i+e*e)}function h7(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var X={pinch:function(k,Z){var i=k.length;if(!i){return}var v1=(k[i-1]||{}).points;var m=(k[i-2]||{}).points||v1;if(m&&m.length>1&&v1&&v1.length>1){var v=dx(v1)/dx(m);!isFinite(v)&&(v=1);Z.pinchScale=v;var e=h7(v1);Z.pinchX=e[0];Z.pinchY=e[1];return{type:"pinch",target:k[0].target,event:Z}}}};var iU=300;var iI=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var n7=["touchstart","touchend","touchmove"];var fY={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var mv=Ej(iI,function(i){var e=i.replace("mouse","pointer");return fY[e]?e:i});function x8(e){return(e==="mousewheel"&&sZ.browser.firefox)?"DOMMouseScroll":e}function r(i,m,e){var v=i._gestureMgr;e==="start"&&v.clear();var Z=v.recognize(m,i.handler.findHover(m.zrX,m.zrY,null).target,i.dom);e==="end"&&v.clear();if(Z){var k=Z.type;m.gestureEvent=k;i.handler.dispatchToElement({target:Z.target},k,Z.event)}}function qM(e){e._touching=true;clearTimeout(e._touchTimer);e._touchTimer=setTimeout(function(){e._touching=false},700)}var Dp={mousemove:function(e){e=Bg(this.dom,e);this.trigger("mousemove",e)},mouseout:function(i){i=Bg(this.dom,i);var e=i.toElement||i.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",i)},touchstart:function(e){e=Bg(this.dom,e);e.zrByTouch=true;this._lastTouchMoment=new Date();r(this,e,"start");Dp.mousemove.call(this,e);Dp.mousedown.call(this,e);qM(this)},touchmove:function(e){e=Bg(this.dom,e);e.zrByTouch=true;r(this,e,"change");Dp.mousemove.call(this,e);qM(this)},touchend:function(e){e=Bg(this.dom,e);e.zrByTouch=true;r(this,e,"end");Dp.mouseup.call(this,e);if(+new Date()-this._lastTouchMoment<iU){Dp.click.call(this,e)}qM(this)},pointerdown:function(e){Dp.mousedown.call(this,e)},pointermove:function(e){if(!B2(e)){Dp.mousemove.call(this,e)}},pointerup:function(e){Dp.mouseup.call(this,e)},pointerout:function(e){if(!B2(e)){Dp.mouseout.call(this,e)}}};function B2(i){var e=i.pointerType;return e==="pen"||e==="touch"}pb(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Dp[e]=function(i){i=Bg(this.dom,i);this.trigger(e,i)}});function f5(e){pb(n7,function(k){e._handlers[k]=ko(Dp[k],e)});pb(mv,function(k){e._handlers[k]=ko(Dp[k],e)});pb(iI,function(k){e._handlers[k]=i(Dp[k],e)});function i(m,k){return function(){if(k._touching){return}return m.apply(k,arguments)}}}function ka(i){Gg.call(this);this.dom=i;this._touching=false;this._touchTimer;this._gestureMgr=new an();this._handlers={};f5(this);if(sZ.pointerEventsSupported){e(mv,this)}else{if(sZ.touchEventsSupported){e(n7,this)}e(iI,this)}function e(m,k){pb(m,function(v){ft(i,x8(v),k._handlers[v])},k)}}var kh=ka.prototype;kh.dispose=function(){var m=iI.concat(n7);for(var k=0;k<m.length;k++){var e=m[k];qC(this.dom,x8(e),this._handlers[e])}};kh.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Gu(ka,Gg);
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var rQ=!sZ.canvasSupported;var vt={canvas:aQ};var gy={};var s8="4.0.5";function nG(k,e){var i=new jU(dr(),k,e);gy[i.id]=i;return i}function CJ(i){if(i){i.dispose()}else{for(var e in gy){if(gy.hasOwnProperty(e)){gy[e].dispose()}}gy={}}return this}function xM(e){return gy[e]}function w6(i,e){vt[i]=e}function ix(e){delete gy[e]}var jU=function(k,v,i){i=i||{};this.dom=v;this.id=k;var Iq=this;var Z=new dw();var v1=i.renderer;if(rQ){if(!vt.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}v1="vml"}else{if(!v1||!vt[v1]){v1="canvas"}}var v2=new vt[v1](v,Z,i,k);this.storage=Z;this.painter=v2;var m=(!sZ.node&&!sZ.worker)?new ka(v2.getViewportRoot()):null;this.handler=new ew(Z,v2,m,v2.root);this.animation=new x5({stage:{update:ko(this.flush,this)}});this.animation.start();this._needsRefresh;var e=Z.delFromStorage;var v3=Z.addToStorage;Z.delFromStorage=function(Ir){e.call(Z,Ir);Ir&&Ir.removeSelfFromZr(Iq)};Z.addToStorage=function(Ir){v3.call(Z,Ir);Ir.addSelfToZr(Iq)}};jU.prototype={constructor:jU,getId:function(){return this.id},add:function(e){this.storage.addRoot(e);this._needsRefresh=true},remove:function(e){this.storage.delRoot(e);this._needsRefresh=true},configLayer:function(i,e){if(this.painter.configLayer){this.painter.configLayer(i,e)}this._needsRefresh=true},setBackgroundColor:function(e){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(e)}this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){var e;if(this._needsRefresh){e=true;this.refreshImmediately()}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}e&&this.trigger("rendered")},addHover:function(i,e){if(this.painter.addHover){var k=this.painter.addHover(i,e);this.refreshHover();return k}},removeHover:function(e){if(this.painter.removeHover){this.painter.removeHover(e);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{};this.painter.resize(e.width,e.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(k,i){return this.painter.pathToImage(k,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,i){return this.handler.findHover(e,i)},on:function(e,k,i){this.handler.on(e,k,i)},off:function(e,i){this.handler.off(e,i)},trigger:function(e,i){this.handler.trigger(e,i)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;ix(this.id)}};var ls=(Object.freeze||Object)({version:s8,init:nG,dispose:CJ,getInstance:xM,registerPainter:w6});var pa=pb;var tL=tM;var Ip=GL;var uF="series\0";function mr(e){return e instanceof Array?e:e==null?[]:[e]}function DE(v,m,v1){if(v){v[m]=v[m]||{};v.emphasis=v.emphasis||{};v.emphasis[m]=v.emphasis[m]||{};for(var k=0,e=v1.length;k<e;k++){var Z=v1[k];if(!v.emphasis[m].hasOwnProperty(Z)&&v[m].hasOwnProperty(Z)){v.emphasis[m][Z]=v[m][Z]}}}}var Bp=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function x0(e){return(tL(e)&&!Ip(e)&&!(e instanceof Date))?e.value:e}function oc(e){return tL(e)&&!(e instanceof Array)}function da(k,i){i=(i||[]).slice();var e=Ej(k||[],function(v,m){return{exist:v}});pa(i,function(m,v){if(!tL(m)){return}for(var Z=0;Z<e.length;Z++){if(!e[Z].option&&m.id!=null&&e[Z].exist.id===m.id+""){e[Z].option=m;i[v]=null;return}}for(var Z=0;Z<e.length;Z++){var v1=e[Z].exist;if(!e[Z].option&&(v1.id==null||m.id==null)&&m.name!=null&&!HM(m)&&!HM(v1)&&v1.name===m.name+""){e[Z].option=m;i[v]=null;return}}});pa(i,function(m,v){if(!tL(m)){return}var Z=0;for(;Z<e.length;Z++){var v1=e[Z].exist;if(!e[Z].option&&!HM(v1)&&m.id==null){e[Z].option=m;break}}if(Z>=e.length){e.push({option:m})}});return e}function z8(i){var e=CN();pa(i,function(v,k){var m=v.exist;m&&e.set(m.id,v)});pa(i,function(v,k){var m=v.option;bM(!m||m.id==null||!e.get(m.id)||e.get(m.id)===v,"id duplicates: "+(m&&m.id));m&&m.id!=null&&e.set(m.id,v);!v.keyInfo&&(v.keyInfo={})});pa(i,function(Z,k){var v=Z.exist;var m=Z.option;var v2=Z.keyInfo;if(!tL(m)){return}v2.name=m.name!=null?m.name+"":v?v.name:uF+k;if(v){v2.id=v.id}else{if(m.id!=null){v2.id=m.id+""}else{var v1=0;do{v2.id="\0"+v2.name+"\0"+v1++}while(e.get(v2.id))}}e.set(v2.id,Z)})}function qY(e){var i=e.name;return !!(i&&i.indexOf(uF))}function HM(e){return tL(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function cp(v,m){var k={};var e={};Z(v||[],k);Z(m||[],e,k);return[i(k),i(e)];function Z(Ir,Ix,Is){for(var Iq=0,It=Ir.length;Iq<It;Iq++){var Iv=Ir[Iq].seriesId;var v2=mr(Ir[Iq].dataIndex);var v1=Is&&Is[Iv];for(var v3=0,Iw=v2.length;v3<Iw;v3++){var Iu=v2[v3];if(v1&&v1[Iu]){v1[Iu]=null}else{(Ix[Iv]||(Ix[Iv]={}))[Iu]=1}}}}function i(v3,Ir){var v1=[];for(var v2 in v3){if(v3.hasOwnProperty(v2)&&v3[v2]!=null){if(Ir){v1.push(+v2)}else{var Iq=i(v3[v2],true);Iq.length&&v1.push({seriesId:v2,dataIndex:Iq})}}}return v1}}function xh(e,i){if(i.dataIndexInside!=null){return i.dataIndexInside}else{if(i.dataIndex!=null){return GL(i.dataIndex)?Ej(i.dataIndex,function(k){return e.indexOfRawIndex(k)}):e.indexOfRawIndex(i.dataIndex)}else{if(i.name!=null){return GL(i.name)?Ej(i.name,function(k){return e.indexOfName(k)}):e.indexOfName(i.name)}}}}function fM(){var e="__\0ec_inner_"+j+++"_"+Math.random().toFixed(5);return function(i){return i[e]||(i[e]={})}}var j=0;function nH(i,v,k){if(we(v)){var m={};m[v+"Index"]=0;v=m}var Z=k&&k.defaultMainType;if(Z&&!oB(v,Z+"Index")&&!oB(v,Z+"Id")&&!oB(v,Z+"Name")){v[Z+"Index"]=0}var e={};pa(v,function(Ir,v2){var Ir=v[v2];if(v2==="dataIndex"||v2==="dataIndexInside"){e[v2]=Ir;return}var Iq=v2.match(/^(\w+)(Index|Id|Name)$/)||[];var It=Iq[1];var v1=(Iq[2]||"").toLowerCase();if(!It||!v1||Ir==null||(v1==="index"&&Ir==="none")||(k&&k.includeMainTypes&&eR(k.includeMainTypes,It)<0)){return}var v3={mainType:It};if(v1!=="index"||Ir!=="all"){v3[v1]=Ir}var Is=i.queryComponents(v3);e[It+"Models"]=Is;e[It+"Model"]=Is[0]});return e}function oB(e,i){return e&&e.hasOwnProperty(i)}function bU(k,e,i){k.setAttribute?k.setAttribute(e,i):(k[e]=i)}function vQ(i,e){return i.getAttribute?i.getAttribute(e):i[e]}function zc(e){if(e==="auto"){return sZ.domSupported?"html":"richText"}else{return e||"html"}}var H0=".";var i4="___EC__COMPONENT__CONTAINER___";function pf(i){var e={main:"",sub:""};if(i){i=i.split(H0);e.main=i[0]||"";e.sub=i[1]||""}return e}function uJ(e){bM(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function AL(i,e){i.$constructor=i;i.extend=function(m){if(om){pb(e,function(Z){if(!m[Z]){console.warn("Method `"+Z+"` should be implemented"+(m.type?" in "+m.type:"")+".")}})}var k=this;var v=function(){if(!m.$constructor){k.apply(this,arguments)}else{m.$constructor.apply(this,arguments)}};b0(v.prototype,m);v.extend=this.extend;v.superCall=kH;v.superApply=yC;mt(v,this);v.superClass=k;return v}}var cm=0;function Ab(e){var i=["__\0is_clz",cm++,Math.random().toFixed(3)].join("_");e.prototype[i]=true;if(om){bM(!e.isInstance,'The method "is" can not be defined.')}e.isInstance=function(k){return !!(k&&k[i])}}function kH(k,e){var i=h9(arguments,2);return this.superClass.prototype[e].apply(k,i)}function yC(k,e,i){return this.superClass.prototype[e].apply(k,i)}function yo(e,i){i=i||{};var v={};e.registerClass=function(v2,v1){if(v1){uJ(v1);v1=pf(v1);if(!v1.sub){if(om){if(v[v1.main]){console.warn(v1.main+" exists.")}}v[v1.main]=v2}else{if(v1.sub!==i4){var Z=m(v1);Z[v1.sub]=v2}}}return v2};e.getClass=function(Z,v2,v3){var v1=v[Z];if(v1&&v1[i4]){v1=v2?v1[v2]:null}if(v3&&!v1){throw new Error(!v2?Z+".type should be specified.":"Component "+Z+"."+(v2||"")+" not exists. Load it first.")}return v1};e.getClassesByMainType=function(v1){v1=pf(v1);var Z=[];var v2=v[v1.main];if(v2&&v2[i4]){pb(v2,function(Iq,v3){v3!==i4&&Z.push(Iq)})}else{Z.push(v2)}return Z};e.hasClass=function(Z){Z=pf(Z);return !!v[Z.main]};e.getAllClassMainTypes=function(){var Z=[];pb(v,function(v2,v1){Z.push(v1)});return Z};e.hasSubTypes=function(Z){Z=pf(Z);var v1=v[Z.main];return v1&&v1[i4]};e.parseClassType=pf;function m(v1){var Z=v[v1.main];if(!Z||!Z[i4]){Z=v[v1.main]={};Z[i4]=true}return Z}if(i.registerWhenExtend){var k=e.extend;if(k){e.extend=function(Z){var v1=k.call(this,Z);return e.registerClass(v1,Z.type)}}}return e}var yS=function(k){for(var e=0;e<k.length;e++){if(!k[e][1]){k[e][1]=k[e][0]}}return function(m,Iq,Z){var v1={};for(var v=0;v<k.length;v++){var v2=k[v][1];if((Iq&&eR(Iq,v2)>=0)||(Z&&eR(Z,v2)<0)){continue}var v3=m.getShallow(v2);if(v3!=null){v1[k[v][0]]=v3}}return v1}};var kj=yS([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var dg={getLineStyle:function(k){var i=kj(this,k);var e=this.getLineDash(i.lineWidth);e&&(i.lineDash=e);return i},getLineDash:function(i){if(i==null){i=1}var m=this.get("type");var k=Math.max(i,2);var e=i*4;return(m==="solid"||m==null)?null:(m==="dashed"?[e,e]:[k,k])}};var T=yS([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var fZ={getAreaStyle:function(i,e){return T(this,i,e)}};var wX=Math.pow;var hm=Math.sqrt;var lr=1e-8;var CC=0.0001;var bG=hm(3);var bP=1/3;var bt=Hd();var bs=Hd();var bq=Hd();function Gs(e){return e>-lr&&e<lr}function vI(e){return e>lr||e<-lr}function aS(Z,v,m,k,e){var i=1-e;return i*i*(i*Z+3*e*v)+e*e*(e*k+3*i*m)}function gX(Z,v,m,k,e){var i=1-e;return 3*(((v-Z)*i+2*(m-v)*e)*i+(k-m)*e*e)}function c4(Z,v,m,i,IG,Ir){var IF=i+3*(v-m)-Z;var IE=3*(m-v*2+Z);var ID=3*(v-Z);var IB=Z-IG;var Iz=IE*IE-3*IF*ID;var Iy=IE*ID-9*IF*IB;var Ix=ID*ID-3*IE*IB;var IA=0;if(Gs(Iz)&&Gs(Iy)){if(Gs(IE)){Ir[0]=0}else{var Iw=-ID/IE;if(Iw>=0&&Iw<=1){Ir[IA++]=Iw}}}else{var e=Iy*Iy-4*Iz*Ix;if(Gs(e)){var Iu=Iy/Iz;var Iw=-IE/IF+Iu;var Iv=-Iu/2;if(Iw>=0&&Iw<=1){Ir[IA++]=Iw}if(Iv>=0&&Iv<=1){Ir[IA++]=Iv}}else{if(e>0){var k=hm(e);var v3=Iz*IE+1.5*IF*(-Iy+k);var v2=Iz*IE+1.5*IF*(-Iy-k);if(v3<0){v3=-wX(-v3,bP)}else{v3=wX(v3,bP)}if(v2<0){v2=-wX(-v2,bP)}else{v2=wX(v2,bP)}var Iw=(-IE-(v3+v2))/(3*IF);if(Iw>=0&&Iw<=1){Ir[IA++]=Iw}}else{var v1=(2*Iz*IE-3*IF*Iy)/(2*hm(Iz*Iz*Iz));var Is=Math.acos(v1)/3;var Iq=hm(Iz);var IC=Math.cos(Is);var Iw=(-IE-2*Iq*IC)/(3*IF);var Iv=(-IE+Iq*(IC+bG*Math.sin(Is)))/(3*IF);var It=(-IE+Iq*(IC-bG*Math.sin(Is)))/(3*IF);if(Iw>=0&&Iw<=1){Ir[IA++]=Iw}if(Iv>=0&&Iv<=1){Ir[IA++]=Iv}if(It>=0&&It<=1){Ir[IA++]=It}}}}return IA}function Eq(Is,Ir,Iq,v3,v){var v1=6*Iq-12*Ir+6*Is;var v2=9*Ir+3*v3-3*Is-9*Iq;var Z=3*Ir-3*Is;var e=0;if(Gs(v2)){if(vI(v1)){var m=-Z/v1;if(m>=0&&m<=1){v[e++]=m}}}else{var i=v1*v1-4*v2*Z;if(Gs(i)){v[0]=-v1/(2*v2)}else{if(i>0){var It=hm(i);var m=(-v1+It)/(2*v2);var k=(-v1-It)/(2*v2);if(m>=0&&m<=1){v[e++]=m}if(k>=0&&k<=1){v[e++]=k}}}}return e}function gp(Iq,v3,v2,v1,Ir,i){var k=(v3-Iq)*Ir+Iq;var e=(v2-v3)*Ir+v3;var m=(v1-v2)*Ir+v2;var Is=(e-k)*Ir+k;var Z=(m-e)*Ir+e;var v=(Z-Is)*Ir+Is;i[0]=Iq;i[1]=k;i[2]=Is;i[3]=v;i[4]=v;i[5]=Z;i[6]=m;i[7]=v1}function q6(Iw,v,Iv,m,Iu,k,It,e,v1,Z,Is){var v2;var Iz=0.005;var Iy=Infinity;var v3;var Iq;var IB;var IA;bt[0]=v1;bt[1]=Z;for(var Ix=0;Ix<1;Ix+=0.05){bs[0]=aS(Iw,Iv,Iu,It,Ix);bs[1]=aS(v,m,k,e,Ix);IB=cl(bt,bs);if(IB<Iy){v2=Ix;Iy=IB}}Iy=Infinity;for(var Ir=0;Ir<32;Ir++){if(Iz<CC){break}v3=v2-Iz;Iq=v2+Iz;bs[0]=aS(Iw,Iv,Iu,It,v3);bs[1]=aS(v,m,k,e,v3);IB=cl(bs,bt);if(v3>=0&&IB<Iy){v2=v3;Iy=IB}else{bq[0]=aS(Iw,Iv,Iu,It,Iq);bq[1]=aS(v,m,k,e,Iq);IA=cl(bq,bt);if(Iq<=1&&IA<Iy){v2=Iq;Iy=IA}else{Iz*=0.5}}}if(Is){Is[0]=aS(Iw,Iv,Iu,It,v2);Is[1]=aS(v,m,k,e,v2)}return hm(Iy)}function ky(v,m,k,e){var i=1-e;return i*(i*v+2*e*m)+e*e*k}function vz(m,k,i,e){return 2*((1-e)*(k-m)+e*(i-k))}function sf(Is,Iq,v3,i,Ir){var v2=Is-2*Iq+v3;var v1=2*(Iq-Is);var Z=Is-i;var e=0;if(Gs(v2)){if(vI(v1)){var v=-Z/v1;if(v>=0&&v<=1){Ir[e++]=v}}}else{var k=v1*v1-4*v2*Z;if(Gs(k)){var v=-v1/(2*v2);if(v>=0&&v<=1){Ir[e++]=v}}else{if(k>0){var It=hm(k);var v=(-v1+It)/(2*v2);var m=(-v1-It)/(2*v2);if(v>=0&&v<=1){Ir[e++]=v}if(m>=0&&m<=1){Ir[e++]=m}}}}return e}function wo(m,k,i){var e=m+i-2*k;if(e===0){return 0.5}else{return(m-k)/e}}function EH(v2,v1,Z,k,i){var m=(v1-v2)*k+v2;var v=(Z-v1)*k+v1;var e=(v-m)*k+m;i[0]=v2;i[1]=m;i[2]=e;i[3]=e;i[4]=v;i[5]=Z}function Fm(Iu,m,It,k,Is,e,Z,v,Ir){var v1;var Ix=0.005;var Iw=Infinity;bt[0]=Z;bt[1]=v;for(var Iv=0;Iv<1;Iv+=0.05){bs[0]=ky(Iu,It,Is,Iv);bs[1]=ky(m,k,e,Iv);var Iz=cl(bt,bs);if(Iz<Iw){v1=Iv;Iw=Iz}}Iw=Infinity;for(var Iq=0;Iq<32;Iq++){if(Ix<CC){break}var v2=v1-Ix;var v3=v1+Ix;bs[0]=ky(Iu,It,Is,v2);bs[1]=ky(m,k,e,v2);var Iz=cl(bs,bt);if(v2>=0&&Iz<Iw){v1=v2;Iw=Iz}else{bq[0]=ky(Iu,It,Is,v3);bq[1]=ky(m,k,e,v3);var Iy=cl(bq,bt);if(v3<=1&&Iy<Iw){v1=v3;Iw=Iy}else{Ix*=0.5}}}if(Ir){Ir[0]=ky(Iu,It,Is,v1);Ir[1]=ky(m,k,e,v1)}return hm(Iw)}var jx=Math.min;var AQ=Math.max;var G2=Math.sin;var Ai=Math.cos;var gt=Math.PI*2;var c=Hd();var hK=Hd();var eD=Hd();function oK(v2,v1,v3){if(v2.length===0){return}var k=v2[0];var m=k[0];var Iq=k[0];var Z=k[1];var e=k[1];var v;for(v=1;v<v2.length;v++){k=v2[v];m=jx(m,k[0]);Iq=AQ(Iq,k[0]);Z=jx(Z,k[1]);e=AQ(e,k[1])}v1[0]=m;v1[1]=Z;v3[0]=Iq;v3[1]=e}function on(k,Z,e,v,m,i){m[0]=jx(k,e);m[1]=jx(Z,v);i[0]=AQ(k,e);i[1]=AQ(Z,v)}var r5=[];var CT=[];function ax(v,Iw,m,Iu,k,Ir,e,v3,It,Ix){var Iv=Eq;var v1=aS;var v2;var Z=Iv(v,m,k,e,r5);It[0]=Infinity;It[1]=Infinity;Ix[0]=-Infinity;Ix[1]=-Infinity;for(v2=0;v2<Z;v2++){var Is=v1(v,m,k,e,r5[v2]);It[0]=jx(Is,It[0]);Ix[0]=AQ(Is,Ix[0])}Z=Iv(Iw,Iu,Ir,v3,CT);for(v2=0;v2<Z;v2++){var Iq=v1(Iw,Iu,Ir,v3,CT[v2]);It[1]=jx(Iq,It[1]);Ix[1]=AQ(Iq,Ix[1])}It[0]=jx(v,It[0]);Ix[0]=AQ(v,Ix[0]);It[0]=jx(e,It[0]);Ix[0]=AQ(e,Ix[0]);It[1]=jx(Iw,It[1]);Ix[1]=AQ(Iw,Ix[1]);It[1]=jx(v3,It[1]);Ix[1]=AQ(v3,Ix[1])}function i1(m,It,k,Ir,e,v3,Is,Iu){var i=wo;var v1=ky;var Z=AQ(jx(i(m,k,e),1),0);var v=AQ(jx(i(It,Ir,v3),1),0);var Iq=v1(m,k,e,Z);var v2=v1(It,Ir,v3,v);Is[0]=jx(m,e,Iq);Is[1]=jx(It,v3,v2);Iu[0]=AQ(m,e,Iq);Iu[1]=AQ(It,v3,v2)}function rj(Ir,v3,i,e,v2,m,v,Iq,Iu){var It=By;var k=D9;var Is=Math.abs(v2-m);if(Is%gt<0.0001&&Is>0.0001){Iq[0]=Ir-i;Iq[1]=v3-e;Iu[0]=Ir+i;Iu[1]=v3+e;return}c[0]=Ai(v2)*i+Ir;c[1]=G2(v2)*e+v3;hK[0]=Ai(m)*i+Ir;hK[1]=G2(m)*e+v3;It(Iq,c,hK);k(Iu,c,hK);v2=v2%(gt);if(v2<0){v2=v2+gt}m=m%(gt);if(m<0){m=m+gt}if(v2>m&&!v){m+=gt}else{if(v2<m&&v){v2+=gt}}if(v){var v1=m;m=v2;v2=v1}for(var Z=0;Z<m;Z+=Math.PI/2){if(Z>v2){eD[0]=Ai(Z)*i+Ir;eD[1]=G2(Z)*e+v3;It(Iq,eD,Iq);k(Iu,eD,Iu)}}}var g9={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Bl=[];var iq=[];var vE=[];var at=[];var jy=Math.min;var AR=Math.max;var Al=Math.cos;var G4=Math.sin;var hn=Math.sqrt;var qS=Math.abs;var vO=typeof Float32Array!="undefined";var j7=function(e){this._saveData=!(e||false);if(this._saveData){this.data=[]}this._ctx=null};j7.prototype={constructor:j7,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(i,e){this._ux=qS(1/h5/i)||0;this._uy=qS(1/h5/e)||0},getContext:function(){return this._ctx},beginPath:function(e){this._ctx=e;e&&e.beginPath();e&&(this.dpr=e.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(e,i){this.addData(g9.M,e,i);this._ctx&&this._ctx.moveTo(e,i);this._x0=e;this._y0=i;this._xi=e;this._yi=i;return this},lineTo:function(e,k){var i=qS(e-this._xi)>this._ux||qS(k-this._yi)>this._uy||this._len<5;this.addData(g9.L,e,k);if(this._ctx&&i){this._needsDash()?this._dashedLineTo(e,k):this._ctx.lineTo(e,k)}if(i){this._xi=e;this._yi=k}return this},bezierCurveTo:function(m,Z,i,v,e,k){this.addData(g9.C,m,Z,i,v,e,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(m,Z,i,v,e,k):this._ctx.bezierCurveTo(m,Z,i,v,e,k)}this._xi=e;this._yi=k;return this},quadraticCurveTo:function(i,m,e,k){this.addData(g9.Q,i,m,e,k);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,m,e,k):this._ctx.quadraticCurveTo(i,m,e,k)}this._xi=e;this._yi=k;return this},arc:function(e,Z,m,k,i,v){this.addData(g9.A,e,Z,m,m,k,i-k,0,v?0:1);this._ctx&&this._ctx.arc(e,Z,m,k,i,v);this._xi=Al(i)*m+e;this._yi=G4(i)*m+Z;return this},arcTo:function(k,v,i,m,e){if(this._ctx){this._ctx.arcTo(k,v,i,m,e)}return this},rect:function(e,m,i,k){this._ctx&&this._ctx.rect(e,m,i,k);this.addData(g9.R,e,m,i,k);return this},closePath:function(){this.addData(g9.Z);var e=this._ctx;var i=this._x0;var k=this._y0;if(e){this._needsDash()&&this._dashedLineTo(i,k);e.closePath()}this._xi=i;this._yi=k;return this},fill:function(e){e&&e.fill();this.toStatic()},stroke:function(e){e&&e.stroke();this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var m=0;for(var k=0;k<e.length;k++){m+=e[k]}this._dashSum=m}return this},setLineDashOffset:function(e){this._dashOffset=e;return this},len:function(){return this._len},setData:function(m){var k=m.length;if(!(this.data&&this.data.length==k)&&vO){this.data=new Float32Array(k)}for(var e=0;e<k;e++){this.data[e]=m[e]}this._len=k},appendPath:function(v2){if(!(v2 instanceof Array)){v2=[v2]}var Z=v2.length;var m=0;var v3=this._len;for(var v=0;v<Z;v++){m+=v2[v].len()}if(vO&&(this.data instanceof Float32Array)){this.data=new Float32Array(v3+m)}for(var v=0;v<Z;v++){var v1=v2[v].data;for(var e=0;e<v1.length;e++){this.data[v3++]=v1[e]}}this._len=v3},addData:function(m){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var e=0;e<arguments.length;e++){k[this._len++]=arguments[e]}this._prevCmd=m},_expandData:function(){if(!(this.data instanceof Array)){var k=[];for(var e=0;e<this._len;e++){k[e]=this.data[e]}this.data=k}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,Ir){var v1=this._dashSum;var Z=this._dashOffset;var v=this._lineDash;var Iv=this._ctx;var i=this._xi;var It=this._yi;var Iw=e-i;var Iu=Ir-It;var m=hn(Iw*Iw+Iu*Iu);var Iq=i;var v3=It;var v2;var k=v.length;var Is;Iw/=m;Iu/=m;if(Z<0){Z=v1+Z}Z%=v1;Iq-=Z*Iw;v3-=Z*Iu;while((Iw>0&&Iq<=e)||(Iw<0&&Iq>=e)||(Iw==0&&((Iu>0&&v3<=Ir)||(Iu<0&&v3>=Ir)))){Is=this._dashIdx;v2=v[Is];Iq+=Iw*v2;v3+=Iu*v2;this._dashIdx=(Is+1)%k;if((Iw>0&&Iq<i)||(Iw<0&&Iq>i)||(Iu>0&&v3<It)||(Iu<0&&v3>It)){continue}Iv[Is%2?"moveTo":"lineTo"](Iw>=0?jy(Iq,e):AR(Iq,e),Iu>=0?jy(v3,Ir):AR(v3,Ir))}Iw=Iq-e;Iu=v3-Ir;this._dashOffset=-hn(Iw*Iw+Iu*Iu)},_dashedBezierTo:function(IB,k,IA,i,Iz,e){var Iy=this._dashSum;var v1=this._dashOffset;var v=this._lineDash;var Ix=this._ctx;var IC=this._xi;var m=this._yi;var It;var Is;var Ir;var Iu=aS;var v3=0;var Iv=this._dashIdx;var Iw=v.length;var Iq;var v2;var Z=0;if(v1<0){v1=Iy+v1}v1%=Iy;for(It=0;It<1;It+=0.1){Is=Iu(IC,IB,IA,Iz,It+0.1)-Iu(IC,IB,IA,Iz,It);Ir=Iu(m,k,i,e,It+0.1)-Iu(m,k,i,e,It);v3+=hn(Is*Is+Ir*Ir)}for(;Iv<Iw;Iv++){Z+=v[Iv];if(Z>v1){break}}It=(Z-v1)/v3;while(It<=1){Iq=Iu(IC,IB,IA,Iz,It);v2=Iu(m,k,i,e,It);Iv%2?Ix.moveTo(Iq,v2):Ix.lineTo(Iq,v2);It+=v[Iv]/v3;Iv=(Iv+1)%Iw}(Iv%2!==0)&&Ix.lineTo(Iz,e);Is=Iz-Iq;Ir=e-v2;this._dashOffset=-hn(Is*Is+Ir*Ir)},_dashedQuadraticTo:function(m,Z,i,v){var e=i;var k=v;i=(i+2*m)/3;v=(v+2*Z)/3;m=(this._xi+2*m)/3;Z=(this._yi+2*Z)/3;this._dashedBezierTo(m,Z,i,v,e,k)},toStatic:function(){var e=this.data;if(e instanceof Array){e.length=this._len;if(vO){this.data=new Float32Array(e)}}},getBoundingRect:function(){Bl[0]=Bl[1]=vE[0]=vE[1]=Number.MAX_VALUE;iq[0]=iq[1]=at[0]=at[1]=-Number.MAX_VALUE;var Is=this.data;var Iv=0;var Iq=0;var v=0;var Ix=0;for(var It=0;It<Is.length;){var v2=Is[It++];if(It==1){Iv=Is[It];Iq=Is[It+1];v=Iv;Ix=Iq}switch(v2){case g9.M:v=Is[It++];Ix=Is[It++];Iv=v;Iq=Ix;vE[0]=v;vE[1]=Ix;at[0]=v;at[1]=Ix;break;case g9.L:on(Iv,Iq,Is[It],Is[It+1],vE,at);Iv=Is[It++];Iq=Is[It++];break;case g9.C:ax(Iv,Iq,Is[It++],Is[It++],Is[It++],Is[It++],Is[It],Is[It+1],vE,at);Iv=Is[It++];Iq=Is[It++];break;case g9.Q:i1(Iv,Iq,Is[It++],Is[It++],Is[It],Is[It+1],vE,at);Iv=Is[It++];Iq=Is[It++];break;case g9.A:var Ir=Is[It++];var v3=Is[It++];var m=Is[It++];var e=Is[It++];var Iu=Is[It++];var Z=Is[It++]+Iu;var Iw=Is[It++];var v1=1-Is[It++];if(It==1){v=Al(Iu)*m+Ir;Ix=G4(Iu)*e+v3}rj(Ir,v3,m,e,Iu,Z,v1,vE,at);Iv=Al(Z)*m+Ir;Iq=G4(Z)*e+v3;break;case g9.R:v=Iv=Is[It++];Ix=Iq=Is[It++];var k=Is[It++];var Iy=Is[It++];on(v,Ix,v+k,Ix+Iy,vE,at);break;case g9.Z:Iv=v;Iq=Ix;break}By(Bl,Bl,vE);D9(iq,iq,at)}if(It===0){Bl[0]=Bl[1]=iq[0]=iq[1]=0}return new CL(Bl[0],Bl[1],iq[0]-Bl[0],iq[1]-Bl[1])},rebuildPath:function(Iy){var IE=this.data;var IC,v;var Iw,IH;var It,Is;var Iq=this._ux;var v2=this._uy;var e=this._len;for(var IA=0;IA<e;){var Iz=IE[IA++];if(IA==1){Iw=IE[IA];IH=IE[IA+1];IC=Iw;v=IH}switch(Iz){case g9.M:IC=Iw=IE[IA++];v=IH=IE[IA++];Iy.moveTo(Iw,IH);break;case g9.L:It=IE[IA++];Is=IE[IA++];if(qS(It-Iw)>Iq||qS(Is-IH)>v2||IA===e-1){Iy.lineTo(It,Is);Iw=It;IH=Is}break;case g9.C:Iy.bezierCurveTo(IE[IA++],IE[IA++],IE[IA++],IE[IA++],IE[IA++],IE[IA++]);Iw=IE[IA-2];IH=IE[IA-1];break;case g9.Q:Iy.quadraticCurveTo(IE[IA++],IE[IA++],IE[IA++],IE[IA++]);Iw=IE[IA-2];IH=IE[IA-1];break;case g9.A:var m=IE[IA++];var k=IE[IA++];var v1=IE[IA++];var Z=IE[IA++];var Ir=IE[IA++];var IB=IE[IA++];var ID=IE[IA++];var v3=IE[IA++];var Iv=(v1>Z)?v1:Z;var IG=(v1>Z)?1:v1/Z;var IF=(v1>Z)?Z/v1:1;var Iu=Math.abs(v1-Z)>0.001;var Ix=Ir+IB;if(Iu){Iy.translate(m,k);Iy.rotate(ID);Iy.scale(IG,IF);Iy.arc(0,0,Iv,Ir,Ix,1-v3);Iy.scale(1/IG,1/IF);Iy.rotate(-ID);Iy.translate(-m,-k)}else{Iy.arc(m,k,Iv,Ir,Ix,1-v3)}if(IA==1){IC=Al(Ir)*v1+m;v=G4(Ir)*Z+k}Iw=Al(Ix)*v1+m;IH=G4(Ix)*Z+k;break;case g9.R:IC=Iw=IE[IA];v=IH=IE[IA+1];Iy.rect(IE[IA++],IE[IA++],IE[IA++],IE[IA++]);break;case g9.Z:Iy.closePath();Iw=IC;IH=v}}}};j7.CMD=g9;function qX(i,Ir,e,v3,v,Iq,v2){if(v===0){return false}var k=v;var v1=0;var Z=i;if((v2>Ir+k&&v2>v3+k)||(v2<Ir-k&&v2<v3-k)||(Iq>i+k&&Iq>e+k)||(Iq<i-k&&Iq<e-k)){return false}if(i!==e){v1=(Ir-v3)/(i-e);Z=(i*v3-e*Ir)/(i-e)}else{return Math.abs(Iq-i)<=k/2}var m=v1*Iq-v2+Z;var Is=m*m/(v1*v1+1);return Is<=k/2*k/2}function qW(m,It,k,Is,i,Iq,e,v2,Z,Ir,v3){if(Z===0){return false}var v=Z;if((v3>It+v&&v3>Is+v&&v3>Iq+v&&v3>v2+v)||(v3<It-v&&v3<Is-v&&v3<Iq-v&&v3<v2-v)||(Ir>m+v&&Ir>k+v&&Ir>i+v&&Ir>e+v)||(Ir<m-v&&Ir<k-v&&Ir<i-v&&Ir<e-v)){return false}var v1=q6(m,It,k,Is,i,Iq,e,v2,Ir,v3,null);return v1<=v/2}function qV(k,Ir,i,v3,e,v2,v,Iq,v1){if(v===0){return false}var m=v;if((v1>Ir+m&&v1>v3+m&&v1>v2+m)||(v1<Ir-m&&v1<v3-m&&v1<v2-m)||(Iq>k+m&&Iq>i+m&&Iq>e+m)||(Iq<k-m&&Iq<i-m&&Iq<e-m)){return false}var Z=Fm(k,Ir,i,v3,e,v2,Iq,v1,null);return Z<=m/2}var G9=Math.PI*2;function Fz(e){e%=G9;if(e<0){e+=G9}return e}var Ha=Math.PI*2;function qT(v1,Z,e,Iq,i,m,v3,It,Is){if(v3===0){return false}var k=v3;It-=v1;Is-=Z;var Ir=Math.sqrt(It*It+Is*Is);if((Ir-k>e)||(Ir+k<e)){return false}if(Math.abs(Iq-i)%Ha<0.0001){return true}if(m){var v2=Iq;Iq=Fz(i);i=Fz(v2)}else{Iq=Fz(Iq);i=Fz(i)}if(Iq>i){i+=Ha}var v=Math.atan2(Is,It);if(v<0){v+=Ha}return(v>=Iq&&v<=i)||(v+Ha>=Iq&&v+Ha<=i)}function ms(k,v2,i,Z,v1,v){if((v>v2&&v>Z)||(v<v2&&v<Z)){return 0}if(Z===v2){return 0}var m=Z<v2?1:-1;var v3=(v-v2)/(Z-v2);if(v3===1||v3===0){m=Z<v2?0.5:-0.5}var e=v3*(i-k)+k;return e===v1?Infinity:e>v1?m:0}var FY=j7.CMD;var Hb=Math.PI*2;var lp=0.0001;function ki(i,e){return Math.abs(i-e)<lp}var Cz=[-1,-1,-1];var wQ=[-1,-1];function pX(){var e=wQ[0];wQ[0]=wQ[1];wQ[1]=e}function jb(IA,Z,Iy,v,Ix,m,Iw,k,v3,v2){if((v2>Z&&v2>v&&v2>m&&v2>k)||(v2<Z&&v2<v&&v2<m&&v2<k)){return 0}var e=c4(Z,v,m,k,v2,Cz);if(e===0){return 0}else{var Iq=0;var Iu=-1;var v1,It;for(var Iv=0;Iv<e;Iv++){var Ir=Cz[Iv];var Is=(Ir===0||Ir===1)?0.5:1;var Iz=aS(IA,Iy,Ix,Iw,Ir);if(Iz<v3){continue}if(Iu<0){Iu=Eq(Z,v,m,k,wQ);if(wQ[1]<wQ[0]&&Iu>1){pX()}v1=aS(Z,v,m,k,wQ[0]);if(Iu>1){It=aS(Z,v,m,k,wQ[1])}}if(Iu==2){if(Ir<wQ[0]){Iq+=v1<Z?Is:-Is}else{if(Ir<wQ[1]){Iq+=It<v1?Is:-Is}else{Iq+=k<It?Is:-Is}}}else{if(Ir<wQ[0]){Iq+=v1<Z?Is:-Is}else{Iq+=k<v1?Is:-Is}}}return Iq}}function ra(v,Iv,m,Ir,e,v3,Is,v2){if((v2>Iv&&v2>Ir&&v2>v3)||(v2<Iv&&v2<Ir&&v2<v3)){return 0}var v1=sf(Iv,Ir,v3,v2,Cz);if(v1===0){return 0}else{var Iw=wo(Iv,Ir,v3);if(Iw>=0&&Iw<=1){var Iu=0;var Iq=ky(Iv,Ir,v3,Iw);for(var Z=0;Z<v1;Z++){var It=(Cz[Z]===0||Cz[Z]===1)?0.5:1;var k=ky(v,m,e,Cz[Z]);if(k<Is){continue}if(Cz[Z]<Iw){Iu+=Iq<Iv?It:-It}else{Iu+=v3<Iq?It:-It}}return Iu}else{var It=(Cz[0]===0||Cz[0]===1)?0.5:1;var k=ky(v,m,e,Cz[0]);if(k<Is){return 0}return v3<Iv?It:-It}}}function Dm(v3,v2,e,Is,m,Z,Iu,It){It-=v2;if(It>e||It<-e){return 0}var Ir=Math.sqrt(e*e-It*It);Cz[0]=-Ir;Cz[1]=Ir;var Iw=Math.abs(Is-m);if(Iw<0.0001){return 0}if(Iw%Hb<0.0001){Is=0;m=Hb;var v=Z?1:-1;if(Iu>=Cz[0]+v3&&Iu<=Cz[1]+v3){return v}else{return 0}}if(Z){var Ir=Is;Is=Fz(m);m=Fz(Ir)}else{Is=Fz(Is);m=Fz(m)}if(Is>m){m+=Hb}var Iv=0;for(var Iq=0;Iq<2;Iq++){var k=Cz[Iq];if(k+v3>Iu){var v1=Math.atan2(It,k);var v=Z?1:-1;if(v1<0){v1=Hb+v1}if((v1>=Is&&v1<=m)||(v1+Hb>=Is&&v1+Hb<=m)){if(v1>Math.PI/2&&v1<Math.PI*1.5){v=-v}Iv+=v}}}return Iv}function BT(IG,e,IC,Is,Ir){var It=0;var Iv=0;var IF=0;var ID=0;var v1=0;for(var Iy=0;Iy<IG.length;){var Ix=IG[Iy++];if(Ix===FY.M&&Iy>1){if(!IC){It+=ms(Iv,IF,ID,v1,Is,Ir)}}if(Iy==1){Iv=IG[Iy];IF=IG[Iy+1];ID=Iv;v1=IF}switch(Ix){case FY.M:ID=IG[Iy++];v1=IG[Iy++];Iv=ID;IF=v1;break;case FY.L:if(IC){if(qX(Iv,IF,IG[Iy],IG[Iy+1],e,Is,Ir)){return true}}else{It+=ms(Iv,IF,IG[Iy],IG[Iy+1],Is,Ir)||0}Iv=IG[Iy++];IF=IG[Iy++];break;case FY.C:if(IC){if(qW(Iv,IF,IG[Iy++],IG[Iy++],IG[Iy++],IG[Iy++],IG[Iy],IG[Iy+1],e,Is,Ir)){return true}}else{It+=jb(Iv,IF,IG[Iy++],IG[Iy++],IG[Iy++],IG[Iy++],IG[Iy],IG[Iy+1],Is,Ir)||0}Iv=IG[Iy++];IF=IG[Iy++];break;case FY.Q:if(IC){if(qV(Iv,IF,IG[Iy++],IG[Iy++],IG[Iy],IG[Iy+1],e,Is,Ir)){return true}}else{It+=ra(Iv,IF,IG[Iy++],IG[Iy++],IG[Iy],IG[Iy+1],Is,Ir)||0}Iv=IG[Iy++];IF=IG[Iy++];break;case FY.A:var Z=IG[Iy++];var m=IG[Iy++];var v3=IG[Iy++];var v2=IG[Iy++];var Iq=IG[Iy++];var IB=IG[Iy++];var IE=IG[Iy++];var k=1-IG[Iy++];var IA=Math.cos(Iq)*v3+Z;var v=Math.sin(Iq)*v2+m;if(Iy>1){It+=ms(Iv,IF,IA,v,Is,Ir)}else{ID=IA;v1=v}var Iz=(Is-Z)*v2/v3+Z;if(IC){if(qT(Z,m,v2,Iq,Iq+IB,k,e,Iz,Ir)){return true}}else{It+=Dm(Z,m,v2,Iq,Iq+IB,k,Iz,Ir)}Iv=Math.cos(Iq+IB)*v3+Z;IF=Math.sin(Iq+IB)*v2+m;break;case FY.R:ID=Iv=IG[Iy++];v1=IF=IG[Iy++];var Iw=IG[Iy++];var Iu=IG[Iy++];var IA=ID+Iw;var v=v1+Iu;if(IC){if(qX(ID,v1,IA,v1,e,Is,Ir)||qX(IA,v1,IA,v,e,Is,Ir)||qX(IA,v,ID,v,e,Is,Ir)||qX(ID,v,ID,v1,e,Is,Ir)){return true}}else{It+=ms(IA,v1,IA,v,Is,Ir);It+=ms(ID,v,ID,v1,Is,Ir)}break;case FY.Z:if(IC){if(qX(Iv,IF,ID,v1,e,Is,Ir)){return true}}else{It+=ms(Iv,IF,ID,v1,Is,Ir)}Iv=ID;IF=v1;break}}if(!IC&&!ki(IF,v1)){It+=ms(Iv,IF,ID,v1,Is,Ir)||0}return It!==0}function nh(i,e,k){return BT(i,0,false,e,k)}function e2(k,i,e,m){return BT(k,i,true,e,m)}var qv=o0.prototype.getCanvasPattern;var u9=Math.abs;var HB=new j7(true);function mo(e){Il.call(this,e);this.path=null}mo.prototype={constructor:mo,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(Iq,v2){var Is=this.style;var v3=this.path||HB;var Iv=Is.hasStroke();var v=Is.hasFill();var Ir=Is.fill;var k=Is.stroke;var It=v&&!!(Ir.colorStops);var Ix=Iv&&!!(k.colorStops);var v1=v&&!!(Ir.image);var Iu=Iv&&!!(k.image);Is.bind(Iq,this,v2);this.setTransform(Iq);if(this.__dirty){var e;if(It){e=e||this.getBoundingRect();this._fillGradient=Is.getGradient(Iq,Ir,e)}if(Ix){e=e||this.getBoundingRect();this._strokeGradient=Is.getGradient(Iq,k,e)}}if(It){Iq.fillStyle=this._fillGradient}else{if(v1){Iq.fillStyle=qv.call(Ir,Iq)}}if(Ix){Iq.strokeStyle=this._strokeGradient}else{if(Iu){Iq.strokeStyle=qv.call(k,Iq)}}var i=Is.lineDash;var Z=Is.lineDashOffset;var Iw=!!Iq.setLineDash;var Iy=this.getGlobalScale();v3.setScale(Iy[0],Iy[1]);if(this.__dirtyPath||(i&&!Iw&&Iv)){v3.beginPath(Iq);if(i&&!Iw){v3.setLineDash(i);v3.setLineDashOffset(Z)}this.buildPath(v3,this.shape,false);if(this.path){this.__dirtyPath=false}}else{Iq.beginPath();this.path.rebuildPath(Iq)}if(v){if(Is.fillOpacity!=null){var m=Iq.globalAlpha;Iq.globalAlpha=Is.fillOpacity*Is.opacity;v3.fill(Iq);Iq.globalAlpha=m}else{v3.fill(Iq)}}if(i&&Iw){Iq.setLineDash(i);Iq.lineDashOffset=Z}if(Iv){if(Is.strokeOpacity!=null){var m=Iq.globalAlpha;Iq.globalAlpha=Is.strokeOpacity*Is.opacity;v3.stroke(Iq);Iq.globalAlpha=m}else{v3.stroke(Iq)}}if(i&&Iw){Iq.setLineDash([])}if(Is.text!=null){this.restoreTransform(Iq);this.drawRectText(Iq,this.getBoundingRect())}},buildPath:function(e,i,k){},createPathProxy:function(){this.path=new j7()},getBoundingRect:function(){var v=this._rect;var m=this.style;var Z=!v;if(Z){var v1=this.path;if(!v1){v1=this.path=new j7()}if(this.__dirtyPath){v1.beginPath();this.buildPath(v1,this.shape,false)}v=v1.getBoundingRect()}this._rect=v;if(m.hasStroke()){var k=this._rectWithStroke||(this._rectWithStroke=v.clone());if(this.__dirty||Z){k.copy(v);var e=m.lineWidth;var i=m.strokeNoScale?this.getLineScale():1;if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold||4)}if(i>1e-10){k.width+=e/i;k.height+=e/i;k.x-=e/i/2;k.y-=e/i/2}}return k}return v},contain:function(i,v2){var v1=this.transformCoordToLocal(i,v2);var v=this.getBoundingRect();var m=this.style;i=v1[0];v2=v1[1];if(v.contain(i,v2)){var Z=this.path.data;if(m.hasStroke()){var e=m.lineWidth;var k=m.strokeNoScale?this.getLineScale():1;if(k>1e-10){if(!m.hasFill()){e=Math.max(e,this.strokeContainThreshold)}if(e2(Z,e/k,i,v2)){return true}}}if(m.hasFill()){return nh(Z,i,v2)}}return false},dirty:function(e){if(e==null){e=true}if(e){this.__dirtyPath=e;this._rect=null}this.__dirty=this.__dirtyText=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,i){if(e==="shape"){this.setShape(i);this.__dirtyPath=true;this._rect=null}else{Il.prototype.attrKV.call(this,e,i)}},setShape:function(k,m){var e=this.shape;if(e){if(tM(k)){for(var i in k){if(k.hasOwnProperty(i)){e[i]=k[i]}}}else{e[k]=m}this.dirty(true)}return this},getLineScale:function(){var e=this.transform;return e&&u9(e[0]-1)>1e-10&&u9(e[3]-1)>1e-10?Math.sqrt(u9(e[0]*e[3]-e[2]*e[1])):1}};mo.extend=function(k){var e=function(v){mo.call(this,v);if(k.style){this.style.extendFrom(k.style,false)}var v1=k.shape;if(v1){this.shape=this.shape||{};var Z=this.shape;for(var m in v1){if(!Z.hasOwnProperty(m)&&v1.hasOwnProperty(m)){Z[m]=v1[m]}}}k.init&&k.init.call(this,v)};mt(e,mo);for(var i in k){if(i!=="style"&&i!=="shape"){e.prototype[i]=k[i]}}return e};mt(mo,Il);var FW=j7.CMD;var BQ=[[],[],[]];var hl=Math.sqrt;var t5=Math.atan2;var sN=function(Iu,Ix){var ID=Iu.data;var IA;var Iq;var IB;var Iz;var Iy;var Iw;var Z=FW.M;var Is=FW.C;var v1=FW.L;var e=FW.R;var Iv=FW.A;var v=FW.Q;for(IB=0,Iz=0;IB<ID.length;){IA=ID[IB++];Iz=IB;Iq=0;switch(IA){case Z:Iq=1;break;case v1:Iq=1;break;case Is:Iq=3;break;case v:Iq=2;break;case Iv:var v3=Ix[4];var v2=Ix[5];var It=hl(Ix[0]*Ix[0]+Ix[1]*Ix[1]);var Ir=hl(Ix[2]*Ix[2]+Ix[3]*Ix[3]);var IC=t5(-Ix[1]/Ir,Ix[0]/It);ID[IB]*=It;ID[IB++]+=v3;ID[IB]*=Ir;ID[IB++]+=v2;ID[IB++]*=It;ID[IB++]*=Ir;ID[IB++]+=IC;ID[IB++]+=IC;IB+=2;Iz=IB;break;case e:Iw[0]=ID[IB++];Iw[1]=ID[IB++];aY(Iw,Iw,Ix);ID[Iz++]=Iw[0];ID[Iz++]=Iw[1];Iw[0]+=ID[IB++];Iw[1]+=ID[IB++];aY(Iw,Iw,Ix);ID[Iz++]=Iw[0];ID[Iz++]=Iw[1]}for(Iy=0;Iy<Iq;Iy++){var Iw=BQ[Iy];Iw[0]=ID[IB++];Iw[1]=ID[IB++];aY(Iw,Iw,Ix);ID[Iz++]=Iw[0];ID[Iz++]=Iw[1]}}};var zR=Math.sqrt;var BL=Math.sin;var zK=Math.cos;var fe=Math.PI;var gb=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};var cD=function(i,e){return(i[0]*e[0]+i[1]*e[1])/(gb(i)*gb(e))};var kg=function(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(cD(i,e))};function pE(IB,m,IA,i,Iy,Iq,v3,v2,Z,Iz,Ix){var IF=Z*(fe/180);var Is=zK(IF)*(IB-IA)/2+BL(IF)*(m-i)/2;var IC=-1*BL(IF)*(IB-IA)/2+zK(IF)*(m-i)/2;var Iv=(Is*Is)/(v3*v3)+(IC*IC)/(v2*v2);if(Iv>1){v3*=zR(Iv);v2*=zR(Iv)}var IE=(Iy===Iq?-1:1)*zR((((v3*v3)*(v2*v2))-((v3*v3)*(IC*IC))-((v2*v2)*(Is*Is)))/((v3*v3)*(IC*IC)+(v2*v2)*(Is*Is)))||0;var v1=IE*v3*IC/v2;var Iw=IE*-v2*Is/v3;var k=(IB+IA)/2+zK(IF)*v1-BL(IF)*Iw;var e=(m+i)/2+BL(IF)*v1+zK(IF)*Iw;var Ir=kg([1,0],[(Is-v1)/v3,(IC-Iw)/v2]);var Iu=[(Is-v1)/v3,(IC-Iw)/v2];var It=[(-1*Is-v1)/v3,(-1*IC-Iw)/v2];var ID=kg(Iu,It);if(cD(Iu,It)<=-1){ID=fe}if(cD(Iu,It)>=1){ID=0}if(Iq===0&&ID>0){ID=ID-2*fe}if(Iq===1&&ID<0){ID=ID+2*fe}Ix.addData(Iz,k,e,v3,v2,Ir,ID,IF,Iq)}var oF=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;var m5=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function lv(IJ){if(!IJ){return new j7()}var v3=0;var v2=0;var Ir=v3;var Iq=v2;var Iw;var Is=new j7();var ID=j7.CMD;var Z=IJ.match(oF);for(var Iv=0;Iv<Z.length;Iv++){var IH=Z[Iv];var k=IH.charAt(0);var Ix;var It=IH.match(m5)||[];var Iz=It.length;for(var Iy=0;Iy<Iz;Iy++){It[Iy]=parseFloat(It[Iy])}var II=0;while(II<Iz){var IG;var IF;var v;var m;var IE;var Iu;var v1;var IC=v3;var e=v2;switch(k){case"l":v3+=It[II++];v2+=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"L":v3=It[II++];v2=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"m":v3+=It[II++];v2+=It[II++];Ix=ID.M;Is.addData(Ix,v3,v2);Ir=v3;Iq=v2;k="l";break;case"M":v3=It[II++];v2=It[II++];Ix=ID.M;Is.addData(Ix,v3,v2);Ir=v3;Iq=v2;k="L";break;case"h":v3+=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"H":v3=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"v":v2+=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"V":v2=It[II++];Ix=ID.L;Is.addData(Ix,v3,v2);break;case"C":Ix=ID.C;Is.addData(Ix,It[II++],It[II++],It[II++],It[II++],It[II++],It[II++]);v3=It[II-2];v2=It[II-1];break;case"c":Ix=ID.C;Is.addData(Ix,It[II++]+v3,It[II++]+v2,It[II++]+v3,It[II++]+v2,It[II++]+v3,It[II++]+v2);v3+=It[II-2];v2+=It[II-1];break;case"S":IG=v3;IF=v2;var IA=Is.len();var IB=Is.data;if(Iw===ID.C){IG+=v3-IB[IA-4];IF+=v2-IB[IA-3]}Ix=ID.C;IC=It[II++];e=It[II++];v3=It[II++];v2=It[II++];Is.addData(Ix,IG,IF,IC,e,v3,v2);break;case"s":IG=v3;IF=v2;var IA=Is.len();var IB=Is.data;if(Iw===ID.C){IG+=v3-IB[IA-4];IF+=v2-IB[IA-3]}Ix=ID.C;IC=v3+It[II++];e=v2+It[II++];v3+=It[II++];v2+=It[II++];Is.addData(Ix,IG,IF,IC,e,v3,v2);break;case"Q":IC=It[II++];e=It[II++];v3=It[II++];v2=It[II++];Ix=ID.Q;Is.addData(Ix,IC,e,v3,v2);break;case"q":IC=It[II++]+v3;e=It[II++]+v2;v3+=It[II++];v2+=It[II++];Ix=ID.Q;Is.addData(Ix,IC,e,v3,v2);break;case"T":IG=v3;IF=v2;var IA=Is.len();var IB=Is.data;if(Iw===ID.Q){IG+=v3-IB[IA-4];IF+=v2-IB[IA-3]}v3=It[II++];v2=It[II++];Ix=ID.Q;Is.addData(Ix,IG,IF,v3,v2);break;case"t":IG=v3;IF=v2;var IA=Is.len();var IB=Is.data;if(Iw===ID.Q){IG+=v3-IB[IA-4];IF+=v2-IB[IA-3]}v3+=It[II++];v2+=It[II++];Ix=ID.Q;Is.addData(Ix,IG,IF,v3,v2);break;case"A":v=It[II++];m=It[II++];IE=It[II++];Iu=It[II++];v1=It[II++];IC=v3,e=v2;v3=It[II++];v2=It[II++];Ix=ID.A;pE(IC,e,v3,v2,Iu,v1,v,m,IE,Ix,Is);break;case"a":v=It[II++];m=It[II++];IE=It[II++];Iu=It[II++];v1=It[II++];IC=v3,e=v2;v3+=It[II++];v2+=It[II++];Ix=ID.A;pE(IC,e,v3,v2,Iu,v1,v,m,IE,Ix,Is);break}}if(k==="z"||k==="Z"){Ix=ID.Z;Is.addData(Ix);v3=Ir;v2=Iq}Iw=Ix}Is.toStatic();return Is}function G6(k,i){var e=lv(k);i=i||{};i.buildPath=function(v){if(v.setData){v.setData(e.data);var m=v.getContext();if(m){v.rebuildPath(m)}}else{var m=v;e.rebuildPath(m)}};i.applyTransform=function(v){sN(e,v);this.dirty(true)};return i}function fq(i,e){return new mo(G6(i,e))}function b5(i,e){return mo.extend(G6(i,e))}function mA(m,v1){var v2=[];var k=m.length;for(var Z=0;Z<k;Z++){var v=m[Z];if(!v.path){v.createPathProxy()}if(v.__dirtyPath){v.buildPath(v.path,v.shape,true)}v2.push(v.path)}var e=new mo(v1);e.createPathProxy();e.buildPath=function(v3){v3.appendPath(v2);var i=v3.getContext();if(i){v3.rebuildPath(i)}};return e}var iT=function(e){Il.call(this,e)};iT.prototype={constructor:iT,type:"text",brush:function(e,i){var k=this.style;this.__dirty&&pj(k,true);k.fill=k.stroke=k.shadowBlur=k.shadowColor=k.shadowOffsetX=k.shadowOffsetY=null;var m=k.text;m!=null&&(m+="");if(!Ex(m,k)){return}this.setTransform(e);AE(this,e,m,k,null,i);this.restoreTransform(e)},getBoundingRect:function(){var i=this.style;this.__dirty&&pj(i,true);if(!this._rect){var m=i.text;m!=null?(m+=""):(m="");var k=Gv(i.text+"",i.font,i.textAlign,i.textVerticalAlign,i.textPadding,i.rich);k.x+=i.x||0;k.y+=i.y||0;if(w1(i.textStroke,i.textStrokeWidth)){var e=i.textStrokeWidth;k.x-=e/2;k.y-=e/2;k.width+=e;k.height+=e}this._rect=k}return this._rect}};mt(iT,Il);var GN=mo.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,k){if(k){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var BG=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var nm=function(e){return(sZ.browser.ie&&sZ.browser.version>=11)?function(){var Iq=this.__clipPaths;var v2=this.style;var v;if(Iq){for(var Z=0;Z<Iq.length;Z++){var v3=Iq[Z];var k=v3&&v3.shape;var v1=v3&&v3.type;if(k&&((v1==="sector"&&k.startAngle===k.endAngle)||(v1==="rect"&&(!k.width||!k.height)))){for(var m=0;m<BG.length;m++){BG[m][2]=v2[BG[m][0]];v2[BG[m][0]]=BG[m][1]}v=true;break}}}e.apply(this,arguments);if(v){for(var m=0;m<BG.length;m++){v2[BG[m][0]]=BG[m][2]}}}:e};var tA=mo.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:nm(mo.prototype.brush),buildPath:function(Ir,Z){var Iq=Z.cx;var v2=Z.cy;var m=Math.max(Z.r0||0,0);var e=Math.max(Z.r,0);var v=Z.startAngle;var k=Z.endAngle;var i=Z.clockwise;var v3=Math.cos(v);var v1=Math.sin(v);Ir.moveTo(v3*m+Iq,v1*m+v2);Ir.lineTo(v3*e+Iq,v1*e+v2);Ir.arc(Iq,v2,e,v,k,!i);Ir.lineTo(Math.cos(k)*m+Iq,Math.sin(k)*m+v2);if(m!==0){Ir.arc(Iq,v2,m,k,v,i)}Ir.closePath()}});var r6=mo.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,k){var e=k.cx;var v=k.cy;var m=Math.PI*2;i.moveTo(e+k.r,v);i.arc(e,v,k.r,0,m,false);i.moveTo(e+k.r0,v);i.arc(e,v,k.r0,0,m,true)}});function nl(v2,v1,v,m,v3,i,e){var Z=(v-v2)*0.5;var k=(m-v1)*0.5;return(2*(v1-v)+Z+k)*e+(-3*(v1-v)-2*Z-k)*i+Z*v3+v1}var h1=function(Iv,e){var It=Iv.length;var v2=[];var Z=0;for(var v1=1;v1<It;v1++){Z+=Ad(Iv[v1-1],Iv[v1])}var k=Z/2;k=k<It?It:k;for(var v1=0;v1<k;v1++){var v3=v1/(k-1)*(e?It:It-1);var Is=Math.floor(v3);var Ir=v3-Is;var Ix;var Iw=Iv[Is%It];var Iu;var Iq;if(!e){Ix=Iv[Is===0?Is:Is-1];Iu=Iv[Is>It-2?It-1:Is+1];Iq=Iv[Is>It-3?It-1:Is+2]}else{Ix=Iv[(Is-1+It)%It];Iu=Iv[(Is+1)%It];Iq=Iv[(Is+2)%It]}var v=Ir*Ir;var m=Ir*v;v2.push([nl(Ix[0],Iw[0],Iu[0],Iq[0],Ir,v,m),nl(Ix[1],Iw[1],Iu[1],Iq[1],Ir,v,m)])}return v2};var vn=function(Ix,It,IC,e){var Ir=[];var Is=[];var v3=[];var Z=[];var Iw;var Iz;var Iu,Iq;if(e){Iu=[Infinity,Infinity];Iq=[-Infinity,-Infinity];for(var Iy=0,m=Ix.length;Iy<m;Iy++){By(Iu,Iu,Ix[Iy]);D9(Iq,Iq,Ix[Iy])}By(Iu,Iu,e[0]);D9(Iq,Iq,e[1])}for(var Iy=0,m=Ix.length;Iy<m;Iy++){var Iv=Ix[Iy];if(IC){Iw=Ix[Iy?Iy-1:m-1];Iz=Ix[(Iy+1)%m]}else{if(Iy===0||Iy===m-1){Ir.push(uV(Ix[Iy]));continue}else{Iw=Ix[Iy-1];Iz=Ix[Iy+1]}}BR(Is,Iz,Iw);HN(Is,Is,It);var k=Ad(Iv,Iw);var ID=Ad(Iv,Iz);var v2=k+ID;if(v2!==0){k/=v2;ID/=v2}HN(v3,Is,-k);HN(Z,Is,ID);var IB=uD([],Iv,v3);var IA=uD([],Iv,Z);if(e){D9(IB,IB,Iu);By(IB,IB,Iq);D9(IA,IA,Iu);By(IA,IA,Iq)}Ir.push(IB);Ir.push(IA)}if(IC){Ir.push(Ir.shift())}return Ir};function yU(Is,Iq,v1){var Ir=Iq.points;var e=Iq.smooth;if(Ir&&Ir.length>=2){if(e&&e!=="spline"){var It=vn(Ir,e,v1,Iq.smoothConstraint);Is.moveTo(Ir[0][0],Ir[0][1]);var v3=Ir.length;for(var v2=0;v2<(v1?v3:v3-1);v2++){var Z=It[v2*2];var v=It[v2*2+1];var k=Ir[(v2+1)%v3];Is.bezierCurveTo(Z[0],Z[1],v[0],v[1],k[0],k[1])}}else{if(e==="spline"){Ir=h1(Ir,v1)}Is.moveTo(Ir[0][0],Ir[0][1]);for(var v2=1,m=Ir.length;v2<m;v2++){Is.lineTo(Ir[v2][0],Ir[v2][1])}}v1&&Is.closePath()}}var ic=mo.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(e,i){yU(e,i,true)}});var Ac=mo.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,i){yU(e,i,false)}});var EL=mo.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(k,m){var i=m.x;var Z=m.y;var v=m.width;var e=m.height;if(!m.r){k.rect(i,Z,v,e)}else{ti(k,m)}k.closePath();return}});var zG=mo.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,k){var m=k.x1;var Z=k.y1;var i=k.x2;var v=k.y2;var v1=k.percent;if(v1===0){return}e.moveTo(m,Z);if(v1<1){i=m*(1-v1)+i*v1;v=Z*(1-v1)+v*v1}e.lineTo(i,v)},pointAt:function(i){var e=this.shape;return[e.x1*(1-i)+e.x2*i,e.y1*(1-i)+e.y2*i]}});var aO=[];function dL(i,k,e){var m=i.cpx2;var v=i.cpy2;if(m===null||v===null){return[(e?gX:aS)(i.x1,i.cpx1,i.cpx2,i.x2,k),(e?gX:aS)(i.y1,i.cpy1,i.cpy2,i.y2,k)]}else{return[(e?vz:ky)(i.x1,i.cpx1,i.x2,k),(e?vz:ky)(i.y1,i.cpy1,i.y2,k)]}}var gZ=mo.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(Ir,v1){var i=v1.x1;var Iq=v1.y1;var e=v1.x2;var v3=v1.y2;var v2=v1.cpx1;var m=v1.cpy1;var Z=v1.cpx2;var k=v1.cpy2;var v=v1.percent;if(v===0){return}Ir.moveTo(i,Iq);if(Z==null||k==null){if(v<1){EH(i,v2,e,v,aO);v2=aO[1];e=aO[2];EH(Iq,m,v3,v,aO);m=aO[1];v3=aO[2]}Ir.quadraticCurveTo(v2,m,e,v3)}else{if(v<1){gp(i,v2,Z,e,v,aO);v2=aO[1];Z=aO[2];e=aO[3];gp(Iq,m,k,v3,v,aO);m=aO[1];k=aO[2];v3=aO[3]}Ir.bezierCurveTo(v2,m,Z,k,e,v3)}},pointAt:function(e){return dL(this.shape,e,false)},tangentAt:function(e){var i=dL(this.shape,e,true);return wJ(i,i)}});var pV=mo.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(Iq,v){var v3=v.cx;var v1=v.cy;var e=Math.max(v.r,0);var m=v.startAngle;var k=v.endAngle;var i=v.clockwise;var v2=Math.cos(m);var Z=Math.sin(m);Iq.moveTo(v2*e+v3,Z*e+v1);Iq.arc(v3,v1,e,m,k,!i)}});var jt=mo.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var k=this.__dirtyPath;var m=this.shape.paths;for(var e=0;e<m.length;e++){k=k||m[e].__dirtyPath}this.__dirtyPath=k;this.__dirty=this.__dirty||k},beforeBrush:function(){this._updatePathDirty();var m=this.shape.paths||[];var k=this.getGlobalScale();for(var e=0;e<m.length;e++){if(!m[e].path){m[e].createPathProxy()}m[e].path.setScale(k[0],k[1])}},buildPath:function(e,k){var v=k.paths||[];for(var m=0;m<v.length;m++){v[m].buildPath(e,v[m].shape,true)}},afterBrush:function(){var k=this.shape.paths||[];for(var e=0;e<k.length;e++){k[e].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return mo.prototype.getBoundingRect.call(this)}});var lX=function(e){this.colorStops=e||[]};lX.prototype={constructor:lX,addColorStop:function(i,e){this.colorStops.push({offset:i,color:e})}};var uG=function(e,Z,k,m,i,v){this.x=e==null?0:e;this.y=Z==null?0:Z;this.x2=k==null?1:k;this.y2=m==null?0:m;this.type="linear";this.global=v||false;lX.call(this,i)};uG.prototype={constructor:uG};mt(uG,lX);var oW=function(e,v,k,i,m){this.x=e==null?0.5:e;this.y=v==null?0.5:v;this.r=k==null?0.5:k;this.type="radial";this.global=m||false;lX.call(this,i)};oW.prototype={constructor:oW};mt(oW,lX);function zQ(e){Il.call(this,e);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=true}zQ.prototype.incremental=true;zQ.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=false};zQ.prototype.addDisplayable=function(e,i){if(i){this._temporaryDisplayables.push(e)}else{this._displayables.push(e)}this.dirty()};zQ.prototype.addDisplayables=function(m,k){k=k||false;for(var e=0;e<m.length;e++){this.addDisplayable(m[e],k)}};zQ.prototype.eachPendingDisplayable=function(e){for(var k=this._cursor;k<this._displayables.length;k++){e&&e(this._displayables[k])}for(var k=0;k<this._temporaryDisplayables.length;k++){e&&e(this._temporaryDisplayables[k])}};zQ.prototype.update=function(){this.updateTransform();for(var k=this._cursor;k<this._displayables.length;k++){var e=this._displayables[k];e.parent=this;e.update();e.parent=null}for(var k=0;k<this._temporaryDisplayables.length;k++){var e=this._temporaryDisplayables[k];e.parent=this;e.update();e.parent=null}};zQ.prototype.brush=function(e,v){for(var m=this._cursor;m<this._displayables.length;m++){var k=this._displayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===this._cursor?null:this._displayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._cursor=m;for(var m=0;m<this._temporaryDisplayables.length;m++){var k=this._temporaryDisplayables[m];k.beforeBrush&&k.beforeBrush(e);k.brush(e,m===0?null:this._temporaryDisplayables[m-1]);k.afterBrush&&k.afterBrush(e)}this._temporaryDisplayables=[];this.notClear=true};var Hh=[];zQ.prototype.getBoundingRect=function(){if(!this._rect){var v=new CL(Infinity,Infinity,-Infinity,-Infinity);for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];var e=k.getBoundingRect().clone();if(k.needLocalTransform()){e.applyTransform(k.getLocalTransform(Hh))}v.union(e)}this._rect=v}return this._rect};zQ.prototype.contain=function(e,v1){var Z=this.transformCoordToLocal(e,v1);var v=this.getBoundingRect();if(v.contain(Z[0],Z[1])){for(var m=0;m<this._displayables.length;m++){var k=this._displayables[m];if(k.contain(e,v1)){return true}}}return false};mt(zQ,Il);var D=Math.round;var AT=Math.max;var jA=Math.min;var AH={};function HD(e){return mo.extend(e)}function rq(i,e){return b5(i,e)}function Bh(v,k,i,e){var m=fq(v,k);if(i){if(e==="center"){i=Bf(i,m.getBoundingRect())}ed(m,i)}return m}function Gx(e,k,i){var m=new Fx({style:{image:e,x:k.x,y:k.y,width:k.width,height:k.height},onload:function(v){if(i==="center"){var Z={width:v.width,height:v.height};m.setStyle(Bf(k,Z))}}});return m}function Bf(Z,m){var k=m.width/m.height;var v=Z.height*k;var i;if(v<=Z.width){i=Z.height}else{v=Z.width;i=v/k}var e=Z.x+Z.width/2;var v1=Z.y+Z.height/2;return{x:e-v/2,y:v1-i/2,width:v,height:i}}var rb=mA;function ed(v,i){if(!v.applyTransform){return}var k=v.getBoundingRect();var e=k.calculateTransform(i);v.applyTransform(e)}function dp(k){var i=k.shape;var e=k.style.lineWidth;if(D(i.x1*2)===D(i.x2*2)){i.x1=i.x2=GA(i.x1,e,true)}if(D(i.y1*2)===D(i.y2*2)){i.y1=i.y2=GA(i.y1,e,true)}return k}function iC(Z){var m=Z.shape;var e=Z.style.lineWidth;var v=m.x;var k=m.y;var i=m.width;var v1=m.height;m.x=GA(m.x,e,true);m.y=GA(m.y,e,true);m.width=Math.max(GA(v+i,e,false)-m.x,i===0?0:1);m.height=Math.max(GA(k+v1,e,false)-m.y,v1===0?0:1);return Z}function GA(i,e,k){var m=D(i*2);return(m+D(e))%2===0?m/2:(m+(k?1:-1))/2}function ip(e){return e!=null&&e!=="none"}var FU=CN();var zo=0;function Am(e){if(typeof e!=="string"){return e}var i=FU.get(e);if(!i){i=mW(e,-0.1);if(zo<10000){FU.set(e,i);zo++}}return i}function FD(k){if(!k.__hoverStlDirty){return}k.__hoverStlDirty=false;var m=k.__hoverStl;if(!m){k.__normalStl=null;return}var v=k.__normalStl={};var i=k.style;for(var e in m){if(m[e]!=null){v[e]=i[e]}}v.fill=i.fill;v.stroke=i.stroke}function w8(m){var k=m.__hoverStl;if(!k||m.__highlighted){return}var e=m.useHoverLayer;m.__highlighted=e?"layer":"plain";var v=m.__zr;if(!v&&e){return}var Z=m;var i=m.style;if(e){Z=v.addHover(m);i=Z.style}Fu(i);if(!e){FD(Z)}i.extendFrom(k);fh(i,k,"fill");fh(i,k,"stroke");sG(i);if(!e){m.dirty(false);m.z2+=1}}function fh(e,i,k){if(!ip(i[k])&&ip(e[k])){e[k]=Am(e[k])}}function ev(e){if(e.__highlighted){jW(e);e.__highlighted=false}}function jW(k){var m=k.__highlighted;if(m==="layer"){k.__zr&&k.__zr.removeHover(k)}else{if(m){var i=k.style;var e=k.__normalStl;if(e){Fu(i);k.setStyle(e);sG(i);k.z2-=1}}}}function ct(e,i){e.isGroup?e.traverse(function(k){!k.isGroup&&i(k)}):i(e)}function lk(i,e){e=i.__hoverStl=e!==false&&(e||{});i.__hoverStlDirty=true;if(i.__highlighted){ev(i);w8(i)}}function rZ(e){return e&&e.__isEmphasisEntered}function h0(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasisEntered&&ct(this,w8)}function go(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasisEntered&&ct(this,ev)}function EB(){this.__isEmphasisEntered=true;ct(this,w8)}function u7(){this.__isEmphasisEntered=false;ct(this,ev)}function yr(i,k,e){i.isGroup?i.traverse(function(m){!m.isGroup&&lk(m,m.hoverStyle||k)}):lk(i,i.hoverStyle||k);yN(i,e)}function yN(k,i){var e=i===false;k.__hoverSilentOnTouch=i!=null&&i.hoverSilentOnTouch;if(!e||k.__hoverStyleTrigger){var m=e?"off":"on";k[m]("mouseover",h0)[m]("mouseout",go);k[m]("emphasis",EB)[m]("normal",u7);k.__hoverStyleTrigger=!e}}function BH(e,k,Z,v3,i,Iu,Is){i=i||AH;var v=i.labelFetcher;var v2=i.labelDataIndex;var Iq=i.labelDimIndex;var Ir=Z.getShallow("show");var Iv=v3.getShallow("show");var It;if(Ir||Iv){if(v){It=v.getFormattedLabel(v2,"normal",null,Iq)}if(It==null){It=E9(i.defaultText)?i.defaultText(v2,i):i.defaultText}}var v1=Ir?It:null;var m=Iv?kd(v?v.getFormattedLabel(v2,"emphasis",null,Iq):null,It):null;if(v1!=null||m!=null){pg(e,Z,Iu,i);pg(k,v3,Is,i,true)}e.text=v1;k.text=m}function pg(v,e,m,k,i){CP(v,e,k,i);m&&b0(v,m);return v}function D6(v,m,k){var i={isRectText:true};var e;if(k===false){e=true}else{i.autoColor=k}CP(v,m,i,e)}function CP(v2,Iq,k,v){k=k||AH;if(k.isRectText){var Is=Iq.getShallow("position")||(v?null:"inside");Is==="outside"&&(Is="top");v2.textPosition=Is;v2.textOffset=Iq.getShallow("offset");var m=Iq.getShallow("rotate");m!=null&&(m*=Math.PI/180);v2.textRotation=m;v2.textDistance=kd(Iq.getShallow("distance"),v?null:5)}var v1=Iq.ecModel;var Z=v1&&v1.option.textStyle;var v3=wz(Iq);var e;if(v3){e={};for(var i in v3){if(v3.hasOwnProperty(i)){var Ir=Iq.getModel(["rich",i]);zF(e[i]={},Ir,Z,k,v)}}}v2.rich=e;zF(v2,Iq,Z,k,v,true);if(k.forceRich&&!k.textStyle){k.textStyle={}}return v2}function wz(m){var e;while(m&&m!==m.ecModel){var i=(m.option||AH).rich;if(i){e=e||{};for(var k in i){if(i.hasOwnProperty(k)){e[k]=1}}}m=m.parentModel}return e}function zF(Z,i,v,m,k,e){v=!k&&v||AH;Z.textFill=kn(i.getShallow("color"),m)||v.color;Z.textStroke=kn(i.getShallow("textBorderColor"),m)||v.textBorderColor;Z.textStrokeWidth=kd(i.getShallow("textBorderWidth"),v.textBorderWidth);Z.insideRawTextPosition=Z.textPosition;if(!k){if(e){Z.insideRollbackOpt=m;sG(Z)}if(Z.textFill==null){Z.textFill=m.autoColor}}Z.fontStyle=i.getShallow("fontStyle")||v.fontStyle;Z.fontWeight=i.getShallow("fontWeight")||v.fontWeight;Z.fontSize=i.getShallow("fontSize")||v.fontSize;Z.fontFamily=i.getShallow("fontFamily")||v.fontFamily;Z.textAlign=i.getShallow("align");Z.textVerticalAlign=i.getShallow("verticalAlign")||i.getShallow("baseline");Z.textLineHeight=i.getShallow("lineHeight");Z.textWidth=i.getShallow("width");Z.textHeight=i.getShallow("height");Z.textTag=i.getShallow("tag");if(!e||!m.disableBox){Z.textBackgroundColor=kn(i.getShallow("backgroundColor"),m);Z.textPadding=i.getShallow("padding");Z.textBorderColor=kn(i.getShallow("borderColor"),m);Z.textBorderWidth=i.getShallow("borderWidth");Z.textBorderRadius=i.getShallow("borderRadius");Z.textBoxShadowColor=i.getShallow("shadowColor");Z.textBoxShadowBlur=i.getShallow("shadowBlur");Z.textBoxShadowOffsetX=i.getShallow("shadowOffsetX");Z.textBoxShadowOffsetY=i.getShallow("shadowOffsetY")}Z.textShadowColor=i.getShallow("textShadowColor")||v.textShadowColor;Z.textShadowBlur=i.getShallow("textShadowBlur")||v.textShadowBlur;Z.textShadowOffsetX=i.getShallow("textShadowOffsetX")||v.textShadowOffsetX;Z.textShadowOffsetY=i.getShallow("textShadowOffsetY")||v.textShadowOffsetY}function kn(e,i){return e!=="auto"?e:(i&&i.autoColor)?i.autoColor:null}function sG(Z){var k=Z.insideRollbackOpt;if(!k||Z.textFill!=null){return}var i=k.useInsideStyle;var v=Z.insideRawTextPosition;var e;var m=k.autoColor;if(i!==false&&(i===true||(k.isRectText&&v&&typeof v==="string"&&v.indexOf("inside")>=0))){e={textFill:null,textStroke:Z.textStroke,textStrokeWidth:Z.textStrokeWidth};Z.textFill="#fff";if(Z.textStroke==null){Z.textStroke=m;Z.textStrokeWidth==null&&(Z.textStrokeWidth=2)}}else{if(m!=null){e={textFill:null};Z.textFill=m}}if(e){Z.insideRollback=e}}function Fu(i){var e=i.insideRollback;if(e){i.textFill=e.textFill;i.textStroke=e.textStroke;i.textStrokeWidth=e.textStrokeWidth;i.insideRollback=null}}function j1(i,e){var k=e||e.getModel("textStyle");return Gw([i.fontStyle||k&&k.getShallow("fontStyle")||"",i.fontWeight||k&&k.getShallow("fontWeight")||"",(i.fontSize||k&&k.getShallow("fontSize")||12)+"px",i.fontFamily||k&&k.getShallow("fontFamily")||"sans-serif"].join(" "))}function hZ(Ir,i,v1,v,v2,k){if(typeof v2==="function"){k=v2;v2=null}var Iq=v&&v.isAnimationEnabled();if(Iq){var v3=Ir?"Update":"";var m=v.getShallow("animationDuration"+v3);var e=v.getShallow("animationEasing"+v3);var Z=v.getShallow("animationDelay"+v3);if(typeof Z==="function"){Z=Z(v2,v.getAnimationDelayParams?v.getAnimationDelayParams(i,v2):null)}if(typeof m==="function"){m=m(v2)}m>0?i.animateTo(v1,m,Z||0,e,k,!!k):(i.stopAnimation(),i.attr(v1),k&&k())}else{i.stopAnimation();i.attr(v1);k&&k()}}function oU(m,k,v,i,e){hZ(true,m,k,v,i,e)}function jE(m,k,v,i,e){hZ(false,m,k,v,i,e)}function aI(k,i){var e=lP([]);while(k&&k!==i){l(e,k.getLocalTransform(),e);k=k.parent}return e}function wa(k,e,i){if(e&&!sS(e)){e=bJ.getLocalTransform(e)}if(i){e=fI([],e)}return aY([],k,e)}function n2(Z,i,k){var e=(i[4]===0||i[5]===0||i[0]===0)?1:Math.abs(2*i[4]/i[0]);var v=(i[4]===0||i[5]===0||i[2]===0)?1:Math.abs(2*i[4]/i[2]);var m=[Z==="left"?-e:Z==="right"?e:0,Z==="top"?-v:Z==="bottom"?v:0];m=wa(m,i,k);return Math.abs(m[0])>Math.abs(m[1])?(m[0]>0?"right":"left"):(m[1]>0?"bottom":"top")}function E(k,i,Z,e){if(!k||!i){return}function v(v3){var v2={};v3.traverse(function(Iq){if(!Iq.isGroup&&Iq.anid){v2[Iq.anid]=Iq}});return v2}function v1(v2){var v3={position:uV(v2.position),rotation:v2.rotation};if(v2.shape){v3.shape=b0({},v2.shape)}return v3}var m=v(k);i.traverse(function(v3){if(!v3.isGroup&&v3.anid){var v2=m[v3.anid];if(v2){var Iq=v1(v3);v3.attr(v1(v2));oU(v3,Iq,Z,v3.dataIndex)}}})}function oH(e,i){return Ej(e,function(m){var k=m[0];k=AT(k,i.x);k=jA(k,i.x+i.width);var v=m[1];v=AT(v,i.y);v=jA(v,i.y+i.height);return[k,v]})}function vo(v,m){var e=AT(v.x,m.x);var i=jA(v.x+v.width,m.x+m.width);var Z=AT(v.y,m.y);var k=jA(v.y+v.height,m.y+m.height);if(i>=e&&k>=Z){return{x:e,y:Z,width:i-e,height:k-Z}}}function Gf(e,i,m){i=b0({rectHover:true},i);var k=i.style={strokeNoScale:true};m=m||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(k.image=e.slice(8),Di(k,m),new Fx(i)):(Bh(e.replace("path://",""),i,m,"center"))}}var yj=(Object.freeze||Object)({extendShape:HD,extendPath:rq,makePath:Bh,makeImage:Gx,mergePath:rb,resizePath:ed,subPixelOptimizeLine:dp,subPixelOptimizeRect:iC,subPixelOptimize:GA,setElementHoverStyle:lk,isInEmphasis:rZ,setHoverStyle:yr,setAsHoverStyleTrigger:yN,setLabelStyle:BH,setTextStyle:pg,setText:D6,getFont:j1,updateProps:oU,initProps:jE,getTransform:aI,applyTransform:wa,transformDirection:n2,groupTransition:E,clipPointsByRect:oH,clipRectByRect:vo,createIcon:Gf,Group:Cc,Image:Fx,Text:iT,Circle:GN,Sector:tA,Ring:r6,Polygon:ic,Polyline:Ac,Rect:EL,Line:zG,BezierCurve:gZ,Arc:pV,IncrementalDisplayable:zQ,CompoundPath:jt,LinearGradient:uG,RadialGradient:oW,BoundingRect:CL});var eB=["textStyle","color"];var L={getTextColor:function(i){var e=this.ecModel;return this.getShallow("color")||((!i&&e)?e.get(eB):null)},getFont:function(){return j1({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Gv(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var hQ=yS([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var HV={getItemStyle:function(m,i){var k=hQ(this,m,i);var e=this.getBorderLineDash();e&&(k.lineDash=e);return k},getBorderLineDash:function(){var e=this.get("borderType");return(e==="solid"||e==null)?null:(e==="dashed"?[5,5]:[1,1])}};var dl=Gu;var qU=fM();function fx(k,i,e){this.parentModel=i;this.ecModel=e;this.option=k}fx.prototype={constructor:fx,init:null,mergeOption:function(e){v7(this.option,e,true)},get:function(i,e){if(i==null){return this.option}return va(this.option,this.parsePath(i),!e&&Ay(this,i))},getShallow:function(k,e){var m=this.option;var v=m==null?m:m[k];var i=!e&&Ay(this,k);if(v==null&&i){v=i.getShallow(k)}return v},getModel:function(m,e){var k=m==null?this.option:va(this.option,m=this.parsePath(m));var i;e=e||((i=Ay(this,m))&&i.getModel(m));return new fx(k,e,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(C9(this.option))},setReadOnly:function(e){},parsePath:function(e){if(typeof e==="string"){e=e.split(".")}return e},customizeGetParent:function(e){qU(this).getParent=e},isAnimationEnabled:function(){if(!sZ.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function va(v,m,e){for(var k=0;k<m.length;k++){if(!m[k]){continue}v=(v&&typeof v==="object")?v[m[k]]:null;if(v==null){break}}if(v==null&&e){v=e.get(m)}return v}function Ay(i,k){var e=qU(i).getParent;return e?e.call(i,k):i.parentModel}AL(fx);Ab(fx);dl(fx,dg);dl(fx,fZ);dl(fx,L);dl(fx,HV);var AZ=0;function ma(e){return[(e||""),AZ++,Math.random().toFixed(5)].join("_")}function yX(e){var i={};e.registerSubTypeDefaulter=function(m,k){m=pf(m);i[m.main]=k};e.determineSubType=function(k,v){var m=v.type;if(!m){var Z=pf(k).main;if(e.hasSubTypes(k)&&i[Z]){m=i[Z](v)}}return m};return e}function Es(m,k){m.topologicalTravel=function(Is,Z,Iv,v2){if(!Is.length){return}var Iy=i(Z);var Iw=Iy.graph;var It=Iy.noEntryList;var Ir={};pb(Is,function(Iz){Ir[Iz]=true});while(It.length){var Ix=It.pop();var v3=Iw[Ix];var Iq=!!Ir[Ix];if(Iq){Iv.call(v2,Ix,v3.originalDeps.slice());delete Ir[Ix]}pb(v3.successor,Iq?Iu:v1)}pb(Ir,function(){throw new Error("Circle dependency may exists")});function v1(Iz){Iw[Iz].entryCount--;if(Iw[Iz].entryCount===0){It.push(Iz)}}function Iu(Iz){Ir[Iz]=true;v1(Iz)}};function i(v2){var v1={};var Z=[];pb(v2,function(v3){var Iq=e(v1,v3);var Is=Iq.originalDeps=k(v3);var Ir=v(Is,v2);Iq.entryCount=Ir.length;if(Iq.entryCount===0){Z.push(v3)}pb(Ir,function(It){if(eR(Iq.predecessor,It)<0){Iq.predecessor.push(It)}var Iu=e(v1,It);if(eR(Iu.successor,It)<0){Iu.successor.push(v3)}})});return{graph:v1,noEntryList:Z}}function e(v1,Z){if(!v1[Z]){v1[Z]={predecessor:[],successor:[]}}return v1[Z]}function v(v1,v2){var Z=[];pb(v1,function(v3){eR(v2,v3)>=0&&Z.push(v3)});return Z}}var FJ=0.0001;function hc(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function EU(Z,m,i,v){var k=m[1]-m[0];var e=i[1]-i[0];if(k===0){return e===0?i[0]:(i[0]+i[1])/2}if(v){if(k>0){if(Z<=m[0]){return i[0]}else{if(Z>=m[1]){return i[1]}}}else{if(Z>=m[0]){return i[0]}else{if(Z<=m[1]){return i[1]}}}}else{if(Z===m[0]){return i[0]}if(Z===m[1]){return i[1]}}return(Z-m[0])/k*e+i[0]}function zS(i,e){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}if(typeof i==="string"){if(hc(i).match(/%$/)){return parseFloat(i)/100*e}return parseFloat(i)}return i==null?NaN:+i}function FQ(e,i,k){if(i==null){i=10}i=Math.min(Math.max(0,i),20);e=(+e).toFixed(i);return k?e:+e}function o9(e){e.sort(function(k,i){return k-i});return e}function oM(m){m=+m;if(isNaN(m)){return 0}var k=1;var i=0;while(Math.round(m*k)/k!==m){k*=10;i++}return i}function t7(v){var m=v.toString();var k=m.indexOf("e");if(k>0){var e=+m.slice(k+1);return e<0?-e:0}else{var i=m.indexOf(".");return i<0?0:m.length-1-i}}function ye(Z,v1){var v=Math.log;var k=Math.LN10;var i=Math.floor(v(Z[1]-Z[0])/k);var m=Math.round(v(Math.abs(v1[1]-v1[0]))/k);var e=Math.min(Math.max(-i+m,0),20);return !isFinite(e)?20:e}function au(k,It,v1){if(!k[It]){return 0}var Iq=xf(k,function(i,Iw){return i+(isNaN(Iw)?0:Iw)},0);if(Iq===0){return 0}var e=Math.pow(10,v1);var Is=Ej(k,function(i){return(isNaN(i)?0:i)/Iq*e*100});var Iv=e*100;var m=Ej(Is,function(i){return Math.floor(i)});var Z=xf(m,function(i,Iw){return i+Iw},0);var Iu=Ej(Is,function(Iw,i){return Iw-m[i]});while(Z<Iv){var Ir=Number.NEGATIVE_INFINITY;var v3=null;for(var v=0,v2=Iu.length;v<v2;++v){if(Iu[v]>Ir){Ir=Iu[v];v3=v}}++m[v3];Iu[v3]=0;++Z}return m[It]/e}var y1=9007199254740991;function rx(i){var e=Math.PI*2;return(i%e+e)%e}function uP(e){return e>-FJ&&e<FJ}var pM=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function vV(k){if(k instanceof Date){return k}else{if(typeof k==="string"){var i=pM.exec(k);if(!i){return new Date(NaN)}if(!i[8]){return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,+i[7]||0)}else{var e=+i[4]||0;if(i[8].toUpperCase()!=="Z"){e-=i[8].slice(0,3)}return new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,e,+(i[5]||0),+i[6]||0,+i[7]||0))}}else{if(k==null){return new Date(NaN)}}}return new Date(Math.round(k))}function r1(e){return Math.pow(10,g7(e))}function g7(e){return Math.floor(Math.log(e)/Math.LN10)}function Y(Z,i){var v=g7(Z);var e=Math.pow(10,v);var m=Z/e;var k;if(i){if(m<1.5){k=1}else{if(m<2.5){k=2}else{if(m<4){k=3}else{if(m<7){k=5}else{k=10}}}}}else{if(m<1){k=1}else{if(m<2){k=2}else{if(m<3){k=3}else{if(m<5){k=5}else{k=10}}}}}Z=k*e;return v>=-20?+Z.toFixed(v<0?-v:0):Z}function vc(v2,v1){var k=(v2.length-1)*v1+1;var m=Math.floor(k);var i=+v2[m-1];var Z=k-m;return Z?i+Z*(v2[m]-i):i}function W(v1){v1.sort(function(Iq,i){return Z(Iq,i,0)?-1:1});var v2=-Infinity;var v=1;for(var m=0;m<v1.length;){var k=v1[m].interval;var v3=v1[m].close;for(var e=0;e<2;e++){if(k[e]<=v2){k[e]=v2;v3[e]=!e?1-v:1}v2=k[e];v=v3[e]}if(k[0]===k[1]&&v3[0]*v3[1]!==1){v1.splice(m,1)}else{m++}}return v1;function Z(Iq,i,Ir){return Iq.interval[Ir]<i.interval[Ir]||(Iq.interval[Ir]===i.interval[Ir]&&((Iq.close[Ir]-i.close[Ir]===(!Ir?1:-1))||(!Ir&&Z(Iq,i,1))))}}function lE(e){return e-parseFloat(e)>=0}var ni=(Object.freeze||Object)({linearMap:EU,parsePercent:zS,round:FQ,asc:o9,getPrecision:oM,getPrecisionSafe:t7,getPixelPrecision:ye,getPercentWithPrecision:au,MAX_SAFE_INTEGER:y1,remRadian:rx,isRadianAroundZero:uP,parseDate:vV,quantity:r1,nice:Y,quantile:vc,reformIntervals:W,isNumeric:lE});function j9(e){if(isNaN(e)){return"-"}e=(e+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?("."+e[1]):"")}function rh(e,i){e=(e||"").toLowerCase().replace(/-(.)/g,function(m,k){return k.toUpperCase()});if(i&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var Bn=Dz;var jB=/([&<>"'])/g;var E4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function mx(e){return e==null?"":(e+"").replace(jB,function(i,k){return E4[k]})}var hB=["a","b","c","d","e","f","g"];var n=function(i,e){return"{"+i+(e==null?"":e)+"}"};function ex(Iq,Ir,v3){if(!GL(Ir)){Ir=[Ir]}var v=Ir.length;if(!v){return""}var v2=Ir[0].$vars||[];for(var Z=0;Z<v2.length;Z++){var v1=hB[Z];Iq=Iq.replace(n(v1),n(v1,0))}for(var Is=0;Is<v;Is++){for(var m=0;m<v2.length;m++){var e=Ir[Is][v2[m]];Iq=Iq.replace(n(hB[m],Is),v3?mx(e):e)}}return Iq}function FC(e,k,i){pb(k,function(v,m){e=e.replace("{"+m+"}",i?mx(v):v)});return e}function zz(i,v){i=we(i)?{color:i,extraCssText:v}:(i||{});var e=i.color;var k=i.type;var v=i.extraCssText;var Z=i.renderMode||"html";var m=i.markerId||"X";if(!e){return""}if(Z==="html"){return k==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+mx(e)+";"+(v||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+mx(e)+";"+(v||"")+'"></span>'}else{return{renderMode:Z,content:"{marker"+m+"|}  ",style:{color:e}}}}function Gn(i,e){i+="";return"0000".substr(0,e-i.length)+i}function mV(v1,Is,e){if(v1==="week"||v1==="month"||v1==="quarter"||v1==="half-year"||v1==="year"){v1="MM-dd\nyyyy"}var k=vV(Is);var Ir=e?"UTC":"";var Iq=k["get"+Ir+"FullYear"]();var v2=k["get"+Ir+"Month"]()+1;var v3=k["get"+Ir+"Date"]();var Z=k["get"+Ir+"Hours"]();var i=k["get"+Ir+"Minutes"]();var It=k["get"+Ir+"Seconds"]();var v=k["get"+Ir+"Milliseconds"]();v1=v1.replace("MM",Gn(v2,2)).replace("M",v2).replace("yyyy",Iq).replace("yy",Iq%100).replace("dd",Gn(v3,2)).replace("d",v3).replace("hh",Gn(Z,2)).replace("h",Z).replace("mm",Gn(i,2)).replace("m",i).replace("ss",Gn(It,2)).replace("s",It).replace("SSS",Gn(v,3));return v1}function tj(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var he=aW;var vk=Gv;var fR=(Object.freeze||Object)({addCommas:j9,toCamelCase:rh,normalizeCssArray:Bn,encodeHTML:mx,formatTpl:ex,formatTplSimple:FC,getTooltipMarker:zz,formatTime:mV,capitalFirst:tj,truncateText:he,getTextRect:vk});var o8=pb;var rt=["left","right","top","bottom","width","height"];var k1=[["width","left","right"],["height","top","bottom"]];function M(k,Z,v2,v,m){var e=0;var v1=0;if(v==null){v=Infinity}if(m==null){m=Infinity}var i=0;Z.eachChild(function(Ir,Iw){var Iu=Ir.position;var Iv=Ir.getBoundingRect();var Iq=Z.childAt(Iw+1);var v3=Iq&&Iq.getBoundingRect();var Iy;var Ix;if(k==="horizontal"){var It=Iv.width+(v3?(-v3.x+Iv.x):0);Iy=e+It;if(Iy>v||Ir.newline){e=0;Iy=It;v1+=i+v2;i=Iv.height}else{i=Math.max(i,Iv.height)}}else{var Is=Iv.height+(v3?(-v3.y+Iv.y):0);Ix=v1+Is;if(Ix>m||Ir.newline){e+=i+v2;v1=0;Ix=Is;i=Iv.width}else{i=Math.max(i,Iv.width)}}if(Ir.newline){return}Iu[0]=e;Iu[1]=v1;k==="horizontal"?(e=Iy+v2):(v1=Ix+v2)})}var fn=M;var qg=sy(M,"vertical");var jp=sy(M,"horizontal");function mC(e,v1,k){var Z=v1.width;var v3=v1.height;var v2=zS(e.x,Z);var v=zS(e.y,v3);var i=zS(e.x2,Z);var m=zS(e.y2,v3);(isNaN(v2)||isNaN(parseFloat(e.x)))&&(v2=0);(isNaN(i)||isNaN(parseFloat(e.x2)))&&(i=Z);(isNaN(v)||isNaN(parseFloat(e.y)))&&(v=0);(isNaN(m)||isNaN(parseFloat(e.y2)))&&(m=v3);k=Bn(k||0);return{width:Math.max(i-v2-k[1]-k[3],0),height:Math.max(m-v-k[0]-k[2],0)}}function kX(k,Ir,Z){Z=Bn(Z||0);var Iq=Ir.width;var Iv=Ir.height;var v=zS(k.left,Iq);var v3=zS(k.top,Iv);var Is=zS(k.right,Iq);var i=zS(k.bottom,Iv);var m=zS(k.width,Iq);var It=zS(k.height,Iv);var Iu=Z[2]+Z[0];var v1=Z[1]+Z[3];var e=k.aspect;if(isNaN(m)){m=Iq-Is-v1-v}if(isNaN(It)){It=Iv-i-Iu-v3}if(e!=null){if(isNaN(m)&&isNaN(It)){if(e>Iq/Iv){m=Iq*0.8}else{It=Iv*0.8}}if(isNaN(m)){m=e*It}if(isNaN(It)){It=m/e}}if(isNaN(v)){v=Iq-Is-m-v1}if(isNaN(v3)){v3=Iv-i-It-Iu}switch(k.left||k.right){case"center":v=Iq/2-m/2-Z[3];break;case"right":v=Iq-m-v1;break}switch(k.top||k.bottom){case"middle":case"center":v3=Iv/2-It/2-Z[0];break;case"bottom":v3=Iv-It-Iu;break}v=v||0;v3=v3||0;if(isNaN(m)){m=Iq-v1-v-(Is||0)}if(isNaN(It)){It=Iv-Iu-v3-(i||0)}var v2=new CL(v+Z[3],v3+Z[0],m,It);v2.margin=Z;return v2}function AC(k,e,v3,Z,i){var v1=!i||!i.hv||i.hv[0];var Ir=!i||!i.hv||i.hv[1];var It=i&&i.boundingMode||"all";if(!v1&&!Ir){return}var v2;if(It==="raw"){v2=k.type==="group"?new CL(0,0,+e.width||0,+e.height||0):k.getBoundingRect()}else{v2=k.getBoundingRect();if(k.needLocalTransform()){var m=k.getLocalTransform();v2=v2.clone();v2.applyTransform(m)}}e=kX(Di({width:v2.width,height:v2.height},e),v3,Z);var Iq=k.position;var Iu=v1?e.x-v2.x:0;var Is=Ir?e.y-v2.y:0;k.attr("position",It==="raw"?[Iu,Is]:[Iq[0]+Iu,Iq[1]+Is])}function mY(i,e){return i[k1[e][0]]!=null||(i[k1[e][1]]!=null&&i[k1[e][2]]!=null)}function hg(i,v,m){!tM(m)&&(m={});var v2=m.ignoreSize;!GL(v2)&&(v2=[v2,v2]);var v1=Iq(k1[0],0);var k=Iq(k1[1],1);e(k1[0],i,v1);e(k1[1],i,k);function Iq(Ix,Ir){var Iv={};var Iw=0;var Iy={};var It=0;var Iz=2;o8(Ix,function(IA){Iy[IA]=i[IA]});o8(Ix,function(IA){Z(v,IA)&&(Iv[IA]=Iy[IA]=v[IA]);v3(Iv,IA)&&Iw++;v3(Iy,IA)&&It++});if(v2[Ir]){if(v3(v,Ix[1])){Iy[Ix[2]]=null}else{if(v3(v,Ix[2])){Iy[Ix[1]]=null}}return Iy}if(It===Iz||!Iw){return Iy}else{if(Iw>=Iz){return Iv}else{for(var Iu=0;Iu<Ix.length;Iu++){var Is=Ix[Iu];if(!Z(Iv,Is)&&Z(i,Is)){Iv[Is]=i[Is];break}}return Iv}}}function Z(Is,Ir){return Is.hasOwnProperty(Ir)}function v3(Is,Ir){return Is[Ir]!=null&&Is[Ir]!=="auto"}function e(It,Is,Ir){o8(It,function(Iu){Is[Iu]=Ir[Iu]})}}function g4(e){return FN({},e)}function FN(i,e){e&&i&&o8(rt,function(k){e.hasOwnProperty(k)&&(i[k]=e[k])});return i}var ml={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var hX=fM();var aH=fx.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(k,i,e,m){fx.call(this,k,i,e,m);this.uid=ma("ec_cpt_model")},init:function(k,i,e,m){this.mergeDefaultAndTheme(k,e)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?g4(i):{};var k=e.getTheme();v7(i,k.get(this.mainType));v7(i,this.getDefaultOption());if(m){hg(i,v,m)}},mergeOption:function(e,k){v7(this.option,e,true);var i=this.layoutMode;if(i){hg(this.option,e,i)}},optionUpdated:function(e,i){},getDefaultOption:function(){var e=hX(this);if(!e.defaultOption){var v=[];var m=this.constructor;while(m){var v1=m.prototype.defaultOption;v1&&v.push(v1);m=m.superClass}var k={};for(var Z=v.length-1;Z>=0;Z--){k=v7(k,v[Z],true)}e.defaultOption=k}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",true),id:this.get(e+"Id",true)})}});yo(aH,{registerWhenExtend:true});yX(aH);Es(aH,gU);function gU(e){var i=[];pb(aH.getClassesByMainType(e),function(k){i=i.concat(k.prototype.dependencies||[])});i=Ej(i,function(k){return pf(k).main});if(e!=="dataset"&&eR(i,"dataset")<=0){i.unshift("dataset")}return i}Gu(aH,ml);var tB="";if(typeof navigator!=="undefined"){tB=navigator.platform||""}var Gz={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:tB.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var hW=fM();function cW(k,e){var v=k.length;for(var m=0;m<v;m++){if(k[m].length>e){return k[m]}}return k[v-1]}var y2={clearColorPalette:function(){hW(this).colorIdx=0;hW(this).colorNameMap={}},getColorFromPalette:function(e,v3,m){v3=v3||this;var v1=hW(v3);var Iq=v1.colorIdx||0;var v=v1.colorNameMap=v1.colorNameMap||{};if(v.hasOwnProperty(e)){return v[e]}var Z=mr(this.get("color",true));var v2=this.get("colorLayer",true);var k=((m==null||!v2)?Z:cW(v2,m));k=k||Z;if(!k||!k.length){return}var i=k[Iq];if(e){v[e]=i}v1.colorIdx=(Iq+1)%k.length;return i}};function sl(i){var m=i.get("coordinateSystem");var e={coordSysName:m,coordSysDims:[],axisMap:CN(),categoryAxisMap:CN()};var k=Ct[m];if(k){k(i,e,e.axisMap,e.categoryAxisMap);return e}}var Ct={cartesian2d:function(i,e,v,Z){var k=i.getReferringComponents("xAxis")[0];var m=i.getReferringComponents("yAxis")[0];if(om){if(!k){throw new Error('xAxis "'+gw(i.get("xAxisIndex"),i.get("xAxisId"),0)+'" not found')}if(!m){throw new Error('yAxis "'+gw(i.get("xAxisIndex"),i.get("yAxisId"),0)+'" not found')}}e.coordSysDims=["x","y"];v.set("x",k);v.set("y",m);if(bV(k)){Z.set("x",k);e.firstCategoryDimIndex=0}if(bV(m)){Z.set("y",m);e.firstCategoryDimIndex=1}},singleAxis:function(i,e,m,v){var k=i.getReferringComponents("singleAxis")[0];if(om){if(!k){throw new Error("singleAxis should be specified.")}}e.coordSysDims=["single"];m.set("single",k);if(bV(k)){v.set("single",k);e.firstCategoryDimIndex=0}},polar:function(i,e,Z,v1){var m=i.getReferringComponents("polar")[0];var v=m.findAxisModel("radiusAxis");var k=m.findAxisModel("angleAxis");if(om){if(!k){throw new Error("angleAxis option not found")}if(!v){throw new Error("radiusAxis option not found")}}e.coordSysDims=["radius","angle"];Z.set("radius",v);Z.set("angle",k);if(bV(v)){v1.set("radius",v);e.firstCategoryDimIndex=0}if(bV(k)){v1.set("angle",k);e.firstCategoryDimIndex=1}},geo:function(i,e,k,m){e.coordSysDims=["lng","lat"]},parallel:function(k,i,Z,v1){var e=k.ecModel;var v=e.getComponent("parallel",k.get("parallelIndex"));var m=i.coordSysDims=v.dimensions.slice();pb(v.parallelAxisIndex,function(Iq,v2){var v3=e.getComponent("parallelAxis",Iq);var Ir=m[v2];Z.set(Ir,v3);if(bV(v3)&&i.firstCategoryDimIndex==null){v1.set(Ir,v3);i.firstCategoryDimIndex=v2}})}};function bV(e){return e.get("type")==="category"}var fF="original";var h3="arrayRows";var z5="objectRows";var Hj="keyedColumns";var g8="unknown";var ws="typedArray";var k5="column";var bj="row";function qq(e){this.fromDataset=e.fromDataset;this.data=e.data||(e.sourceFormat===Hj?{}:[]);this.sourceFormat=e.sourceFormat||g8;this.seriesLayoutBy=e.seriesLayoutBy||k5;this.dimensionsDefine=e.dimensionsDefine;this.encodeDefine=e.encodeDefine&&CN(e.encodeDefine);this.startIndex=e.startIndex||0;this.dimensionsDetectCount=e.dimensionsDetectCount}qq.seriesDataToSource=function(e){return new qq({data:e,sourceFormat:H1(e)?ws:fF,fromDataset:false})};Ab(qq);var hU=fM();function xq(v2){var v1=v2.option.source;var v=g8;if(H1(v1)){v=ws}else{if(GL(v1)){if(v1.length===0){v=h3}for(var m=0,e=v1.length;m<e;m++){var Z=v1[m];if(Z==null){continue}else{if(GL(Z)){v=h3;break}else{if(tM(Z)){v=z5;break}}}}}else{if(tM(v1)){for(var k in v1){if(v1.hasOwnProperty(k)&&sS(v1[k])){v=Hj;break}}}else{if(v1!=null){throw new Error("Invalid data")}}}}hU(v2).sourceFormat=v}function kw(e){return hU(e).source}function ha(e){hU(e).datasetMap=CN()}function kS(m){var v1=m.option;var v=v1.data;var e=H1(v)?ws:fF;var Z=false;var i=v1.seriesLayoutBy;var v3=v1.sourceHeader;var k=v1.dimensions;var Ir=o4(m);if(Ir){var Iq=Ir.option;v=Iq.source;e=hU(Ir).sourceFormat;Z=true;i=i||Iq.seriesLayoutBy;v3==null&&(v3=Iq.sourceHeader);k=k||Iq.dimensions}var Is=A5(v,e,i,v3,k);var v2=v1.encode;if(!v2&&Ir){v2=Hr(m,Ir,v,e,i,Is)}hU(m).source=new qq({data:v,fromDataset:Z,seriesLayoutBy:i,sourceFormat:e,dimensionsDefine:Is.dimensionsDefine,startIndex:Is.startIndex,dimensionsDetectCount:Is.dimensionsDetectCount,encodeDefine:v2})}function A5(v,e,k,v3,m){if(!v){return{dimensionsDefine:Ee(m)}}var Z;var Iq;var i;if(e===h3){if(v3==="auto"||v3==null){D2(function(Ir){if(Ir!=null&&Ir!=="-"){if(we(Ir)){Iq==null&&(Iq=1)}else{Iq=0}}},k,v,10)}else{Iq=v3?1:0}if(!m&&Iq===1){m=[];D2(function(Is,Ir){m[Ir]=Is!=null?Is:""},k,v)}Z=m?m.length:k===bj?v.length:v[0]?v[0].length:null}else{if(e===z5){if(!m){m=At(v);i=true}}else{if(e===Hj){if(!m){m=[];i=true;pb(v,function(Is,Ir){m.push(Ir)})}}else{if(e===fF){var v2=x0(v[0]);Z=GL(v2)&&v2.length||1}else{if(e===ws){if(om){bM(!!m,"dimensions must be given if data is TypedArray.")}}}}}}var v1;if(i){pb(m,function(Is,Ir){if((tM(Is)?Is.name:Is)==="name"){v1=Ir}})}return{startIndex:Iq,dimensionsDefine:Ee(m),dimensionsDetectCount:Z,potentialNameDimIndex:v1}}function Ee(e){if(!e){return}var i=CN();return Ej(e,function(v,k){v=b0({},tM(v)?v:{name:v});if(v.name==null){return v}v.name+="";if(v.displayName==null){v.displayName=v.name}var m=i.get(v.name);if(!m){i.set(v.name,{count:1})}else{v.name+="-"+m.count++}return v})}function D2(e,v,v1,Z){Z==null&&(Z=Infinity);if(v===bj){for(var m=0;m<v1.length&&m<Z;m++){e(v1[m]?v1[m][0]:null,m)}}else{var k=v1[0]||[];for(var m=0;m<k.length&&m<Z;m++){e(k[m],m)}}}function At(k){var e=0;var m;while(e<k.length&&!(m=k[e++])){}if(m){var i=[];pb(m,function(Z,v){i.push(v)});return i}}function Hr(Iu,It,Iz,Iq,v,Is){var v1=sl(Iu);var v2={};var v3=[];var Z=[];var e=Iu.subType;var m=CN(["pie","map","funnel"]);var k=CN(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(v1&&k.get(e)!=null){var IB=Iu.ecModel;var Iv=hU(IB).datasetMap;var IA=It.uid+"_"+v;var Iw=Iv.get(IA)||Iv.set(IA,{categoryWayDim:1,valueWayDim:0});pb(v1.coordSysDims,function(IC){if(v1.firstCategoryDimIndex==null){var i=Iw.valueWayDim++;v2[IC]=i;Z.push(i)}else{if(v1.categoryAxisMap.get(IC)){v2[IC]=0;v3.push(0)}else{var i=Iw.categoryWayDim++;v2[IC]=i;Z.push(i)}}})}else{if(m.get(e)!=null){var Ir;for(var Ix=0;Ix<5&&Ir==null;Ix++){if(!s1(Iz,Iq,v,Is.dimensionsDefine,Is.startIndex,Ix)){Ir=Ix}}if(Ir!=null){v2.value=Ir;var Iy=Is.potentialNameDimIndex||Math.max(Ir-1,0);Z.push(Iy);v3.push(Iy)}}}v3.length&&(v2.itemName=v3);Z.length&&(v2.seriesName=Z);return v2}function o4(e){var k=e.option;var i=k.data;if(!i){return e.ecModel.getComponent("dataset",k.datasetIndex||0)}}function vA(e,i){return s1(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,i)}function s1(Iq,e,v,Z,Is,It){var Iw;var v1=5;if(H1(Iq)){return false}var v2;if(Z){v2=Z[It];v2=tM(v2)?v2.name:v2}if(e===h3){if(v===bj){var Ir=Iq[It];for(var v3=0;v3<(Ir||[]).length&&v3<v1;v3++){if((Iw=k(Ir[Is+v3]))!=null){return Iw}}}else{for(var v3=0;v3<Iq.length&&v3<v1;v3++){var Iv=Iq[Is+v3];if(Iv&&(Iw=k(Iv[It]))!=null){return Iw}}}}else{if(e===z5){if(!v2){return}for(var v3=0;v3<Iq.length&&v3<v1;v3++){var Iu=Iq[v3];if(Iu&&(Iw=k(Iu[v2]))!=null){return Iw}}}else{if(e===Hj){if(!v2){return}var Ir=Iq[v2];if(!Ir||H1(Ir)){return false}for(var v3=0;v3<Ir.length&&v3<v1;v3++){if((Iw=k(Ir[v3]))!=null){return Iw}}}else{if(e===fF){for(var v3=0;v3<Iq.length&&v3<v1;v3++){var Iu=Iq[v3];var m=x0(Iu);if(!GL(m)){return false}if((Iw=k(m[It]))!=null){return Iw}}}}}}function k(i){if(i!=null&&isFinite(i)&&i!==""){return false}else{if(we(i)&&i!=="-"){return true}}}return false}var DY="\0_ec_inner";var ck=fx.extend({init:function(k,i,m,e){m=m||{};this.option=null;this._theme=new fx(m);this._optionManager=e},setOption:function(e,i){bM(!(DY in e),"please use chart.getOption()");this._optionManager.setOption(e,i);this.resetOption(null)},resetOption:function(k){var v=false;var i=this._optionManager;if(!k||k==="recreate"){var m=i.mountOption(k==="recreate");if(!this.option||k==="recreate"){iA.call(this,m)}else{this.restoreData();this.mergeOption(m)}v=true}if(k==="timeline"||k==="media"){this.restoreData()}if(!k||k==="recreate"||k==="timeline"){var Z=i.getTimelineOption(this);Z&&(this.mergeOption(Z),v=true)}if(!k||k==="recreate"||k==="media"){var e=i.getMediaOption(this,this._api);if(e.length){pb(e,function(v1){this.mergeOption(v1,v=true)},this)}}return v},mergeOption:function(m){var k=this.option;var e=this._componentsMap;var i=[];ha(this);pb(m,function(Z,v1){if(Z==null){return}if(!aH.hasClass(v1)){k[v1]=k[v1]==null?C9(Z):v7(k[v1],Z,true)}else{if(v1){i.push(v1)}}});aH.topologicalTravel(i,aH.getAllClassMainTypes(),v,this);function v(Iq,v3){var Z=mr(m[Iq]);var v2=da(e.get(Iq),Z);z8(v2);pb(v2,function(It,Ir){var Is=It.option;if(tM(Is)){It.keyInfo.mainType=Iq;It.keyInfo.subType=fb(Iq,Is,It.exist)}});var v1=zn(e,v3);k[Iq]=[];e.set(Iq,[]);pb(v2,function(Is,It){var Ir=Is.exist;var Iu=Is.option;bM(tM(Iu)||Ir,"Empty component definition");if(!Iu){Ir.mergeOption({},this);Ir.optionUpdated({},false)}else{var Iv=aH.getClass(Iq,Is.keyInfo.subType,true);if(Ir&&Ir instanceof Iv){Ir.name=Is.keyInfo.name;Ir.mergeOption(Iu,this);Ir.optionUpdated(Iu,false)}else{var Iw=b0({dependentModels:v1,componentIndex:It},Is.keyInfo);Ir=new Iv(Iu,this,this,Iw);b0(Ir,Iw);Ir.init(Iu,this,this,Iw);Ir.optionUpdated(null,true)}}e.get(Iq)[It]=Ir;k[Iq][It]=Ir.option},this);if(Iq==="series"){D4(this,e.get("series"))}}this._seriesIndicesMap=CN(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=C9(this.option);pb(e,function(m,v){if(aH.hasClass(v)){var m=mr(m);for(var k=m.length-1;k>=0;k--){if(HM(m[k])){m.splice(k,1)}}e[v]=m}});delete e[DY];return e},getTheme:function(){return this._theme},getComponent:function(k,e){var i=this._componentsMap.get(k);if(i){return i[e||0]}},queryComponents:function(m){var v1=m.mainType;if(!v1){return[]}var Z=m.index;var i=m.id;var e=m.name;var k=this._componentsMap.get(v1);if(!k||!k.length){return[]}var v3;if(Z!=null){if(!GL(Z)){Z=[Z]}v3=q7(Ej(Z,function(Iq){return k[Iq]}),function(Iq){return !!Iq})}else{if(i!=null){var v=GL(i);v3=q7(k,function(Iq){return(v&&eR(i,Iq.id)>=0)||(!v&&Iq.id===i)})}else{if(e!=null){var v2=GL(e);v3=q7(k,function(Iq){return(v2&&eR(e,Iq.name)>=0)||(!v2&&Iq.name===e)})}else{v3=k.slice()}}}return nL(v3,m)},findComponents:function(v1){var m=v1.query;var Z=v1.mainType;var i=v(m);var e=i?this.queryComponents(i):this._componentsMap.get(Z);return k(nL(e,v1));function v(Iq){var v3=Z+"Index";var Ir=Z+"Id";var v2=Z+"Name";return Iq&&(Iq[v3]!=null||Iq[Ir]!=null||Iq[v2]!=null)?{mainType:Z,index:Iq[v3],id:Iq[Ir],name:Iq[v2]}:null}function k(v2){return v1.filter?q7(v2,v1.filter):v2}},eachComponent:function(v,e,k){var i=this._componentsMap;if(typeof v==="function"){k=e;e=v;i.each(function(v1,Z){pb(v1,function(v3,v2){e.call(k,Z,v3,v2)})})}else{if(we(v)){pb(i.get(v),e,k)}else{if(tM(v)){var m=this.findComponents(v);pb(m,e,k)}}}},getSeriesByName:function(e){var i=this._componentsMap.get("series");return q7(i,function(k){return k.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(i){var e=this._componentsMap.get("series");return q7(e,function(k){return k.subType===i})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,i){kV(this);pb(this._seriesIndices,function(m){var k=this._componentsMap.get("series")[m];e.call(i,k,m)},this)},eachRawSeries:function(e,i){pb(this._componentsMap.get("series"),e,i)},eachSeriesByType:function(k,e,i){kV(this);pb(this._seriesIndices,function(v){var m=this._componentsMap.get("series")[v];if(m.subType===k){e.call(i,m,v)}},this)},eachRawSeriesByType:function(k,e,i){return pb(this.getSeriesByType(k),e,i)},isSeriesFiltered:function(e){kV(this);return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,k){kV(this);var i=q7(this._componentsMap.get("series"),e,k);D4(this,i)},restoreData:function(k){var i=this._componentsMap;D4(this,i.get("series"));var e=[];i.each(function(v,m){e.push(m)});aH.topologicalTravel(e,aH.getAllClassMainTypes(),function(m,v){pb(i.get(m),function(Z){(m!=="series"||!oe(Z,k))&&Z.restoreData()})})}});function oe(e,m){if(m){var k=m.seiresIndex;var v=m.seriesId;var i=m.seriesName;return(k!=null&&e.componentIndex!==k)||(v!=null&&e.id!==v)||(i!=null&&e.name!==i)}}function ov(e,k){var i=e.color&&!e.colorLayer;pb(k,function(v,m){if(m==="colorLayer"&&i){return}if(!aH.hasClass(m)){if(typeof v==="object"){e[m]=!e[m]?C9(v):v7(e[m],v,false)}else{if(e[m]==null){e[m]=v}}}})}function iA(e){e=e;this.option={};this.option[DY]=1;this._componentsMap=CN({series:[]});this._seriesIndices;this._seriesIndicesMap;ov(e,this._theme.option);v7(e,Gz,false);this.mergeOption(e)}function zn(e,k){if(!GL(k)){k=k?[k]:[]}var i={};pb(k,function(m){i[m]=(e.get(m)||[]).slice()});return i}function fb(m,i,e){var k=i.type?i.type:e?e.subType:aH.determineSubType(m,i);return k}function D4(e,i){e._seriesIndicesMap=CN(e._seriesIndices=Ej(i,function(k){return k.componentIndex})||[])}function nL(e,i){return i.hasOwnProperty("subType")?q7(e,function(k){return k.subType===i.subType}):e}function kV(e){if(om){if(!e._seriesIndices){throw new Error("Option should contains series.")}}}Gu(ck,y2);var iJ=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function lG(e){pb(iJ,function(i){this[i]=ko(e[i],e)},this)}var DS={};function fB(){this._coordinateSystems=[]}fB.prototype={constructor:fB,create:function(e,i){var k=[];pb(DS,function(Z,m){var v=Z.create(e,i);k=k.concat(v||[])});this._coordinateSystems=k},update:function(e,i){pb(this._coordinateSystems,function(k){k.update&&k.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};fB.register=function(i,e){DS[i]=e};fB.get=function(e){return DS[e]};var o6=pb;var uR=C9;var Aw=Ej;var lg=v7;var HX=/^(min|max)?(.+)$/;function mi(e){this._api=e;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}mi.prototype={constructor:mi,setOption:function(i,m){if(i){pb(mr(i.series),function(v){v&&v.data&&H1(v.data)&&A(v.data)})}i=uR(i,true);var e=this._optionBackup;var k=iy.call(this,i,m,!e);this._newBaseOption=k.baseOption;if(e){DU(e.baseOption,k.baseOption);if(k.timelineOptions.length){e.timelineOptions=k.timelineOptions}if(k.mediaList.length){e.mediaList=k.mediaList}if(k.mediaDefault){e.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(i){var e=this._optionBackup;this._timelineOptions=Aw(e.timelineOptions,uR);this._mediaList=Aw(e.mediaList,uR);this._mediaDefault=uR(e.mediaDefault);this._currentMediaIndices=[];return uR(i?e.baseOption:this._newBaseOption)},getTimelineOption:function(e){var k;var i=this._timelineOptions;if(i.length){var m=e.getComponent("timeline");if(m){k=uR(i[m.getCurrentIndex()],true)}}return k},getMediaOption:function(v){var e=this._api.getWidth();var m=this._api.getHeight();var v2=this._mediaList;var v1=this._mediaDefault;var v3=[];var Iq=[];if(!v2.length&&!v1){return Iq}for(var k=0,Z=v2.length;k<Z;k++){if(eA(v2[k].query,e,m)){v3.push(k)}}if(!v3.length&&v1){v3=[-1]}if(v3.length&&!lB(v3,this._currentMediaIndices)){Iq=Aw(v3,function(i){return uR(i===-1?v1.option:v2[i].option)})}this._currentMediaIndices=v3;return Iq}};function iy(i,k,m){var Z=[];var v2=[];var v;var v3;var v1=i.timeline;if(i.baseOption){v3=i.baseOption}if(v1||i.options){v3=v3||{};Z=(i.options||[]).slice()}if(i.media){v3=v3||{};var e=i.media;o6(e,function(Iq){if(Iq&&Iq.option){if(Iq.query){v2.push(Iq)}else{if(!v){v=Iq}}}})}if(!v3){v3=i}if(!v3.timeline){v3.timeline=v1}o6([v3].concat(Z).concat(Ej(v2,function(Iq){return Iq.option})),function(Iq){o6(k,function(Ir){Ir(Iq,m)})});return{baseOption:v3,timelineOptions:Z,mediaDefault:v,mediaList:v2}}function eA(m,i,v){var e={width:i,height:v,aspectratio:i/v};var k=true;pb(m,function(Iq,v2){var v1=v2.match(HX);if(!v1||!v1[1]||!v1[2]){return}var v3=v1[1];var Z=v1[2].toLowerCase();if(!Da(e[Z],Iq,v3)){k=false}});return k}function Da(k,i,e){if(e==="min"){return k>=i}else{if(e==="max"){return k<=i}else{return k===i}}}function lB(i,e){return i.join(",")===e.join(",")}function DU(e,i){i=i||{};o6(i,function(v,Z){if(v==null){return}var m=e[Z];if(!aH.hasClass(Z)){e[Z]=lg(m,v,true)}else{v=mr(v);m=mr(m);var k=da(m,v);e[Z]=Aw(k,function(v1){return(v1.option&&v1.exist)?lg(v1.exist,v1.option,true):(v1.exist||v1.option)})}})}var o5=pb;var tK=tM;var mu=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function k7(Z){var v1=Z&&Z.itemStyle;if(!v1){return}for(var v=0,e=mu.length;v<e;v++){var m=mu[v];var v2=v1.normal;var k=v1.emphasis;if(v2&&v2[m]){Z[m]=Z[m]||{};if(!Z[m].normal){Z[m].normal=v2[m]}else{v7(Z[m].normal,v2[m])}v2[m]=null}if(k&&k[m]){Z[m]=Z[m]||{};if(!Z[m].emphasis){Z[m].emphasis=k[m]}else{v7(Z[m].emphasis,k[m])}k[m]=null}}}function n6(i,e,m){if(i&&i[e]&&(i[e].normal||i[e].emphasis)){var k=i[e].normal;var v=i[e].emphasis;if(k){if(m){i[e].normal=i[e].emphasis=null;Di(i[e],k)}else{i[e]=k}}if(v){i.emphasis=i.emphasis||{};i.emphasis[e]=v}}}function nj(e){n6(e,"itemStyle");n6(e,"lineStyle");n6(e,"areaStyle");n6(e,"label");n6(e,"labelLine");n6(e,"upperLabel");n6(e,"edgeLabel")}function vs(m,v){var v1=tK(m)&&m[v];var Z=tK(v1)&&v1.textStyle;if(Z){for(var k=0,e=Bp.length;k<e;k++){var v=Bp[k];if(Z.hasOwnProperty(v)){v1[v]=Z[v]}}}}function cB(e){if(e){nj(e);vs(e,"label");e.emphasis&&vs(e.emphasis,"label")}}function Dt(Iq){if(!tK(Iq)){return}k7(Iq);nj(Iq);vs(Iq,"label");vs(Iq,"upperLabel");vs(Iq,"edgeLabel");if(Iq.emphasis){vs(Iq.emphasis,"label");vs(Iq.emphasis,"upperLabel");vs(Iq.emphasis,"edgeLabel")}var v3=Iq.markPoint;if(v3){k7(v3);cB(v3)}var e=Iq.markLine;if(e){k7(e);cB(e)}var k=Iq.markArea;if(k){cB(k)}var m=Iq.data;if(Iq.type==="graph"){m=m||Iq.nodes;var v1=Iq.links||Iq.edges;if(v1&&!H1(v1)){for(var v=0;v<v1.length;v++){cB(v1[v])}}pb(Iq.categories,function(i){nj(i)})}if(m&&!H1(m)){for(var v=0;v<m.length;v++){cB(m[v])}}var v3=Iq.markPoint;if(v3&&v3.data){var Z=v3.data;for(var v=0;v<Z.length;v++){cB(Z[v])}}var e=Iq.markLine;if(e&&e.data){var v2=e.data;for(var v=0;v<v2.length;v++){if(GL(v2[v])){cB(v2[v][0]);cB(v2[v][1])}else{cB(v2[v])}}}if(Iq.type==="gauge"){vs(Iq,"axisLabel");vs(Iq,"title");vs(Iq,"detail")}else{if(Iq.type==="treemap"){n6(Iq.breadcrumb,"itemStyle");pb(Iq.levels,function(i){nj(i)})}else{if(Iq.type==="tree"){nj(Iq.leaves)}}}}function BA(e){return GL(e)?e:e?[e]:[]}function tn(e){return(GL(e)?e[0]:e)||{}}var yZ=function(e,k){o5(BA(e.series),function(m){tK(m)&&Dt(m)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];k&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");o5(i,function(m){o5(BA(e[m]),function(v){if(v){vs(v,"axisLabel");vs(v.axisPointer,"label")}})});o5(BA(e.parallel),function(v){var m=v&&v.parallelAxisDefault;vs(m,"axisLabel");vs(m&&m.axisPointer,"label")});o5(BA(e.calendar),function(m){n6(m,"itemStyle");vs(m,"dayLabel");vs(m,"monthLabel");vs(m,"yearLabel")});o5(BA(e.radar),function(m){vs(m,"name")});o5(BA(e.geo),function(m){if(tK(m)){cB(m);o5(BA(m.regions),function(v){cB(v)})}});o5(BA(e.timeline),function(m){cB(m);n6(m,"label");n6(m,"itemStyle");n6(m,"controlStyle",true);var v=m.data;GL(v)&&pb(v,function(Z){if(tM(Z)){n6(Z,"label");n6(Z,"itemStyle")}})});o5(BA(e.toolbox),function(m){n6(m,"iconStyle");o5(m.feature,function(v){n6(v,"iconStyle")})});vs(tn(e.axisPointer),"label");vs(tn(e.tooltip).axisPointer,"label")};function yq(k,v){v=v.split(",");var m=k;for(var e=0;e<v.length;e++){m=m&&m[v[e]];if(m==null){break}}return m}function mf(v,v1,v2,e){v1=v1.split(",");var Z=v;var m;for(var k=0;k<v1.length-1;k++){m=v1[k];if(Z[m]==null){Z[m]={}}Z=Z[m]}if(e||Z[v1[k]]==null){Z[v1[k]]=v2}}function Bj(e){pb(n0,function(i){if(i[0] in e&&!(i[1] in e)){e[i[1]]=e[i[0]]}})}var n0=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var z7=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Hy=function(e,i){yZ(e,i);e.series=mr(e.series);pb(e.series,function(k){if(!tM(k)){return}var v=k.type;if(v==="pie"||v==="gauge"){if(k.clockWise!=null){k.clockwise=k.clockWise}}if(v==="gauge"){var m=yq(k,"pointer.color");m!=null&&mf(k,"itemStyle.normal.color",m)}Bj(k)});if(e.dataRange){e.visualMap=e.dataRange}pb(z7,function(k){var m=e[k];if(m){if(!GL(m)){m=[m]}pb(m,function(v){Bj(v)})}})};var v5=function(e){var i=CN();e.eachSeries(function(m){var k=m.get("stack");if(k){var v=i.get(k)||i.set(k,[]);var Z=m.getData();var v1={stackResultDimension:Z.getCalculationInfo("stackResultDimension"),stackedOverDimension:Z.getCalculationInfo("stackedOverDimension"),stackedDimension:Z.getCalculationInfo("stackedDimension"),stackedByDimension:Z.getCalculationInfo("stackedByDimension"),isStackedByIndex:Z.getCalculationInfo("isStackedByIndex"),data:Z,seriesModel:m};if(!v1.stackedDimension||!(v1.isStackedByIndex||v1.stackedByDimension)){return}v.length&&Z.setCalculationInfo("stackedOnSeries",v[v.length-1].seriesModel);v.push(v1)}});i.each(qr)};function qr(e){pb(e,function(m,k){var Z=[];var i=[NaN,NaN];var v3=[m.stackResultDimension,m.stackedOverDimension];var v2=m.data;var v=m.isStackedByIndex;var v1=v2.map(v3,function(Iy,Ix,Iw){var Iv=v2.get(m.stackedDimension,Iw);if(isNaN(Iv)){return i}var Iz;var Is;if(v){Is=v2.getRawIndex(Iw)}else{Iz=v2.get(m.stackedByDimension,Iw)}var Iq=NaN;for(var Iu=k-1;Iu>=0;Iu--){var Ir=e[Iu];if(!v){Is=Ir.data.rawIndexOf(Ir.stackedByDimension,Iz)}if(Is>=0){var It=Ir.data.getByRawIndex(Ir.stackResultDimension,Is);if((Iv>=0&&It>0)||(Iv<=0&&It<0)){Iv+=It;Iq=It;break}}}Z[0]=Iv;Z[1]=Iq;return Z});v2.hostModel.setData(v1);m.data=v1})}function fU(m,v){if(!qq.isInstance(m)){m=qq.seriesDataToSource(m)}this._source=m;var k=this._data=m.data;var i=m.sourceFormat;if(i===ws){if(om){if(v==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=v;this._data=k}var e=oY[i===h3?i+"_"+m.seriesLayoutBy:i];if(om){bM(e,"Invalide sourceFormat: "+i)}b0(this,e)}var pS=fU.prototype;pS.pure=false;pS.persistent=true;pS.getSource=function(){return this._source};var oY={arrayRows_column:{pure:true,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:dX},arrayRows_row:{pure:true,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;var m=[];var v=this._data;for(var k=0;k<v.length;k++){var Z=v[k];m.push(Z?Z[e]:null)}return m},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:true,count:C2,getItem:zr,appendData:dX},keyedColumns:{pure:true,count:function(){var i=this._source.dimensionsDefine[0].name;var e=this._data[i];return e?e.length:0},getItem:function(e){var v=[];var Z=this._source.dimensionsDefine;for(var m=0;m<Z.length;m++){var k=this._data[Z[m].name];v.push(k?k[e]:null)}return v},appendData:function(e){var i=this._data;pb(e,function(Z,m){var v=i[m]||(i[m]=[]);for(var k=0;k<(Z||[]).length;k++){v.push(Z[k])}})}},original:{count:C2,getItem:zr,appendData:dX},typedArray:{persistent:false,pure:true,count:function(){return this._data?(this._data.length/this._dimSize):0},getItem:function(e,k){e=e-this._offset;k=k||[];var v=this._dimSize*e;for(var m=0;m<this._dimSize;m++){k[m]=this._data[v+m]}return k},appendData:function(e){if(om){bM(H1(e),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=e},clean:function(){this._offset+=this.count();this._data=null}}};function C2(){return this._data.length}function zr(e){return this._data[e]}function dX(k){for(var e=0;e<k.length;e++){this._data.push(k[e])}}var gr={arrayRows:DR,objectRows:function(e,i,m,k){return m!=null?e[k]:e},keyedColumns:DR,original:function(e,i,v,m){var k=x0(e);return(v==null||!(k instanceof Array))?k:k[v]},typedArray:DR};function DR(e,i,m,k){return m!=null?e[m]:e}var kI={arrayRows:Fw,objectRows:function(e,m,i,k){return kQ(e[m],this._dimensionInfos[m])},keyedColumns:Fw,original:function(e,v,i,m){var k=e&&(e.value==null?e:e.value);if(!this._rawData.pure&&oc(e)){this.hasItemOption=true}return kQ((k instanceof Array)?k[m]:k,this._dimensionInfos[v])},typedArray:function(e,m,i,k){return e[k]}};function Fw(e,m,i,k){return kQ(e[k],this._dimensionInfos[m])}function kQ(k,i){var m=i&&i.type;if(m==="ordinal"){var e=i&&i.ordinalMeta;return e?e.parseAndCollect(k):k}if(m==="time"&&typeof k!=="number"&&k!=null&&k!=="-"){k=+vV(k)}return(k==null||k==="")?NaN:+k}function i7(v,m,v2){if(!v){return}var i=v.getRawDataItem(m);if(i==null){return}var k=v.getProvider().getSource().sourceFormat;var v1;var Z;var e=v.getDimensionInfo(v2);if(e){v1=e.name;Z=e.index}return gr[k](i,m,Z,v1)}function GE(v,m,e){if(!v){return}var k=v.getProvider().getSource().sourceFormat;if(k!==fF&&k!==z5){return}var i=v.getRawDataItem(m);if(k===fF&&!tM(i)){i=null}if(i){return i[e]}}var C6=/\{@(.+?)\}/g;var vb={getDataParams:function(Iq,Ir){var v1=this.getData(Ir);var m=this.getRawValue(Iq,Ir);var v2=v1.getRawIndex(Iq);var i=v1.getName(Iq);var Z=v1.getRawDataItem(Iq);var v=v1.getItemVisual(Iq,"color");var Is=this.ecModel.getComponent("tooltip");var k=Is&&Is.get("renderMode");var It=zc(k);var v3=this.mainType;var e=v3==="series";return{componentType:v3,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:e?this.subType:null,seriesIndex:this.seriesIndex,seriesId:e?this.id:null,seriesName:e?this.name:null,name:i,dataIndex:v2,data:Z,dataType:Ir,value:m,color:v,marker:zz({color:v,renderMode:It}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(Z,i,v1,v3,k){i=i||"normal";var m=this.getData(v1);var Iq=m.getItemModel(Z);var e=this.getDataParams(Z,v1);if(v3!=null&&(e.value instanceof Array)){e.value=e.value[v3]}var v2=Iq.get(i==="normal"?[k||"label","formatter"]:[i,k||"label","formatter"]);if(typeof v2==="function"){e.status=i;return v2(e)}else{if(typeof v2==="string"){var v=ex(v2,e);return v.replace(C6,function(Is,It){var Ir=It.length;if(It.charAt(0)==="["&&It.charAt(Ir-1)==="]"){It=+It.slice(1,Ir-1)}return i7(m,Z,It)})}}},getRawValue:function(e,i){return i7(this.getData(i),e)},formatTooltip:function(){}};function Ce(e){return new tP(e)}function tP(e){e=e||{};this._reset=e.reset;this._plan=e.plan;this._count=e.count;this._onDirty=e.onDirty;this._dirty=true;this.context}var lc=tP.prototype;lc.perform=function(Iy){var Iv=this._upstream;var Iw=Iy&&Iy.skip;if(this._dirty&&Iv){var Z=this.context;Z.data=Z.outputData=Iv.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var v2;if(this._plan&&!Iw){v2=this._plan(this.context)}var k=It(this._modBy);var Is=this._modDataCount||0;var m=It(Iy&&Iy.modBy);var Iu=Iy&&Iy.modDataCount||0;if(k!==m||Is!==Iu){v2="reset"}function It(i){!(i>=1)&&(i=1);return i}var Ix;if(this._dirty||v2==="reset"){this._dirty=false;Ix=zj(this,Iw)}this._modBy=m;this._modDataCount=Iu;var v1=Iy&&Iy.step;if(Iv){if(om){bM(Iv._outputDueEnd!=null)}this._dueEnd=Iv._outputDueEnd}else{if(om){bM(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var v=this._dueIndex;var Iq=Math.min(v1!=null?this._dueIndex+v1:Infinity,this._dueEnd);if(!Iw&&(Ix||v<Iq)){var e=this._progress;if(GL(e)){for(var Ir=0;Ir<e.length;Ir++){vL(this,e[Ir],v,Iq,m,Iu)}}else{vL(this,e,v,Iq,m,Iu)}}this._dueIndex=Iq;var v3=this._settedOutputEnd!=null?this._settedOutputEnd:Iq;if(om){bM(v3>=this._outputDueEnd)}this._outputDueEnd=v3}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};var iW=(function(){var e;var v1;var Z;var m;var i;var k={reset:function(Iq,Ir,v3,Is){v1=Iq;e=Ir;Z=v3;m=Is;i=Math.ceil(m/Z);k.next=(Z>1&&m>0)?v2:v}};return k;function v(){return v1<e?v1++:null}function v2(){var Iq=(v1%i)*Z+Math.ceil(v1/i);var v3=v1>=e?null:Iq<m?Iq:v1;v1++;return v3}})();lc.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};function vL(m,i,Z,e,v,k){iW.reset(Z,e,v,k);m._callingProgress=i;m._callingProgress({start:Z,end:e,count:e-Z,next:iW.next},m.context)}function zj(v,i){v._dueIndex=v._outputDueEnd=v._dueEnd=0;v._settedOutputEnd=null;var e;var m;if(!i&&v._reset){e=v._reset(v.context);if(e&&e.progress){m=e.forceFirstProgress;e=e.progress}if(GL(e)&&!e.length){e=null}}v._progress=e;v._modBy=v._modDataCount=null;var k=v._downstream;k&&k.dirty();return m}lc.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};lc.pipe=function(e){if(om){bM(e&&!e._disposed&&e!==this)}if(this._downstream!==e||this._dirty){this._downstream=e;e._upstream=this;e.dirty()}};lc.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};lc.getUpstream=function(){return this._upstream};lc.getDownstream=function(){return this._downstream};lc.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var hS=fM();var nW=aH.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(k,i,e,v){this.seriesIndex=this.componentIndex;this.dataTask=Ce({count:pU,reset:lj});this.dataTask.context={model:this};this.mergeDefaultAndTheme(k,e);kS(this);var m=this.getInitialData(k,e);uU(m,this);this.dataTask.context.data=m;if(om){bM(m,"getInitialData returned invalid data.")}hS(this).dataBeforeProcessed=m;pm(this)},mergeDefaultAndTheme:function(i,e){var m=this.layoutMode;var v=m?g4(i):{};var k=this.subType;if(aH.hasClass(k)){k+="Series"}v7(i,e.getTheme().get(this.subType));v7(i,this.getDefaultOption());DE(i,"label",["show"]);this.fillDataTextStyle(i.data);if(m){hg(i,v,m)}},mergeOption:function(i,e){i=v7(this.option,i,true);this.fillDataTextStyle(i.data);var m=this.layoutMode;if(m){hg(this.option,i,m)}kS(this);var k=this.getInitialData(i,e);uU(k,this);this.dataTask.dirty();this.dataTask.context.data=k;hS(this).dataBeforeProcessed=k;pm(this)},fillDataTextStyle:function(m){if(m&&!H1(m)){var k=["show"];for(var e=0;e<m.length;e++){if(m[e]&&m[e].label){DE(m[e],"label",k)}}}},getInitialData:function(){},appendData:function(i){var e=this.getRawData();e.appendData(i.data)},getData:function(i){var e=mP(this);if(e){var k=e.context.data;return i==null?k:k.getLinkedData(i)}else{return hS(this).data}},setData:function(k){var e=mP(this);if(e){var i=e.context;if(i.data!==k&&e.modifyOutputEnd){e.setOutputEnd(k.count())}i.outputData=k;if(e!==this.dataTask){i.data=k}}hS(this).data=k},getSource:function(){return kw(this)},getRawData:function(){return hS(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(IC,IA,Iv,k){var v2=this;k=k||"html";var IB=k==="html"?"<br/>":"\n";var Ir=k==="richText";var Iy={};var IF=0;function Is(IJ){var IH=xf(IJ,function(IO,IP,IN){var IM=ID.getDimensionInfo(IN);return IO|=IM&&IM.tooltip!==false&&IM.displayName!=null},0);var IG=[];m.length?pb(m,function(IM){IK(i7(ID,IC,IM),IM)}):pb(IJ,IK);function IK(IS,IP){var IM=ID.getDimensionInfo(IP);if(!IM||IM.otherDims.tooltip===false){return}var IT=IM.type;var IO="sub"+v2.seriesIndex+"at"+IF;var IR=zz({color:Iw,type:"subItem",renderMode:k,markerId:IO});var IQ=typeof IR==="string"?IR:IR.content;var IN=(IH?IQ+mx(IM.displayName||"-")+": ":"")+mx(IT==="ordinal"?IS+"":IT==="time"?(IA?"":mV("yyyy/MM/dd hh:mm:ss",IS)):j9(IS));IN&&IG.push(IN);if(Ir){Iy[IO]=Iw;++IF}}var IL=IH?(Ir?"\n":"<br/>"):"";var II=IL+IG.join(IL||", ");return{renderMode:k,content:II,style:Iy}}function e(IG){return{renderMode:k,content:mx(j9(IG)),style:Iy}}var ID=this.getData();var m=ID.mapDimension("defaultedTooltip",true);var Z=m.length;var It=this.getRawValue(IC);var Ix=GL(It);var Iw=ID.getItemVisual(IC,"color");if(tM(Iw)&&Iw.colorStops){Iw=(Iw.colorStops[0]||{}).color}Iw=Iw||"transparent";var v=(Z>1||(Ix&&!Z))?Is(It):Z?e(i7(ID,IC,m[0])):e(Ix?It[0]:It);var Iu=v.content;var v1=v2.seriesIndex+"at"+IF;var i=zz({color:Iw,type:"item",renderMode:k,markerId:v1});Iy[v1]=Iw;++IF;var IE=ID.getName(IC);var Iz=this.name;if(!qY(this)){Iz=""}Iz=Iz?mx(Iz)+(!IA?IB:": "):"";var Iq=typeof i==="string"?i:i.content;var v3=!IA?Iz+Iq+(IE?mx(IE)+": "+Iu:Iu):Iq+Iz+Iu;return{html:v3,markers:Iy}},isAnimationEnabled:function(){if(sZ.node){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(m,v,i){var e=this.ecModel;var k=y2.getColorFromPalette.call(this,m,v,i);if(!k){k=e.getColorFromPalette(m,v,i)}return k},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,true)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Gu(nW,vb);Gu(nW,y2);function pm(e){var i=e.name;if(!qY(e)){e.name=lH(e)||i}}function lH(i){var m=i.getRawData();var k=m.mapDimension("seriesName",true);var e=[];pb(k,function(Z){var v=m.getDimensionInfo(Z);v.displayName&&e.push(v.displayName)});return e.join(" ")}function pU(e){return e.model.getRawData().count()}function lj(i){var e=i.model;e.setData(e.getRawData().cloneShallow());return dI}function dI(i,e){if(i.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function uU(i,e){pb(i.CHANGABLE_METHODS,function(k){i.wrapMethod(k,sy(fy,e))})}function fy(i){var e=mP(i);if(e){e.setOutputEnd(this.count())}}function mP(i){var m=(i.ecModel||{}).scheduler;var k=m&&m.getPipeline(i.uid);if(k){var e=k.currentTask;if(e){var v=e.agentStubMap;if(v){e=v.get(i.uid)}}return e}}var sW=function(){this.group=new Cc();this.uid=ma("viewComponent")};sW.prototype={constructor:sW,init:function(e,i){},render:function(i,e,k,m){},dispose:function(){},filterForExposedEvent:null};var jY=sW.prototype;jY.updateView=jY.updateLayout=jY.updateVisual=function(i,e,k,m){};AL(sW);yo(sW,{registerWhenExtend:true});var Ew=function(){var e=fM();return function(k){var i=e(k);var v1=k.pipelineContext;var v2=i.large;var v=i.progressiveRender;var m=i.large=v1.large;var Z=i.progressiveRender=v1.progressiveRender;return !!((v2^m)||(v^Z))&&"reset"}};var hP=fM();var EQ=Ew();function dG(){this.group=new Cc();this.uid=ma("viewChart");this.renderTask=Ce({plan:ab,reset:lF});this.renderTask.context={view:this}}dG.prototype={type:"chart",init:function(e,i){},render:function(i,e,k,m){},highlight:function(i,e,k,m){Dj(i.getData(),m,"emphasis")},downplay:function(i,e,k,m){Dj(i.getData(),m,"normal")},remove:function(e,i){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var pK=dG.prototype;pK.updateView=pK.updateLayout=pK.updateVisual=function(i,e,k,m){this.render(i,e,k,m)};function vJ(k,m){if(k){k.trigger(m);if(k.type==="group"){for(var e=0;e<k.childCount();e++){vJ(k.childAt(e),m)}}}}function Dj(k,m,i){var e=xh(k,m);if(e!=null){pb(mr(e),function(v){vJ(k.getItemGraphicEl(v),i)})}else{k.eachItemGraphicEl(function(v){vJ(v,i)})}}AL(dG,["dispose"]);yo(dG,{registerWhenExtend:true});dG.markUpdateMethod=function(i,e){hP(i).updateMethod=e};function ab(e){return EQ(e.model)}function lF(e){var i=e.model;var m=e.ecModel;var v=e.api;var v3=e.payload;var Z=i.pipelineContext.progressiveRender;var v1=e.view;var k=v3&&hP(v3).updateMethod;var v2=Z?"incrementalPrepareRender":(k&&v1[k])?k:"render";if(v2!=="render"){v1[v2](i,m,v,v3)}return sn[v2]}var sn={incrementalPrepareRender:{progress:function(i,e){e.view.incrementalRender(i,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(i,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var d5="\0__throttleOriginMethod";var kr="\0__throttleRate";var AJ="\0__throttleType";function e3(v3,Z,Is){var k;var Ir=0;var i=0;var e=null;var Iq;var It;var v1;var v2;Z=Z||0;function v(){i=(new Date()).getTime();e=null;v3.apply(It,v1||[])}var m=function(){k=(new Date()).getTime();It=this;v1=arguments;var Iv=v2||Z;var Iu=v2||Is;v2=null;Iq=k-(Iu?Ir:i)-Iv;clearTimeout(e);if(Iu){e=setTimeout(v,Iv)}else{if(Iq>=0){v()}else{e=setTimeout(v,-Iq)}}Ir=k};m.clear=function(){if(e){clearTimeout(e);e=null}};m.debounceNextCall=function(Iu){v2=Iu};return m}function mM(Z,v,m,v2){var k=Z[v];if(!k){return}var e=k[d5]||k;var v1=k[AJ];var i=k[kr];if(i!==m||v1!==v2){if(m==null||!v2){return(Z[v]=e)}k=Z[v]=e3(e,m,v2==="debounce");k[d5]=e;k[AJ]=v2;k[kr]=m}return k}function cH(k,i){var e=k[i];if(e&&e[d5]){k[i]=e[d5]}}var CG={createOnAllSeries:true,performRawSeries:true,reset:function(m,e){var Z=m.getData();var k=(m.visualColorAccessPath||"itemStyle.color").split(".");var i=m.get(k)||m.getColorFromPalette(m.name,null,e.getSeriesCount());Z.setVisual("color",i);if(!e.isSeriesFiltered(m)){if(typeof i==="function"&&!(i instanceof lX)){Z.each(function(v1){Z.setItemVisual(v1,"color",i(m.getDataParams(v1)))})}var v=function(Iq,v1){var v3=Iq.getItemModel(v1);var v2=v3.get(k,true);if(v2!=null){Iq.setItemVisual(v1,"color",v2)}};return{dataEach:Z.hasItemOption?v:null}}}};var Cr={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var id=function(v,v2){var Z=v2.getModel("aria");if(!Z.get("show")){return}else{if(Z.get("description")){v.setAttribute("aria-label",Z.get("description"));return}}var i=0;v2.eachSeries(function(Ix,Iw){++i},this);var Iu=Z.get("data.maxCount")||10;var Iv=Z.get("series.maxCount")||10;var e=Math.min(i,Iv);var Ir;if(i<1){return}else{var It=m();if(It){Ir=k(Is("general.withTitle"),{title:It})}else{Ir=Is("general.withoutTitle")}var Iq=[];var v1=i>1?"series.multiple.prefix":"series.single.prefix";Ir+=k(Is(v1),{seriesCount:i});v2.eachSeries(function(Ix,IF){if(IF<e){var IC;var ID=Ix.get("name");var Iy="series."+(i>1?"multiple":"single")+".";IC=Is(ID?Iy+"withName":Iy+"withoutName");IC=k(IC,{seriesId:Ix.seriesIndex,seriesName:Ix.get("name"),seriesType:v3(Ix.subType)});var Iz=Ix.getData();window.data=Iz;if(Iz.count()>Iu){IC+=k(Is("data.partialData"),{displayCnt:Iu})}else{IC+=Is("data.allData")}var IB=[];for(var IA=0;IA<Iz.count();IA++){if(IA<Iu){var Iw=Iz.getName(IA);var IE=i7(Iz,IA);IB.push(k(Iw?Is("data.withName"):Is("data.withoutName"),{name:Iw,value:IE}))}}IC+=IB.join(Is("data.separator.middle"))+Is("data.separator.end");Iq.push(IC)}});Ir+=Iq.join(Is("series.multiple.separator.middle"))+Is("series.multiple.separator.end");v.setAttribute("aria-label",Ir)}function k(Iy,Ix){if(typeof Iy!=="string"){return Iy}var Iw=Iy;pb(Ix,function(IA,Iz){Iw=Iw.replace(new RegExp("\\{\\s*"+Iz+"\\s*\\}","g"),IA)});return Iw}function Is(IA){var Iy=Z.get(IA);if(Iy==null){var Iz=IA.split(".");var Iw=Cr.aria;for(var Ix=0;Ix<Iz.length;++Ix){Iw=Iw[Iz[Ix]]}return Iw}else{return Iy}}function m(){var Iw=v2.getModel("title").option;if(Iw&&Iw.length){Iw=Iw[0]}return Iw&&Iw.text}function v3(Iw){return Cr.series.typeNames[Iw]||""}};var yJ=Math.PI;var uL=function(m,v){v=v||{};Di(v,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new EL({style:{fill:v.maskColor},zlevel:v.zlevel,z:10000});var k=new pV({shape:{startAngle:-yJ/2,endAngle:-yJ/2+0.1,r:10},style:{stroke:v.color,lineCap:"round",lineWidth:5},zlevel:v.zlevel,z:10001});var i=new EL({style:{fill:"none",text:v.text,textPosition:"right",textDistance:10,textFill:v.textColor},zlevel:v.zlevel,z:10001});k.animateShape(true).when(1000,{endAngle:yJ*3/2}).start("circularInOut");k.animateShape(true).when(1000,{startAngle:yJ*3/2}).delay(300).start("circularInOut");var Z=new Cc();Z.add(k);Z.add(i);Z.add(e);Z.resize=function(){var v1=m.getWidth()/2;var v3=m.getHeight()/2;k.setShape({cx:v1,cy:v3});var v2=k.shape.r;i.setShape({x:v1-v2,y:v3-v2,width:v2*2,height:v2*2});e.setShape({x:0,y:0,width:m.getWidth(),height:m.getHeight()})};Z.resize();return Z};function EX(k,m,e,i){this.ecInstance=k;this.api=m;this.unfinished;var e=this._dataProcessorHandlers=e.slice();var i=this._visualHandlers=i.slice();this._allHandlers=e.concat(i);this._stageTaskMap=CN()}var fk=EX.prototype;fk.restoreData=function(e,i){e.restoreData(i);this._stageTaskMap.each(function(k){var m=k.overallTask;m&&m.dirty()})};fk.getPerformArgs=function(k,e){if(!k.__pipeline){return}var m=this._pipelineMap.get(k.__pipeline.id);var i=m.context;var v2=!e&&m.progressiveEnabled&&(!i||i.progressiveRender)&&k.__idxInPipeline>m.blockIndex;var Z=v2?m.step:null;var v=i&&i.modDataCount;var v1=v!=null?Math.ceil(v/Z):null;return{step:Z,modBy:v1,modDataCount:v}};fk.getPipeline=function(e){return this._pipelineMap.get(e)};fk.updateStreamModes=function(i,e){var k=this._pipelineMap.get(i.uid);var v1=i.getData();var v=v1.count();var v2=k.progressiveEnabled&&e.incrementalPrepareRender&&v>=k.threshold;var m=i.get("large")&&v>=i.get("largeThreshold");var Z=i.get("progressiveChunkMode")==="mod"?v:null;i.pipelineContext=k.context={progressiveRender:v2,modDataCount:Z,large:m}};fk.restorePipelines=function(e){var i=this;var k=i._pipelineMap=CN();e.eachSeries(function(m){var v=m.getProgressive();var Z=m.uid;k.set(Z,{id:Z,head:null,tail:null,threshold:m.getProgressiveThreshold(),progressiveEnabled:v&&!(m.preventIncremental&&m.preventIncremental()),blockIndex:-1,step:Math.round(v||700),count:0});qG(i,m,m.dataTask)})};fk.prepareStageTasks=function(){var i=this._stageTaskMap;var e=this.ecInstance.getModel();var k=this.api;pb(this._allHandlers,function(v){var m=i.get(v.uid)||i.set(v.uid,[]);v.reset&&fE(this,v,m,e,k);v.overallReset&&nz(this,v,m,e,k)},this)};fk.prepareView=function(i,m,e,Z){var k=i.renderTask;var v=k.context;v.model=m;v.ecModel=e;v.api=Z;k.__block=!i.incrementalPrepareRender;qG(this,m,k)};fk.performDataProcessorTasks=function(e,i){wB(this,this._dataProcessorHandlers,e,i,{block:true})};fk.performVisualTasks=function(e,k,i){wB(this,this._visualHandlers,e,k,i)};function wB(k,m,e,v,i){i=i||{};var v1;pb(m,function(Iv,Iq){if(i.visualType&&i.visualType!==Iv.visualType){return}var v3=k._stageTaskMap.get(Iv.uid);var v2=v3.seriesTaskMap;var Ir=v3.overallTask;if(Ir){var Iu;var Is=Ir.agentStubMap;Is.each(function(Iw){if(Z(i,Iw)){Iw.dirty();Iu=true}});Iu&&Ir.dirty();ke(Ir,v);var It=k.getPerformArgs(Ir,i.block);Is.each(function(Iw){Iw.perform(It)});v1|=Ir.perform(It)}else{if(v2){v2.each(function(Iw,Iy){if(Z(i,Iw)){Iw.dirty()}var Ix=k.getPerformArgs(Iw,i.block);Ix.skip=!Iv.performRawSeries&&e.isSeriesFiltered(Iw.context.model);ke(Iw,v);v1|=Iw.perform(Ix)})}}});function Z(v3,v2){return v3.setDirty&&(!v3.dirtyMap||v3.dirtyMap.get(v2.__pipeline.id))}k.unfinished|=v1}fk.performSeriesTasks=function(e){var i;e.eachSeries(function(k){i|=k.dataTask.perform()});this.unfinished|=i};fk.plan=function(){this._pipelineMap.each(function(i){var e=i.tail;do{if(e.__block){i.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var ke=fk.updatePayload=function(e,i){i!=="remain"&&(e.context.payload=i)};function fE(v,k,v1,v2,v3){var e=v1.seriesTaskMap||(v1.seriesTaskMap=CN());var m=k.seriesType;var Iq=k.getTargetSeries;if(k.createOnAllSeries){v2.eachRawSeries(Z)}else{if(m){v2.eachRawSeriesByType(m,Z)}else{if(Iq){Iq(v2,v3).each(Z)}}}function Z(Is){var It=Is.uid;var Ir=e.get(It)||e.set(It,Ce({plan:l5,reset:xI,count:Ck}));Ir.context={model:Is,ecModel:v2,api:v3,useClearVisual:k.isVisual&&!k.isLayout,plan:k.plan,reset:k.reset,scheduler:v};qG(v,Is,Ir)}var i=v._pipelineMap;e.each(function(Ir,Is){if(!i.get(Is)){Ir.dispose();e.removeKey(Is)}})}function nz(v,k,Z,v1,v2){var v3=Z.overallTask=Z.overallTask||Ce({reset:j8});v3.context={ecModel:v1,api:v2,overallReset:k.overallReset,scheduler:v};var e=v3.agentStubMap=v3.agentStubMap||CN();var m=k.seriesType;var Ir=k.getTargetSeries;var Is=true;var Iq=k.modifyOutputEnd;if(m){v1.eachRawSeriesByType(m,It)}else{if(Ir){Ir(v1,v2).each(It)}else{Is=false;pb(v1.getSeries(),It)}}function It(Iu){var Iw=Iu.uid;var Iv=e.get(Iw);if(!Iv){Iv=e.set(Iw,Ce({reset:xz,onDirty:Cm}));v3.dirty()}Iv.context={model:Iu,overallProgress:Is,modifyOutputEnd:Iq};Iv.agent=v3;Iv.__block=Is;qG(v,Iu,Iv)}var i=v._pipelineMap;e.each(function(Iu,Iv){if(!i.get(Iv)){Iu.dispose();v3.dirty();e.removeKey(Iv)}})}function j8(e){e.overallReset(e.ecModel,e.api,e.payload)}function xz(i,e){return i.overallProgress&&Bi}function Bi(){this.agent.dirty();this.getDownstream().dirty()}function Cm(){this.agent&&this.agent.dirty()}function l5(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function xI(e){if(e.useClearVisual){e.data.clearAllVisual()}var i=e.resetDefines=mr(e.reset(e.model,e.ecModel,e.api,e.payload));return i.length>1?Ej(i,function(m,k){return A7(k)}):Bu}var Bu=A7(0);function A7(e){return function(Z,m){var v=m.data;var v1=m.resetDefines[e];if(v1&&v1.dataEach){for(var k=Z.start;k<Z.end;k++){v1.dataEach(v,k)}}else{if(v1&&v1.progress){v1.progress(Z,v)}}}}function Ck(e){return e.data.count()}function qG(m,i,e){var v=i.uid;var k=m._pipelineMap.get(v);!k.head&&(k.head=e);k.tail&&k.tail.pipe(e);k.tail=e;e.__idxInPipeline=k.count++;e.__pipeline=k}EX.wrapStageHandler=function(i,e){if(E9(i)){i={overallReset:i,seriesType:O(i)}}i.uid=ma("stageHandler");e&&(i.visualType=e);return i};function O(i){ea=null;try{i(dW,kO)}catch(k){}return ea}var dW={};var kO={};var ea;sQ(dW,ck);sQ(kO,lG);dW.eachSeriesByType=dW.eachRawSeriesByType=function(e){ea=e};dW.eachComponent=function(e){if(e.mainType==="series"&&e.subType){ea=e.subType}};function sQ(k,e){for(var i in e.prototype){k[i]=V}}var n5=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var bv={color:n5,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n5]};var ge="#eee";var CU=function(){return{axisLine:{lineStyle:{color:ge}},axisTick:{lineStyle:{color:ge}},axisLabel:{textStyle:{color:ge}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:ge}}}};var du=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];var qw={color:du,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:ge},crossStyle:{color:ge}}},legend:{textStyle:{color:ge}},textStyle:{color:ge},title:{textStyle:{color:ge}},toolbox:{iconStyle:{normal:{borderColor:ge}}},dataZoom:{textStyle:{color:ge}},visualMap:{textStyle:{color:ge}},timeline:{lineStyle:{color:ge},itemStyle:{normal:{color:du[1]}},label:{normal:{textStyle:{color:ge}}},controlStyle:{normal:{color:ge,borderColor:ge}}},timeAxis:CU(),logAxis:CU(),valueAxis:CU(),categoryAxis:CU(),line:{symbol:"circle"},graph:{color:du},gauge:{title:{textStyle:{color:ge}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};qw.categoryAxis.splitLine.show=false;aH.extend({type:"dataset",defaultOption:{seriesLayoutBy:k5,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){xq(this)}});sW.extend({type:"dataset"});var Cs=mo.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(Iq,v){var m=0.5522848;var v3=v.cx;var Z=v.cy;var v2=v.rx;var v1=v.ry;var i=v2*m;var e=v1*m;Iq.moveTo(v3-v2,Z);Iq.bezierCurveTo(v3-v2,Z-e,v3-i,Z-v1,v3,Z-v1);Iq.bezierCurveTo(v3+i,Z-v1,v3+v2,Z-e,v3+v2,Z);Iq.bezierCurveTo(v3+v2,Z+e,v3+i,Z+v1,v3,Z+v1);Iq.bezierCurveTo(v3-i,Z+v1,v3-v2,Z+e,v3-v2,Z);Iq.closePath()}});var jc=/[\s,]+/;function mZ(e){if(we(e)){var i=new DOMParser();e=i.parseFromString(e,"text/xml")}if(e.nodeType===9){e=e.firstChild}while(e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1){e=e.nextSibling}return e}function s7(){this._defs={};this._root=null;this._isDefine=false;this._isText=false}s7.prototype.parse=function(Z,i){i=i||{};var v1=mZ(Z);if(!v1){throw new Error("Illegal svg")}var v3=new Cc();this._root=v3;var Is=v1.getAttribute("viewBox")||"";var e=parseFloat(v1.getAttribute("width")||i.width);var Iq=parseFloat(v1.getAttribute("height")||i.height);isNaN(e)&&(e=null);isNaN(Iq)&&(Iq=null);Dx(v1,v3,null,true);var k=v1.firstChild;while(k){this._parseNode(k,v3);k=k.nextSibling}var v;var m;if(Is){var Ir=Gw(Is).split(jc);if(Ir.length>=4){v={x:parseFloat(Ir[0]||0),y:parseFloat(Ir[1]||0),width:parseFloat(Ir[2]),height:parseFloat(Ir[3])}}}if(v&&e!=null&&Iq!=null){m=AS(v,e,Iq);if(!i.ignoreViewBox){var v2=v3;v3=new Cc();v3.add(v2);v2.scale=m.scale.slice();v2.position=m.position.slice()}}if(!i.ignoreRootClip&&e!=null&&Iq!=null){v3.setClipPath(new EL({shape:{x:0,y:0,width:e,height:Iq}}))}return{root:v3,width:e,height:Iq,viewBoxRect:v,viewBoxTransform:m}};s7.prototype._parseNode=function(e,m){var v2=e.nodeName.toLowerCase();if(v2==="defs"){this._isDefine=true}else{if(v2==="text"){this._isText=true}}var i;if(this._isDefine){var v1=gA[v2];if(v1){var k=v1.call(this,e);var Z=e.getAttribute("id");if(Z){this._defs[Z]=k}}}else{var v1=sj[v2];if(v1){i=v1.call(this,e,m);m.add(i)}}var v=e.firstChild;while(v){if(v.nodeType===1){this._parseNode(v,i)}if(v.nodeType===3&&this._isText){this._parseText(v,i)}v=v.nextSibling}if(v2==="defs"){this._isDefine=false}else{if(v2==="text"){this._isText=false}}};s7.prototype._parseText=function(k,Z){if(k.nodeType===1){var i=k.getAttribute("dx")||0;var e=k.getAttribute("dy")||0;this._textX+=parseFloat(i);this._textY+=parseFloat(e)}var v1=new iT({style:{text:k.textContent,transformText:true},position:[this._textX||0,this._textY||0]});Co(Z,v1);Dx(k,v1,this._defs);var v=v1.style.fontSize;if(v&&v<9){v1.style.fontSize=9;v1.scale=v1.scale||[1,1];v1.scale[0]*=v/9;v1.scale[1]*=v/9}var m=v1.getBoundingRect();this._textX+=m.width;Z.add(v1);return v1};var sj={g:function(e,k){var i=new Cc();Co(k,i);Dx(e,i,this._defs);return i},rect:function(e,k){var i=new EL();Co(k,i);Dx(e,i,this._defs);i.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)});return i},circle:function(e,k){var i=new GN();Co(k,i);Dx(e,i,this._defs);i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)});return i},line:function(i,k){var e=new zG();Co(k,e);Dx(i,e,this._defs);e.setShape({x1:parseFloat(i.getAttribute("x1")||0),y1:parseFloat(i.getAttribute("y1")||0),x2:parseFloat(i.getAttribute("x2")||0),y2:parseFloat(i.getAttribute("y2")||0)});return e},ellipse:function(e,k){var i=new Cs();Co(k,i);Dx(e,i,this._defs);i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)});return i},polygon:function(i,m){var k=i.getAttribute("points");if(k){k=cK(k)}var e=new ic({shape:{points:k||[]}});Co(m,e);Dx(i,e,this._defs);return e},polyline:function(i,v){var m=new mo();Co(v,m);Dx(i,m,this._defs);var k=i.getAttribute("points");if(k){k=cK(k)}var e=new Ac({shape:{points:k||[]}});return e},image:function(i,k){var e=new Fx();Co(k,e);Dx(i,e,this._defs);e.setStyle({image:i.getAttribute("xlink:href"),x:i.getAttribute("x"),y:i.getAttribute("y"),width:i.getAttribute("width"),height:i.getAttribute("height")});return e},text:function(m,Z){var e=m.getAttribute("x")||0;var v1=m.getAttribute("y")||0;var k=m.getAttribute("dx")||0;var i=m.getAttribute("dy")||0;this._textX=parseFloat(e)+parseFloat(k);this._textY=parseFloat(v1)+parseFloat(i);var v=new Cc();Co(Z,v);Dx(m,v,this._defs);return v},tspan:function(m,Z){var e=m.getAttribute("x");var v1=m.getAttribute("y");if(e!=null){this._textX=parseFloat(e)}if(v1!=null){this._textY=parseFloat(v1)}var k=m.getAttribute("dx")||0;var i=m.getAttribute("dy")||0;var v=new Cc();Co(Z,v);Dx(m,v,this._defs);this._textX+=k;this._textY+=i;return v},path:function(e,k){var m=e.getAttribute("d")||"";var i=fq(m);Co(k,i);Dx(e,i,this._defs);return i}};var gA={lineargradient:function(m){var i=parseInt(m.getAttribute("x1")||0,10);var v=parseInt(m.getAttribute("y1")||0,10);var e=parseInt(m.getAttribute("x2")||10,10);var k=parseInt(m.getAttribute("y2")||0,10);var Z=new uG(i,v,e,k);dk(m,Z);return Z},radialgradient:function(e){}};function dk(k,m){var i=k.firstChild;while(i){if(i.nodeType===1){var v=i.getAttribute("offset");if(v.indexOf("%")>0){v=parseInt(v,10)/100}else{if(v){v=parseFloat(v)}else{v=0}}var e=i.getAttribute("stop-color")||"#000000";m.addColorStop(v,e)}i=i.nextSibling}}function Co(e,i){if(e&&e.__inheritedStyle){if(!i.__inheritedStyle){i.__inheritedStyle={}}Di(i.__inheritedStyle,e.__inheritedStyle)}}function cK(k){var Z=Gw(k).split(jc);var v=[];for(var m=0;m<Z.length;m+=2){var e=parseFloat(Z[m]);var v1=parseFloat(Z[m+1]);v.push([e,v1])}return v}var CM={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Dx(Iq,e,m,k){var Ir=e.__inheritedStyle||{};var Z=e.type==="text";if(Iq.nodeType===1){l7(Iq,e);b0(Ir,cu(Iq));if(!k){for(var i in CM){if(CM.hasOwnProperty(i)){var v=Iq.getAttribute(i);if(v!=null){Ir[CM[i]]=v}}}}}var v2=Z?"textFill":"fill";var v1=Z?"textStroke":"stroke";e.style=e.style||new xW();var v3=e.style;Ir.fill!=null&&v3.set(v2,oV(Ir.fill,m));Ir.stroke!=null&&v3.set(v1,oV(Ir.stroke,m));pb(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(It){var Is=(It==="lineWidth"&&Z)?"textStrokeWidth":It;Ir[It]!=null&&v3.set(Is,parseFloat(Ir[It]))});if(!Ir.textBaseline||Ir.textBaseline==="auto"){Ir.textBaseline="alphabetic"}if(Ir.textBaseline==="alphabetic"){Ir.textBaseline="bottom"}if(Ir.textAlign==="start"){Ir.textAlign="left"}if(Ir.textAlign==="end"){Ir.textAlign="right"}pb(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(Is){Ir[Is]!=null&&v3.set(Is,Ir[Is])});if(Ir.lineDash){e.style.lineDash=Gw(Ir.lineDash).split(jc)}if(v3[v1]&&v3[v1]!=="none"){e[v1]=true}e.__inheritedStyle=Ir}var Dr=/url\(\s*#(.*?)\)/;function oV(v,e){var k=e&&v&&v.match(Dr);if(k){var i=Gw(k[1]);var m=e[i];return m}return v}var b=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function l7(v1,v3){var v=v1.getAttribute("transform");if(v){v=v.replace(/,/g," ");var e=null;var k=[];v.replace(b,function(Ir,i,m){k.push(i,m)});for(var Z=k.length-1;Z>0;Z-=2){var Iq=k[Z];var v2=k[Z-1];e=e||CF();switch(v2){case"translate":Iq=Gw(Iq).split(jc);vp(e,e,[parseFloat(Iq[0]),parseFloat(Iq[1]||0)]);break;case"scale":Iq=Gw(Iq).split(jc);q0(e,e,[parseFloat(Iq[0]),parseFloat(Iq[1]||Iq[0])]);break;case"rotate":Iq=Gw(Iq).split(jc);kk(e,e,parseFloat(Iq[0]));break;case"skew":Iq=Gw(Iq).split(jc);console.warn("Skew transform is not supported yet");break;case"matrix":var Iq=Gw(Iq).split(jc);e[0]=parseFloat(Iq[0]);e[1]=parseFloat(Iq[1]);e[2]=parseFloat(Iq[2]);e[3]=parseFloat(Iq[3]);e[4]=parseFloat(Iq[4]);e[5]=parseFloat(Iq[5]);break}}}v3.setLocalTransform(e)}var yt=/([^\s:;]+)\s*:\s*([^:;]+)/g;function cu(k){var m=k.getAttribute("style");var e={};if(!m){return e}var Z={};yt.lastIndex=0;var i;while((i=yt.exec(m))!=null){Z[i[1]]=i[2]}for(var v in CM){if(CM.hasOwnProperty(v)&&Z[v]!=null){e[CM[v]]=Z[v]}}return e}function AS(i,Z,e){var v=Z/i.width;var m=e/i.height;var v1=Math.min(v,m);var v2=[v1,v1];var k=[-(i.x+i.width/2)*v1+Z/2,-(i.y+i.height/2)*v1+e/2];return{scale:v2,position:k}}function D7(e,i){var k=new s7();return k.parse(e,i)}var EI=CN();var DW={registerMap:function(m,k,e){var i;if(GL(k)){i=k}else{if(k.svg){i=[{type:"svg",source:k.svg,specialAreas:k.specialAreas}]}else{if(k.geoJson&&!k.features){e=k.specialAreas;k=k.geoJson}i=[{type:"geoJSON",source:k,specialAreas:e}]}}pb(i,function(v){var Z=v.type;Z==="geoJson"&&(Z=v.type="geoJSON");var v1=bL[Z];if(om){bM(v1,"Illegal map type: "+Z)}v1(v)});return EI.set(m,i)},retrieveMap:function(e){return EI.get(e)}};var bL={geoJSON:function(e){var i=e.source;e.geoJSON=!we(i)?i:(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(i):(new Function("return ("+i+");"))()},svg:function(e){e.svgXML=mZ(e.source)}};var ag=bM;var CX=pb;var oQ=E9;var j2=tM;var tc=aH.parseClassType;var Ic="4.2.0";var q1={zrender:"4.0.5"};var mg=1;var ii=1000;var rN=5000;var am=1000;var pe=2000;var yp=3000;var FE=4000;var e4=5000;var Ca={PROCESSOR:{FILTER:ii,STATISTIC:rN},VISUAL:{LAYOUT:am,GLOBAL:pe,CHART:yp,COMPONENT:FE,BRUSH:e4}};var mB="__flagInMainProcess";var rs="__optionUpdated";var f8=/^[a-zA-Z0-9_]+$/;function GX(e){return function(i,m,k){i=i&&i.toLowerCase();Gg.prototype[e].call(this,i,m,k)}}function CY(){Gg.call(this)}CY.prototype.on=GX("on");CY.prototype.off=GX("off");CY.prototype.one=GX("one");Gu(CY,Gg);function t9(v1,k,i){i=i||{};if(typeof k==="string"){k=HY[k]}this.id;this.group;this._dom=v1;var v="canvas";if(om){v=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||v}var Z=this._zr=nG(v1,{renderer:i.renderer||v,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=e3(ko(Z.flush,Z),17);var k=C9(k);k&&Hy(k,true);this._theme=k;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new fB();var e=this._api=k4(this);function m(v3,v2){return v3.__prio-v2.__prio}qx(c9,m);qx(iz,m);this._scheduler=new EX(this,e,iz,c9);Gg.call(this,this._ecEventProcessor=new xN());this._messageCenter=new CY();this._initEvents();this.resize=ko(this.resize,this);this._pendingActions=[];Z.animation.on("frame",this._onframe,this);mF(Z,this);A(this)}var Ft=t9.prototype;Ft._onframe=function(){if(this._disposed){return}var k=this._scheduler;if(this[rs]){var i=this[rs].silent;this[mB]=true;xT(this);An.update.call(this);this[mB]=false;this[rs]=false;av.call(this,i);Dd.call(this,i)}else{if(k.unfinished){var Z=mg;var e=this._model;var v=this._api;k.unfinished=false;do{var m=+new Date();k.performSeriesTasks(e);k.performDataProcessorTasks(e);Cu(this,e);k.performVisualTasks(e);fS(this,this._model,v,"remain");Z-=(+new Date()-m)}while(Z>0&&k.unfinished);if(!k.unfinished){this._zr.flush()}}}};Ft.getDom=function(){return this._dom};Ft.getZr=function(){return this._zr};Ft.setOption=function(m,v1,Z){if(om){ag(!this[mB],"`setOption` should not be called during main process.")}var k;if(j2(v1)){Z=v1.lazyUpdate;k=v1.silent;v1=v1.notMerge}this[mB]=true;if(!this._model||v1){var i=new mi(this._api);var v=this._theme;var e=this._model=new ck(null,null,v,i);e.scheduler=this._scheduler;e.init(null,null,v,i)}this._model.setOption(m,f1);if(Z){this[rs]={silent:k};this[mB]=false}else{xT(this);An.update.call(this);this._zr.flush();this[rs]=false;this[mB]=false;av.call(this,k);Dd.call(this,k)}};Ft.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Ft.getModel=function(){return this._model};Ft.getOption=function(){return this._model&&this._model.getOption()};Ft.getWidth=function(){return this._zr.getWidth()};Ft.getHeight=function(){return this._zr.getHeight()};Ft.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Ft.getRenderedCanvas=function(e){if(!sZ.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var i=this._zr;return i.painter.getRenderedCanvas(e)};Ft.getSvgDataUrl=function(){if(!sZ.svgSupported){return}var i=this._zr;var e=i.storage.getDisplayList();pb(e,function(k){k.stopAnimation(true)});return i.painter.pathToDataUrl()};Ft.getDataURL=function(v){v=v||{};var Z=v.excludeComponents;var e=this._model;var m=[];var i=this;CX(Z,function(v1){e.eachComponent({mainType:v1},function(v3){var v2=i._componentsMap[v3.__viewId];if(!v2.group.ignore){m.push(v2);v2.group.ignore=true}})});var k=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(v).toDataURL("image/"+(v&&v.type||"png"));CX(m,function(v1){v1.group.ignore=false});return k};Ft.getConnectedDataURL=function(i){if(!sZ.canvasSupported){return}var Z=this.group;var m=Math.min;var v1=Math.max;var It=Infinity;if(dO[Z]){var v=It;var Iq=It;var Iu=-It;var e=-It;var v2=[];var Is=(i&&i.pixelRatio)||1;pb(az,function(Iy,Iz){if(Iy.group===Z){var Ix=Iy.getRenderedCanvas(C9(i));var Iw=Iy.getDom().getBoundingClientRect();v=m(Iw.left,v);Iq=m(Iw.top,Iq);Iu=v1(Iw.right,Iu);e=v1(Iw.bottom,e);v2.push({dom:Ix,left:Iw.left,top:Iw.top})}});v*=Is;Iq*=Is;Iu*=Is;e*=Is;var k=Iu-v;var Iv=e-Iq;var Ir=Dg();Ir.width=k;Ir.height=Iv;var v3=nG(Ir);CX(v2,function(Ix){var Iw=new Fx({style:{x:Ix.left*Is-v,y:Ix.top*Is-Iq,image:Ix.dom}});v3.add(Iw)});v3.refreshImmediately();return Ir.toDataURL("image/"+(i&&i.type||"png"))}else{return this.getDataURL(i)}};Ft.convertToPixel=sy(ps,"convertToPixel");Ft.convertFromPixel=sy(ps,"convertFromPixel");function ps(v,v3,v2){var k=this._model;var m=this._coordSysMgr.getCoordinateSystems();var e;v3=nH(k,v3);for(var v1=0;v1<m.length;v1++){var Z=m[v1];if(Z[v]&&(e=Z[v](k,v3,v2))!=null){return e}}if(om){console.warn("No coordinate system that supports "+v+" found by the given finder.")}}Ft.containPixel=function(m,k){var i=this._model;var e;m=nH(i,m);pb(m,function(Z,v){v.indexOf("Models")>=0&&pb(Z,function(v2){var v3=v2.coordinateSystem;if(v3&&v3.containPoint){e|=!!v3.containPoint(k)}else{if(v==="seriesModels"){var v1=this._chartsMap[v2.__viewId];if(v1&&v1.containPoint){e|=v1.containPoint(k,v2)}else{if(om){console.warn(v+": "+(v1?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(om){console.warn(v+": containPoint is not supported")}}}},this)},this);return !!e};Ft.getVisual=function(Z,v){var e=this._model;Z=nH(e,Z,{defaultMainType:"series"});var i=Z.seriesModel;if(om){if(!i){console.warn("There is no specified seires model")}}var m=i.getData();var k=Z.hasOwnProperty("dataIndexInside")?Z.dataIndexInside:Z.hasOwnProperty("dataIndex")?m.indexOfRawIndex(Z.dataIndex):null;return k!=null?m.getItemVisual(k,v):m.getVisual(v)};Ft.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};Ft.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var An={prepareAndUpdate:function(e){xT(this);An.update.call(this,e)},update:function(v2){var e=this._model;var m=this._api;var v1=this._zr;var Z=this._coordSysMgr;var k=this._scheduler;if(!e){return}k.restoreData(e,v2);k.performSeriesTasks(e);Z.create(e,m);k.performDataProcessorTasks(e,v2);Cu(this,e);Z.update(e,m);s6(e);k.performVisualTasks(e,v2);Hv(this,e,m,v2);var i=e.get("backgroundColor")||"transparent";if(!sZ.canvasSupported){var v=eY(i);i=wr(v,"rgb");if(v[3]===0){i="transparent"}}else{v1.setBackgroundColor(i)}CA(e,m)},updateTransform:function(v){var i=this._model;var e=this;var k=this._api;if(!i){return}var m=[];i.eachComponent(function(v3,v2){var Iq=e.getViewOfComponentModel(v2);if(Iq&&Iq.__alive){if(Iq.updateTransform){var v1=Iq.updateTransform(v2,i,k,v);v1&&v1.update&&m.push(Iq)}else{m.push(Iq)}}});var Z=CN();i.eachSeries(function(v3){var v2=e._chartsMap[v3.__viewId];if(v2.updateTransform){var v1=v2.updateTransform(v3,i,k,v);v1&&v1.update&&Z.set(v3.uid,1)}else{Z.set(v3.uid,1)}});s6(i);this._scheduler.performVisualTasks(i,v,{setDirty:true,dirtyMap:Z});fS(e,i,k,v,Z);CA(i,this._api)},updateView:function(i){var e=this._model;if(!e){return}dG.markUpdateMethod(i,"updateView");s6(e);this._scheduler.performVisualTasks(e,i,{setDirty:true});Hv(this,this._model,this._api,i);CA(e,this._api)},updateVisual:function(e){An.update.call(this,e)},updateLayout:function(e){An.update.call(this,e)}};function xT(i){var e=i._model;var k=i._scheduler;k.restorePipelines(e);k.prepareStageTasks();Cf(i,"component",e,k);Cf(i,"chart",e,k);k.plan()}function n3(Iq,e,v1,v,v3){var k=Iq._model;if(!v){CX(Iq._componentsViews.concat(Iq._chartsViews),m);return}var Z={};Z[v+"Id"]=v1[v+"Id"];Z[v+"Index"]=v1[v+"Index"];Z[v+"Name"]=v1[v+"Name"];var i={mainType:v,query:Z};v3&&(i.subType=v3);var v2=v1.excludeSeriesId;if(v2!=null){v2=CN(mr(v2))}k&&k.eachComponent(i,function(Ir){if(!v2||v2.get(Ir.id)==null){m(Iq[v==="series"?"_chartsMap":"_componentsMap"][Ir.__viewId])}},Iq);function m(Ir){Ir&&Ir.__alive&&Ir[e]&&Ir[e](Ir.__model,k,Iq._api,v1)}}Ft.resize=function(m){if(om){ag(!this[mB],"`resize` should not be called during main process.")}this._zr.resize(m);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var k=e.resetOption("media");var i=m&&m.silent;this[mB]=true;k&&xT(this);An.update.call(this);this[mB]=false;av.call(this,i);Dd.call(this,i)};function Cu(i,e){var k=i._chartsMap;var m=i._scheduler;e.eachSeries(function(v){m.updateStreamModes(v,k[v.__viewId])})}Ft.showLoading=function(i,e){if(j2(i)){e=i;i=""}i=i||"default";this.hideLoading();if(!FO[i]){if(om){console.warn("Loading effects "+i+" not exists.")}return}var k=FO[i](this._api,e);var m=this._zr;this._loadingFX=k;m.add(k)};Ft.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Ft.makeActionFromEvent=function(e){var i=b0({},e);i.type=q8[e.type];return i};Ft.dispatchAction=function(i,e){if(!j2(e)){e={silent:!!e}}if(!cT[i.type]){return}if(!this._model){return}if(this[mB]){this._pendingActions.push(i);return}iP.call(this,i,e.silent);if(e.flush){this._zr.flush(true)}else{if(e.flush!==false&&sZ.browser.weChat){this._throttledZrFlush()}}av.call(this,e.silent);Dd.call(this,e.silent)};function iP(Ir,v2){var Is=Ir.type;var k=Ir.escapeConnect;var v3=cT[Is];var Iq=v3.actionInfo;var i=(Iq.update||"update").split(":");var m=i.pop();i=i[0]!=null&&tc(i[0]);this[mB]=true;var v=[Ir];var e=false;if(Ir.batch){e=true;v=Ej(Ir.batch,function(Iu){Iu=Di(b0({},Iu),Ir);Iu.batch=null;return Iu})}var It=[];var v1;var Z=Is==="highlight"||Is==="downplay";CX(v,function(Iu){v1=v3.action(Iu,this._model,this._api);v1=v1||b0({},Iu);v1.type=Iq.event||v1.type;It.push(v1);if(Z){n3(this,m,Iu,"series")}else{if(i){n3(this,m,Iu,i.main,i.sub)}}},this);if(m!=="none"&&!Z&&!i){if(this[rs]){xT(this);An.update.call(this,Ir);this[rs]=false}else{An[m].call(this,Ir)}}if(e){v1={type:Iq.event||Is,escapeConnect:k,batch:It}}else{v1=It[0]}this[mB]=false;!v2&&this._messageCenter.trigger(v1.type,v1)}function av(e){var i=this._pendingActions;while(i.length){var k=i.shift();iP.call(this,k,e)}}function Dd(e){!e&&this.trigger("updated")}function mF(i,e){i.on("rendered",function(){e.trigger("rendered");if(i.animation.isFinished()&&!e[rs]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})}Ft.appendData=function(m){var k=m.seriesIndex;var e=this.getModel();var i=e.getSeriesByIndex(k);if(om){ag(m.data&&i)}i.appendData(m);this._scheduler.unfinished=true};Ft.on=GX("on");Ft.off=GX("off");Ft.one=GX("one");function Cf(It,Iq,Z,m){var v=Iq==="component";var e=v?It._componentsViews:It._chartsViews;var v3=v?It._componentsMap:It._chartsMap;var v2=It._zr;var v1=It._api;for(var k=0;k<e.length;k++){e[k].__alive=false}v?Z.eachComponent(function(Iu,i){Iu!=="series"&&Is(i)}):Z.eachSeries(Is);function Is(Iv){var i="_ec_"+Iv.id+"_"+Iv.type;var Iu=v3[i];if(!Iu){var Iw=tc(Iv.type);var Ix=v?sW.getClass(Iw.main,Iw.sub):dG.getClass(Iw.sub);if(om){ag(Ix,Iw.sub+" does not exist.")}Iu=new Ix();Iu.init(Z,v1);v3[i]=Iu;e.push(Iu);v2.add(Iu.group)}Iv.__viewId=Iu.__id=i;Iu.__alive=true;Iu.__model=Iv;Iu.group.__ecComponentInfo={mainType:Iv.mainType,index:Iv.componentIndex};!v&&m.prepareView(Iu,Iv,Z,v1)}for(var k=0;k<e.length;){var Ir=e[k];if(!Ir.__alive){!v&&Ir.renderTask.dispose();v2.remove(Ir.group);Ir.dispose(Z,v1);e.splice(k,1);delete v3[Ir.__id];Ir.__id=Ir.group.__ecComponentInfo=null}else{k++}}}function s6(e){e.clearColorPalette();e.eachSeries(function(i){i.clearColorPalette()})}function Hv(i,e,k,m){hT(i,e,k,m);CX(i._chartsViews,function(v){v.__alive=false});fS(i,e,k,m);CX(i._chartsViews,function(v){if(!v.__alive){v.remove(e,k)}})}function hT(i,e,m,v,k){CX(k||i._componentsViews,function(v1){var Z=v1.__model;v1.render(Z,e,m,v);qH(Z,v1)})}function fS(i,e,v,Z,k){var m=i._scheduler;var v1;e.eachSeries(function(Iq){var v2=i._chartsMap[Iq.__viewId];v2.__alive=true;var v3=v2.renderTask;m.updatePayload(v3,Z);if(k&&k.get(Iq.uid)){v3.dirty()}v1|=v3.perform(m.getPerformArgs(v3));v2.group.silent=!!Iq.get("silent");qH(Iq,v2);F8(Iq,v2)});m.unfinished|=v1;AA(i._zr,e);id(i._zr.dom,e)}function CA(e,i){CX(hG,function(k){k(e,i)})}var mK=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Ft._initEvents=function(){CX(mK,function(e){this._zr.on(e,function(v3){var v2=this.getModel();var k=v3.target;var v;var i=e==="globalout";if(i){v={}}else{if(k&&k.dataIndex!=null){var Iq=k.dataModel||v2.getSeriesByIndex(k.seriesIndex);v=Iq&&Iq.getDataParams(k.dataIndex,k.dataType,k)||{}}else{if(k&&k.eventData){v=b0({},k.eventData)}}}if(v){var m=v.componentType;var Z=v.componentIndex;if(m==="markLine"||m==="markPoint"||m==="markArea"){m="series";Z=v.seriesIndex}var v1=m&&Z!=null&&v2.getComponent(m,Z);var Ir=v1&&this[v1.mainType==="series"?"_chartsMap":"_componentsMap"][v1.__viewId];if(om){if(!i&&!(v1&&Ir)){console.warn("model or view can not be found by params")}}v.event=v3;v.type=e;this._ecEventProcessor.eventInfo={targetEl:k,packedEvent:v,model:v1,view:Ir};this.trigger(e,v)}},this)},this);CX(q8,function(e,i){this._messageCenter.on(i,function(k){this.trigger(i,k)},this)},this)};Ft.isDisposed=function(){return this._disposed};Ft.clear=function(){this.setOption({series:[]},true)};Ft.dispose=function(){if(this._disposed){if(om){console.warn("Instance "+this.id+" has been disposed")}return}this._disposed=true;bU(this.getDom(),ao,"");var i=this._api;var e=this._model;CX(this._componentsViews,function(k){k.dispose(e,i)});CX(this._chartsViews,function(k){k.dispose(e,i)});this._zr.dispose();delete az[this.id]};Gu(t9,Gg);function AA(k,e){var m=k.storage;var i=0;m.traverse(function(v){if(!v.isGroup){i++}});if(i>e.get("hoverLayerThreshold")&&!sZ.node){m.traverse(function(v){if(!v.isGroup){v.useHoverLayer=true}})}}function F8(i,e){var k=i.get("blendMode")||null;if(om){if(!sZ.canvasSupported&&k&&k!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(m){if(!m.isGroup){if(m.style.blend!==k){m.setStyle("blend",k)}}if(m.eachPendingDisplayable){m.eachPendingDisplayable(function(v){v.setStyle("blend",k)})}})}function qH(k,i){var m=k.get("z");var e=k.get("zlevel");i.group.traverse(function(v){if(v.type!=="group"){m!=null&&(v.z=m);e!=null&&(v.zlevel=e)}})}function k4(e){var i=e._coordSysMgr;return b0(new lG(e),{getCoordinateSystems:ko(i.getCoordinateSystems,i),getComponentByElement:function(k){while(k){var m=k.__ecComponentInfo;if(m!=null){return e._model.getComponent(m.mainType,m.index)}k=k.parent}}})}function xN(){this.eventInfo}xN.prototype={constructor:xN,normalizeQuery:function(Z){var k={};var v1={};var m={};if(we(Z)){var v=tc(Z);k.mainType=v.main||null;k.subType=v.sub||null}else{var i=["Index","Name","Id"];var e={name:1,dataIndex:1,dataType:1};pb(Z,function(It,Ir){var v3=false;for(var Iq=0;Iq<i.length;Iq++){var Is=i[Iq];var v2=Ir.lastIndexOf(Is);if(v2>0&&v2===Ir.length-Is.length){var Iu=Ir.slice(0,v2);if(Iu!=="data"){k.mainType=Iu;k[Is.toLowerCase()]=It;v3=true}}}if(e.hasOwnProperty(Ir)){v1[Ir]=It;v3=true}if(!v3){m[Ir]=It}})}return{cptQuery:k,dataQuery:v1,otherQuery:m}},filter:function(k,v2,v1){var Z=this.eventInfo;if(!Z){return true}var Ir=Z.targetEl;var v=Z.packedEvent;var m=Z.model;var v3=Z.view;if(!m||!v3){return true}var i=v2.cptQuery;var Iq=v2.dataQuery;return e(i,m,"mainType")&&e(i,m,"subType")&&e(i,m,"index","componentIndex")&&e(i,m,"name")&&e(i,m,"id")&&e(Iq,v,"name")&&e(Iq,v,"dataIndex")&&e(Iq,v,"dataType")&&(!v3.filterForExposedEvent||v3.filterForExposedEvent(k,v2.otherQuery,Ir,v));function e(Iu,It,Iv,Is){return Iu[Iv]==null||It[Is||Iv]===Iu[Iv]}},afterTrigger:function(){this.eventInfo=null}};var cT={};var q8={};var iz=[];var f1=[];var hG=[];var c9=[];var HY={};var FO={};var az={};var dO={};var cZ=new Date()-0;var cf=new Date()-0;var ao="_echarts_instance_";function kR(m){var e=0;var v=1;var k=2;var i="__connectUpdateStatus";function Z(Iq,v1){for(var v3=0;v3<Iq.length;v3++){var v2=Iq[v3];v2[i]=v1}}CX(q8,function(v1,v2){m._messageCenter.on(v2,function(v3){if(dO[m.group]&&m[i]!==e){if(v3&&v3.escapeConnect){return}var Iq=m.makeActionFromEvent(v3);var Ir=[];CX(az,function(Is){if(Is!==m&&Is.group===m.group){Ir.push(Is)}});Z(Ir,e);CX(Ir,function(Is){if(Is[i]!==v){Is.dispatchAction(Iq)}});Z(Ir,k)}})})}function EZ(v,k,i){if(om){if((s8.replace(".","")-0)<(q1.zrender.replace(".","")-0)){throw new Error("zrender/src "+s8+" is too old for ECharts "+Ic+". Current version need ZRender "+q1.zrender+"+")}if(!v){throw new Error("Initialize failed: invalid dom.")}}var m=b2(v);if(m){if(om){console.warn("There is a chart instance already initialized on the dom.")}return m}if(om){if(ay(v)&&v.nodeName.toUpperCase()!=="CANVAS"&&((!v.clientWidth&&(!i||i.width==null))||(!v.clientHeight&&(!i||i.height==null)))){console.warn("Can't get dom width or height")}}var e=new t9(v,k,i);e.id="ec_"+cZ++;az[e.id]=e;bU(v,ao,e.id);kR(e);return e}function nO(e){if(GL(e)){var i=e;e=null;CX(i,function(k){if(k.group!=null){e=k.group}});e=e||("g_"+cf++);CX(i,function(k){k.group=e})}dO[e]=true;return e}function hH(e){dO[e]=false}var y0=hH;function u6(e){if(typeof e==="string"){e=az[e]}else{if(!(e instanceof t9)){e=b2(e)}}if((e instanceof t9)&&!e.isDisposed()){e.dispose()}}function b2(e){return az[vQ(e,ao)]}function dU(e){return az[e]}function zC(e,i){HY[e]=i}function y6(e){f1.push(e)}function ec(e,i){yV(iz,e,i,ii)}function wj(e){hG.push(e)}function b1(k,e,m){if(typeof e==="function"){m=e;e=""}var i=j2(k)?k.type:([k,k={event:e}][0]);k.event=(k.event||i).toLowerCase();e=k.event;ag(f8.test(i)&&f8.test(e));if(!cT[i]){cT[i]={action:m,actionInfo:k}}q8[e]=i}function wC(i,e){fB.register(i,e)}function g3(e){var i=fB.get(e);if(i){return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()}}function pu(i,e){yV(c9,i,e,am,"layout")}function G(e,i){yV(c9,e,i,yp,"visual")}function yV(Z,i,k,e,v){if(oQ(i)||j2(i)){k=i;i=e}if(om){if(isNaN(i)||i==null){throw new Error("Illegal priority")}CX(Z,function(v1){ag(v1.__raw!==k)})}var m=EX.wrapStageHandler(k,v);m.__prio=i;m.__raw=k;Z.push(m);return m}function xZ(i,e){FO[i]=e}function p5(e){return aH.extend(e)}function qB(e){return sW.extend(e)}function B7(e){return nW.extend(e)}function BP(e){return dG.extend(e)}function eH(e){AV("createCanvas",e)}function fG(i,e,k){DW.registerMap(i,e,k)}function vd(i){var e=DW.retrieveMap(i);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}G(pe,CG);y6(Hy);ec(rN,v5);xZ("default",uL);b1({type:"highlight",event:"highlight",update:"highlight"},V);b1({type:"downplay",event:"downplay",update:"downplay"},V);zC("light",bv);zC("dark",qw);var wD={};function Aj(e){return e}function GB(k,v,i,m,e){this._old=k;this._new=v;this._oldKeyGetter=i||Aj;this._newKeyGetter=m||Aj;this.context=e}GB.prototype={constructor:GB,add:function(e){this._add=e;return this},update:function(e){this._update=e;return this},remove:function(e){this._remove=e;return this},execute:function(){var e=this._old;var v=this._new;var v1={};var m={};var v2=[];var Iq=[];var Z;yW(e,v1,v2,"_oldKeyGetter",this);yW(v,m,Iq,"_newKeyGetter",this);for(Z=0;Z<e.length;Z++){var Is=v2[Z];var Ir=m[Is];if(Ir!=null){var v3=Ir.length;if(v3){v3===1&&(m[Is]=null);Ir=Ir.unshift()}else{m[Is]=null}this._update&&this._update(Ir,Z)}else{this._remove&&this._remove(Z)}}for(var Z=0;Z<Iq.length;Z++){var Is=Iq[Z];if(m.hasOwnProperty(Is)){var Ir=m[Is];if(Ir==null){continue}if(!Ir.length){this._add&&this._add(Ir)}else{for(var k=0,v3=Ir.length;k<v3;k++){this._add&&this._add(Ir[k])}}}}}};function yW(e,v1,k,v3,Z){for(var v=0;v<e.length;v++){var m="_ec_"+Z[v3](e[v],v);var v2=v1[m];if(v2==null){k.push(m);v1[m]=v}else{if(!v2.length){v1[m]=v2=[v2]}v2.push(v)}}}var wf=CN(["tooltip","label","itemName","itemId","seriesName"]);function H7(m){var v1={};var Z=v1.encode={};var e=CN();var v3=[];var Iq=[];pb(m.dimensions,function(Iu){var Ir=m.getDimensionInfo(Iu);var It=Ir.coordDim;if(It){if(om){bM(wf.get(It)==null)}var Is=Z[It];if(!Z.hasOwnProperty(It)){Is=Z[It]=[]}Is[Ir.coordDimIndex]=Iu;if(!Ir.isExtraCoord){e.set(It,1);if(hj(Ir.type)){v3[0]=Iu}}if(Ir.defaultTooltip){Iq.push(Iu)}}wf.each(function(Iw,Iv){var Iy=Z[Iv];if(!Z.hasOwnProperty(Iv)){Iy=Z[Iv]=[]}var Ix=Ir.otherDims[Iv];if(Ix!=null&&Ix!==false){Iy[Ix]=Ir.name}})});var v2=[];var v={};e.each(function(Ir,It){var Is=Z[It];v[It]=Is[0];v2=v2.concat(Is)});v1.dataDimsOnCoord=v2;v1.encodeFirstDimNotExtra=v;var i=Z.label;if(i&&i.length){v3=i.slice()}var k=Z.tooltip;if(k&&k.length){Iq=k.slice()}else{if(!Iq.length){Iq=v3.slice()}}Z.defaultedLabel=v3;Z.defaultedTooltip=Iq;return v1}function qL(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function hj(e){return !(e==="ordinal"||e==="time")}var tI=tM;var g6="undefined";var bm="e\0\0";var xj={"float":typeof Float64Array===g6?Array:Float64Array,"int":typeof Int32Array===g6?Array:Int32Array,ordinal:Array,number:Array,time:Array};var F=typeof Uint32Array===g6?Array:Uint32Array;var bn=typeof Uint16Array===g6?Array:Uint16Array;function Bc(e){return e._rawCount>65535?F:bn}function sM(i){var e=i.constructor;return e===Array?i.slice():new e(i)}var gl=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"];var pl=["_extent","_approximateExtent","_rawExtent"];function dZ(i,e){pb(gl.concat(e.__wrappedMethods||[]),function(k){if(e.hasOwnProperty(k)){i[k]=e[k]}});i.__wrappedMethods=e.__wrappedMethods;pb(pl,function(k){i[k]=C9(e[k])});i._calculationInfo=b0(e._calculationInfo)}var xw=function(v,v3){v=v||["x","y"];var v2={};var v1=[];var m={};for(var k=0;k<v.length;k++){var Z=v[k];if(we(Z)){Z={name:Z}}var e=Z.name;Z.type=Z.type||"float";if(!Z.coordDim){Z.coordDim=e;Z.coordDimIndex=0}Z.otherDims=Z.otherDims||{};v1.push(e);v2[e]=Z;Z.index=k;if(Z.createInvertedIndices){m[e]=[]}}this.dimensions=v1;this._dimensionInfos=v2;this.hostModel=v3;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=100000;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=H7(this);this._invertedIndicesMap=m;this._calculationInfo={}};var us=xw.prototype;us.type="list";us.hasItemOption=true;us.getDimension=function(e){if(!isNaN(e)){e=this.dimensions[e]||e}return e};us.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]};us.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};us.mapDimension=function(i,e){var k=this._dimensionsSummary;if(e==null){return k.encodeFirstDimNotExtra[i]}var m=k.encode[i];return e===true?(m||[]).slice():(m&&m[e])};us.initData=function(k,m,e){var i=qq.isInstance(k)||sS(k);if(i){k=new fU(k,this.dimensions.length)}if(om){if(!i&&(typeof k.getItem!=="function"||typeof k.count!=="function")){throw new Error("Inavlid data provider.")}}this._rawData=k;this._storage={};this._indices=null;this._nameList=m||[];this._idList=[];this._nameRepeatCount={};if(!e){this.hasItemOption=false}this.defaultDimValueGetter=kI[this._rawData.getSource().sourceFormat];this._dimValueGetter=e=e||this.defaultDimValueGetter;this._rawExtent={};this._initDataFromProvider(0,k.count());if(k.pure){this.hasItemOption=false}};us.getProvider=function(){return this._rawData};us.appendData=function(i){if(om){bM(!this._indices,"appendData can only be called on raw data.")}var m=this._rawData;var k=this.count();m.appendData(i);var e=m.count();if(!m.persistent){e+=k}this._initDataFromProvider(k,e)};us._initDataFromProvider=function(Ir,Iq){if(Ir>=Iq){return}var Iw=this._chunkSize;var IE=this._rawData;var IM=this._storage;var Iu=this.dimensions;var Iv=Iu.length;var IO=this._dimensionInfos;var IN=this._nameList;var IF=this._idList;var Z=this._rawExtent;var IP=this._nameRepeatCount={};var ID;var m=this._chunkCount;var IJ=m-1;for(var IK=0;IK<Iv;IK++){var II=Iu[IK];if(!Z[II]){Z[II]=ei()}var Is=IO[II];if(Is.otherDims.itemName===0){ID=this._nameDimIdx=IK}if(Is.otherDims.itemId===0){this._idDimIdx=IK}var IL=xj[Is.type];if(!IM[II]){IM[II]=[]}var Iy=IM[II][IJ];if(Iy&&Iy.length<Iw){var v2=new IL(Math.min(Iq-IJ*Iw,Iw));for(var IH=0;IH<Iy.length;IH++){v2[IH]=Iy[IH]}IM[II][IJ]=v2}for(var IG=m*Iw;IG<Iq;IG+=Iw){IM[II].push(new IL(Math.min(Iq-IG,Iw)))}this._chunkCount=IM[II].length}var Ix=new Array(Iv);for(var Iz=Ir;Iz<Iq;Iz++){Ix=IE.getItem(Iz,Ix);var e=Math.floor(Iz/Iw);var v3=Iz%Iw;for(var IG=0;IG<Iv;IG++){var II=Iu[IG];var It=IM[II][e];var IR=this._dimValueGetter(Ix,II,Iz,IG);It[v3]=IR;var IC=Z[II];if(IR<IC[0]){IC[0]=IR}if(IR>IC[1]){IC[1]=IR}}if(!IE.pure){var IQ=IN[Iz];if(Ix&&IQ==null){if(Ix.name!=null){IN[Iz]=IQ=Ix.name}else{if(ID!=null){var IA=Iu[ID];var v=IM[IA][e];if(v){IQ=v[v3];var v1=IO[IA].ordinalMeta;if(v1&&v1.categories.length){IQ=v1.categories[IQ]}}}}}var IB=Ix==null?null:Ix.id;if(IB==null&&IQ!=null){IP[IQ]=IP[IQ]||0;IB=IQ;if(IP[IQ]>0){IB+="__ec__"+IP[IQ]}IP[IQ]++}IB!=null&&(IF[Iz]=IB)}}if(!IE.persistent&&IE.clean){IE.clean()}this._rawCount=this._count=Iq;this._extent={};GY(this)};function GY(i){var e=i._invertedIndicesMap;pb(e,function(k,v1){var v=i._dimensionInfos[v1];var m=v.ordinalMeta;if(m){k=e[v1]=new F(m.categories.length);for(var Z=0;Z<k.length;Z++){k[Z]=NaN}for(var Z=0;Z<i._count;Z++){k[i.get(v1,Z)]=Z}}})}function nV(v2,Iq,e){var i;if(Iq!=null){var m=v2._chunkSize;var v1=Math.floor(e/m);var k=e%m;var v=v2.dimensions[Iq];var v3=v2._storage[v][v1];if(v3){i=v3[k];var Z=v2._dimensionInfos[v].ordinalMeta;if(Z&&Z.categories.length){i=Z.categories[i]}}}return i}us.count=function(){return this._count};us.getIndices=function(){var v;var Z=this._indices;if(Z){var k=Z.constructor;var e=this._count;if(k===Array){v=new k(e);for(var m=0;m<e;m++){v[m]=Z[m]}}else{v=new k(Z.buffer,0,e)}}else{var k=Bc(this);var v=new k(this.count());for(var m=0;m<v.length;m++){v[m]=m}}return v};us.get=function(Z,e){if(!(e>=0&&e<this._count)){return NaN}var v1=this._storage;if(!v1[Z]){return NaN}e=this.getRawIndex(e);var k=Math.floor(e/this._chunkSize);var v=e%this._chunkSize;var i=v1[Z][k];var m=i[v];return m};us.getByRawIndex=function(v,Z){if(!(Z>=0&&Z<this._rawCount)){return NaN}var k=this._storage[v];if(!k){return NaN}var i=Math.floor(Z/this._chunkSize);var m=Z%this._chunkSize;var e=k[i];return e[m]};us._getFast=function(m,v){var i=Math.floor(v/this._chunkSize);var k=v%this._chunkSize;var e=this._storage[m][i];return e[k]};us.getValues=function(Z,k){var m=[];if(!GL(Z)){k=Z;Z=this.dimensions}for(var v=0,e=Z.length;v<e;v++){m.push(this.get(Z[v],k))}return m};us.hasValue=function(m){var k=this._dimensionsSummary.dataDimsOnCoord;var Z=this._dimensionInfos;for(var v=0,e=k.length;v<e;v++){if(Z[k[v]].type!=="ordinal"&&isNaN(this.get(k[v],m))){return false}}return true};us.getDataExtent=function(Z){Z=this.getDimension(Z);var v2=this._storage[Z];var v1=ei();if(!v2){return v1}var e=this.count();var v=!this._indices;var v3;if(v){return this._rawExtent[Z].slice()}v3=this._extent[Z];if(v3){return v3.slice()}v3=v1;var k=v3[0];var Iq=v3[1];for(var m=0;m<e;m++){var Ir=this._getFast(Z,this.getRawIndex(m));Ir<k&&(k=Ir);Ir>Iq&&(Iq=Ir)}v3=[k,Iq];this._extent[Z]=v3;return v3};us.getApproximateExtent=function(e){e=this.getDimension(e);return this._approximateExtent[e]||this.getDataExtent(e)};us.setApproximateExtent=function(e,i){i=this.getDimension(i);this._approximateExtent[i]=e.slice()};us.getCalculationInfo=function(e){return this._calculationInfo[e]};us.setCalculationInfo=function(e,i){tI(e)?b0(this._calculationInfo,e):(this._calculationInfo[e]=i)};us.getSum=function(v1){var k=this._storage[v1];var v=0;if(k){for(var m=0,e=this.count();m<e;m++){var Z=this.get(v1,m);if(!isNaN(Z)){v+=Z}}}return v};us.getMedian=function(m){var i=[];this.each(m,function(Z,v){if(!isNaN(Z)){i.push(Z)}});var k=[].concat(i).sort(function(Z,v){return Z-v});var e=this.count();return e===0?0:e%2===1?k[(e-1)/2]:(k[e/2]+k[e/2-1])/2};us.rawIndexOf=function(m,k){var e=m&&this._invertedIndicesMap[m];if(om){if(!e){throw new Error("Do not supported yet")}}var i=e[k];if(i==null||isNaN(i)){return -1}return i};us.indexOfName=function(k){for(var m=0,e=this.count();m<e;m++){if(this.getName(m)===k){return m}}return -1};us.indexOfRawIndex=function(k){if(!this._indices){return k}if(k>=this._rawCount||k<0){return -1}var Z=this._indices;var i=Z[k];if(i!=null&&i<this._count&&i===k){return k}var v=0;var m=this._count-1;while(v<=m){var e=(v+m)/2|0;if(Z[e]<k){v=e+1}else{if(Z[e]>k){m=e-1}else{return e}}}return -1};us.indicesOfNearest=function(v,Ir,e){var v1=this._storage;var v3=v1[v];var k=[];if(!v3){return k}if(e==null){e=Infinity}var Is=Number.MAX_VALUE;var It=-1;for(var m=0,Z=this.count();m<Z;m++){var Iq=Ir-this.get(v,m);var v2=Math.abs(Iq);if(Iq<=e&&v2<=Is){if(v2<Is||(Iq>=0&&It<0)){Is=v2;It=Iq;k.length=0}k.push(m)}}return k};us.getRawIndex=yu;function yu(e){return e}function qh(e){if(e<this._count&&e>=0){return this._indices[e]}return -1}us.getRawDataItem=function(e){if(!this._rawData.persistent){var v=[];for(var k=0;k<this.dimensions.length;k++){var m=this.dimensions[k];v.push(this.get(m,e))}return v}else{return this._rawData.getItem(this.getRawIndex(e))}};us.getName=function(e){var i=this.getRawIndex(e);return this._nameList[i]||nV(this,this._nameDimIdx,i)||""};us.getId=function(e){return wE(this,this.getRawIndex(e))};function wE(i,e){var k=i._idList[e];if(k==null){k=nV(i,i._idDimIdx,e)}if(k==null){k=bm+e}return k}function vr(e){if(!GL(e)){e=[e]}return e}function pn(k,m){for(var e=0;e<m.length;e++){if(!k._dimensionInfos[m[e]]){console.error("Unkown dimension "+m[e])}}}us.each=function(Iq,e,Z,v1){if(!this._count){return}if(typeof Iq==="function"){v1=Z;Z=e;e=Iq;Iq=[]}Z=Z||v1||this;Iq=Ej(vr(Iq),this.getDimension,this);if(om){pn(this,Iq)}var v3=Iq.length;for(var v=0;v<this.count();v++){switch(v3){case 0:e.call(Z,v);break;case 1:e.call(Z,this.get(Iq[0],v),v);break;case 2:e.call(Z,this.get(Iq[0],v),this.get(Iq[1],v),v);break;default:var m=0;var v2=[];for(;m<v3;m++){v2[m]=this.get(Iq[m],v)}v2[m]=v;e.apply(Z,v2)}}};us.filterSelf=function(m,Iq,v,Iy){if(!this._count){return}if(typeof m==="function"){Iy=v;v=Iq;Iq=m;m=[]}v=v||Iy||this;m=Ej(vr(m),this.getDimension,this);if(om){pn(this,m)}var Iv=this.count();var Z=Bc(this);var v3=new Z(Iv);var Ix=[];var v2=m.length;var It=0;var Iw=m[0];for(var Iu=0;Iu<Iv;Iu++){var e;var Is=this.getRawIndex(Iu);if(v2===0){e=Iq.call(v,Iu)}else{if(v2===1){var v1=this._getFast(Iw,Is);e=Iq.call(v,v1,Iu)}else{for(var Ir=0;Ir<v2;Ir++){Ix[Ir]=this._getFast(Iw,Is)}Ix[Ir]=Iu;e=Iq.apply(v,Ix)}}if(e){v3[It++]=Is}}if(It<Iv){this._indices=v3}this._count=It;this._extent={};this.getRawIndex=this._indices?qh:yu;return this};us.selectRange=function(Iq){if(!this._count){return}var Z=[];for(var Iz in Iq){if(Iq.hasOwnProperty(Iz)){Z.push(Iz)}}if(om){pn(this,Z)}var IJ=Z.length;if(!IJ){return}var Is=this.count();var v3=Bc(this);var IF=new v3(Is);var m=0;var e=Z[0];var Ix=Iq[e][0];var IB=Iq[e][1];var It=false;if(!this._indices){var Ir=0;if(IJ===1){var v=this._storage[Z[0]];for(var Iy=0;Iy<this._chunkCount;Iy++){var Iv=v[Iy];var IC=Math.min(this._count-Iy*this._chunkSize,this._chunkSize);for(var IA=0;IA<IC;IA++){var II=Iv[IA];if((II>=Ix&&II<=IB)||isNaN(II)){IF[m++]=Ir}Ir++}}It=true}else{if(IJ===2){var v=this._storage[e];var v1=this._storage[Z[1]];var Iw=Iq[Z[1]][0];var Iu=Iq[Z[1]][1];for(var Iy=0;Iy<this._chunkCount;Iy++){var Iv=v[Iy];var IH=v1[Iy];var IC=Math.min(this._count-Iy*this._chunkSize,this._chunkSize);for(var IA=0;IA<IC;IA++){var II=Iv[IA];var IG=IH[IA];if(((II>=Ix&&II<=IB)||isNaN(II))&&((IG>=Iw&&IG<=Iu)||isNaN(IG))){IF[m++]=Ir}Ir++}}It=true}}}if(!It){if(IJ===1){for(var IA=0;IA<Is;IA++){var v2=this.getRawIndex(IA);var II=this._getFast(e,v2);if((II>=Ix&&II<=IB)||isNaN(II)){IF[m++]=v2}}}else{for(var IA=0;IA<Is;IA++){var IE=true;var v2=this.getRawIndex(IA);for(var Iy=0;Iy<IJ;Iy++){var ID=Z[Iy];var II=this._getFast(Iz,v2);if(II<Iq[ID][0]||II>Iq[ID][1]){IE=false}}if(IE){IF[m++]=this.getRawIndex(IA)}}}}if(m<Is){this._indices=IF}this._count=m;this._extent={};this.getRawIndex=this._indices?qh:yu;return this};us.mapArray=function(v,i,k,m){if(typeof v==="function"){m=k;k=i;i=v;v=[]}k=k||m||this;var e=[];this.each(v,function(){e.push(i&&i.apply(this,arguments))},k);return e};function C0(m,Z){var v=m.dimensions;var v1=new xw(Ej(v,m.getDimensionInfo,m),m.hostModel);dZ(v1,m);var v3=v1._storage={};var k=m._storage;for(var e=0;e<v.length;e++){var v2=v[e];if(k[v2]){if(eR(Z,v2)>=0){v3[v2]=ox(k[v2]);v1._rawExtent[v2]=ei();v1._extent[v2]=null}else{v3[v2]=k[v2]}}}return v1}function ox(i){var e=new Array(i.length);for(var k=0;k<i.length;k++){e[k]=sM(i[k])}return e}function ei(){return[Infinity,-Infinity]}us.map=function(v1,Iv,v,Iq){v=v||Iq||this;v1=Ej(vr(v1),this.getDimension,this);if(om){pn(this,v1)}var Iz=C0(this,v1);Iz._indices=this._indices;Iz.getRawIndex=Iz._indices?qh:yu;var IA=Iz._storage;var Iy=[];var v2=this._chunkSize;var IE=v1.length;var IB=this.count();var m=[];var k=Iz._rawExtent;for(var IC=0;IC<IB;IC++){for(var It=0;It<IE;It++){m[It]=this.get(v1[It],IC)}m[IE]=IC;var Iu=Iv&&Iv.apply(v,m);if(Iu!=null){if(typeof Iu!=="object"){Iy[0]=Iu;Iu=Iy}var v3=this.getRawIndex(IC);var e=Math.floor(v3/v2);var Z=v3%v2;for(var Ix=0;Ix<Iu.length;Ix++){var Iw=v1[Ix];var ID=Iu[Ix];var Is=k[Iw];var Ir=IA[Iw];if(Ir){Ir[e][Z]=ID}if(ID<Is[0]){Is[0]=ID}if(ID>Is[1]){Is[1]=ID}}}}return Iz};us.downSample=function(IB,IE,IA,v1){var Iz=C0(this,[IB]);var e=Iz._storage;var ID=[];var Is=Math.floor(1/IE);var v3=e[IB];var Iv=this.count();var v=this._chunkSize;var Iq=Iz._rawExtent[IB];var Ix=new (Bc(this))(Iv);var m=0;for(var Iu=0;Iu<Iv;Iu+=Is){if(Is>Iv-Iu){Is=Iv-Iu;ID.length=Is}for(var It=0;It<Is;It++){var Iw=this.getRawIndex(Iu+It);var Iy=Math.floor(Iw/v);var IC=Iw%v;ID[It]=v3[Iy][IC]}var Ir=IA(ID);var IF=this.getRawIndex(Math.min(Iu+v1(ID,Ir)||0,Iv-1));var Z=Math.floor(IF/v);var v2=IF%v;v3[Z][v2]=Ir;if(Ir<Iq[0]){Iq[0]=Ir}if(Ir>Iq[1]){Iq[1]=Ir}Ix[m++]=IF}Iz._count=m;Iz._indices=Ix;Iz.getRawIndex=qh;return Iz};us.getItemModel=function(e){var i=this.hostModel;return new fx(this.getRawDataItem(e),i,i&&i.ecModel)};us.diff=function(i){var e=this;return new GB(i?i.getIndices():[],this.getIndices(),function(k){return wE(i,k)},function(k){return wE(e,k)})};us.getVisual=function(e){var i=this._visual;return i&&i[e]};us.setVisual=function(i,k){if(tI(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setVisual(e,i[e])}}return}this._visual=this._visual||{};this._visual[i]=k};us.setLayout=function(i,k){if(tI(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setLayout(e,i[e])}}return}this._layout[i]=k};us.getLayout=function(e){return this._layout[e]};us.getItemLayout=function(e){return this._itemLayouts[e]};us.setItemLayout=function(e,k,i){this._itemLayouts[e]=i?b0(this._itemLayouts[e]||{},k):k};us.clearItemLayouts=function(){this._itemLayouts.length=0};us.getItemVisual=function(e,k,i){var m=this._itemVisuals[e];var v=m&&m[k];if(v==null&&!i){return this.getVisual(k)}return v};us.setItemVisual=function(e,k,v){var m=this._itemVisuals[e]||{};var Z=this.hasItemVisual;this._itemVisuals[e]=m;if(tI(k)){for(var i in k){if(k.hasOwnProperty(i)){m[i]=k[i];Z[i]=true}}return}m[k]=v;Z[k]=true};us.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var A2=function(e){e.seriesIndex=this.seriesIndex;e.dataIndex=this.dataIndex;e.dataType=this.dataType};us.setItemGraphicEl=function(e,i){var k=this.hostModel;if(i){i.dataIndex=e;i.dataType=this.dataType;i.seriesIndex=k&&k.seriesIndex;if(i.type==="group"){i.traverse(A2,i)}}this._graphicEls[e]=i};us.getItemGraphicEl=function(e){return this._graphicEls[e]};us.eachItemGraphicEl=function(e,i){pb(this._graphicEls,function(m,k){if(m){e&&e.call(i,m,k)}})};us.cloneShallow=function(k){if(!k){var i=Ej(this.dimensions,this.getDimensionInfo,this);k=new xw(i,this.hostModel)}k._storage=this._storage;dZ(k,this);if(this._indices){var e=this._indices.constructor;k._indices=new e(this._indices)}else{k._indices=null}k.getRawIndex=k._indices?qh:yu;return k};us.wrapMethod=function(e,i){var k=this[e];if(typeof k!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var m=k.apply(this,arguments);return i.apply(this,[m].concat(h9(arguments)))}};us.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];us.CHANGABLE_METHODS=["filterSelf","selectRange"];function HK(v2,Iz,k){if(!qq.isInstance(Iz)){Iz=qq.seriesDataToSource(Iz)}k=k||{};v2=(v2||[]).slice();var v=(k.dimsDef||[]).slice();var v3=CN(k.encodeDef);var Iv=CN();var Iw=CN();var It=[];var Iu=Ds(Iz,v2,v,k.dimCount);for(var IC=0;IC<Iu;IC++){var Ir=v[IC]=b0({},tM(v[IC])?v[IC]:{name:v[IC]});var Is=Ir.name;var e=It[IC]={otherDims:{}};if(Is!=null&&Iv.get(Is)==null){e.name=e.displayName=Is;Iv.set(Is,IC)}Ir.type!=null&&(e.type=Ir.type);Ir.displayName!=null&&(e.displayName=Ir.displayName)}v3.each(function(IE,ID){IE=mr(IE).slice();if(IE.length===1&&IE[0]<0){v3.set(ID,false);return}var i=v3.set(ID,[]);pb(IE,function(IG,IF){we(IG)&&(IG=Iv.get(IG));if(IG!=null&&IG<Iu){i[IF]=IG;Iy(It[IG],ID,IF)}})});var Ix=0;pb(v2,function(IK,IG){var II;var IK;var IF;var ID;if(we(IK)){II=IK;IK={}}else{II=IK.name;var IE=IK.ordinalMeta;IK.ordinalMeta=null;IK=C9(IK);IK.ordinalMeta=IE;IF=IK.dimsDef;ID=IK.otherDims;IK.name=IK.coordDim=IK.coordDimIndex=IK.dimsDef=IK.otherDims=null}var IJ=v3.get(II);if(IJ===false){return}var IJ=mr(IJ);if(!IJ.length){for(var IH=0;IH<(IF&&IF.length||1);IH++){while(Ix<It.length&&It[Ix].coordDim!=null){Ix++}Ix<It.length&&IJ.push(Ix++)}}pb(IJ,function(IN,IM){var i=It[IN];Iy(Di(i,IK),II,IM);if(i.name==null&&IF){var IL=IF[IM];!tM(IL)&&(IL={name:IL});i.name=i.displayName=IL.name;i.defaultTooltip=IL.defaultTooltip}ID&&Di(i.otherDims,ID)})});function Iy(i,ID,IE){if(wf.get(ID)!=null){i.otherDims[ID]=IE}else{i.coordDim=ID;i.coordDimIndex=IE;Iw.set(ID,true)}}var IB=k.generateCoord;var v1=k.generateCoordCount;var Z=v1!=null;v1=IB?(v1||1):0;var m=IB||"value";for(var Iq=0;Iq<Iu;Iq++){var e=It[Iq]=It[Iq]||{};var IA=e.coordDim;if(IA==null){e.coordDim=oG(m,Iw,Z);e.coordDimIndex=0;if(!IB||v1<=0){e.isExtraCoord=true}v1--}e.name==null&&(e.name=oG(e.coordDim,Iv));if(e.type==null&&vA(Iz,Iq,e.name)){e.type="ordinal"}}return It}function Ds(m,i,k,v){var e=Math.max(m.dimensionsDetectCount||1,i.length,k.length,v||0);pb(i,function(v1){var Z=v1.dimsDef;Z&&(e=Math.max(e,Z.length))});return e}function oG(e,m,v){if(v||m.get(e)!=null){var k=0;while(m.get(e+k)!=null){k++}e+=k}m.set(e,true);return e}var yA=function(i,e){e=e||{};return HK(e.coordDimensions||[],i,{dimsDef:e.dimensionsDefine||i.dimensionsDefine,encodeDef:e.encodeDefine||i.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};function j3(m,v1,i){i=i||{};var Iq=i.byIndex;var k=i.stackedCoordDimension;var Ir=!!(m&&m.get("stack"));var v;var It;var Is;var e;pb(v1,function(Iv,Iu){if(we(Iv)){v1[Iu]=Iv={name:Iv}}if(Ir&&!Iv.isExtraCoord){if(!Iq&&!v&&Iv.ordinalMeta){v=Iv}if(!It&&Iv.type!=="ordinal"&&Iv.type!=="time"&&(!k||k===Iv.coordDim)){It=Iv}}});if(It&&!Iq&&!v){Iq=true}if(It){Is="__\0ecstackresult";e="__\0ecstackedover";if(v){v.createInvertedIndices=true}var v2=It.coordDim;var Z=It.type;var v3=0;pb(v1,function(Iu){if(Iu.coordDim===v2){v3++}});v1.push({name:Is,coordDim:v2,coordDimIndex:v3,type:Z,isExtraCoord:true,isCalculationCoord:true});v3++;v1.push({name:e,coordDim:e,coordDimIndex:v3,type:Z,isExtraCoord:true,isCalculationCoord:true})}return{stackedDimension:It&&It.name,stackedByDimension:v&&v.name,isStackedByIndex:Iq,stackedOverDimension:e,stackResultDimension:Is}}function lW(i,e){return !!e&&e===i.getCalculationInfo("stackedDimension")}function jD(i,e){return lW(i,e)?i.getCalculationInfo("stackResultDimension"):e}function a(e,v,i){i=i||{};if(!qq.isInstance(e)){e=qq.seriesDataToSource(e)}var m=v.get("coordinateSystem");var It=fB.get(m);var k=sl(v);var Z;if(k){Z=Ej(k.coordSysDims,function(Ix){var Iv={name:Ix};var Iw=k.axisMap.get(Ix);if(Iw){var Iu=Iw.get("type");Iv.type=qL(Iu)}return Iv})}if(!Z){Z=(It&&(It.getDimensionsInfo?It.getDimensionsInfo():It.dimensions.slice()))||["x","y"]}var v1=yA(e,{coordDimensions:Z,generateCoord:i.generateCoord});var Iq;var v3;k&&pb(v1,function(Iu,Ix){var Iw=Iu.coordDim;var Iv=k.categoryAxisMap.get(Iw);if(Iv){if(Iq==null){Iq=Ix}Iu.ordinalMeta=Iv.getOrdinalMeta()}if(Iu.otherDims.itemName!=null){v3=true}});if(!v3&&Iq!=null){v1[Iq].otherDims.itemName=0}var Is=j3(v,v1);var v2=new xw(v1,v);v2.setCalculationInfo(Is);var Ir=(Iq!=null&&Gh(e))?function(Ix,Iw,Iu,Iv){return Iv===Iq?Iu:this.defaultDimValueGetter(Ix,Iw,Iu,Iv)}:null;v2.hasItemOption=false;v2.initData(e,null,Ir);return v2}function Gh(i){if(i.sourceFormat===fF){var e=t3(i.data||[]);return e!=null&&!GL(x0(e))}}function t3(k){var e=0;while(e<k.length&&k[e]==null){e++}return k[e]}function dA(e){this._setting=e||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}dA.prototype.parse=function(e){return e};dA.prototype.getSetting=function(e){return this._setting[e]};dA.prototype.contain=function(i){var e=this._extent;return i>=e[0]&&i<=e[1]};dA.prototype.normalize=function(i){var e=this._extent;if(e[1]===e[0]){return 0.5}return(i-e[0])/(e[1]-e[0])};dA.prototype.scale=function(i){var e=this._extent;return i*(e[1]-e[0])+e[0]};dA.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1])};dA.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))};dA.prototype.getExtent=function(){return this._extent.slice()};dA.prototype.setExtent=function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=k}if(!isNaN(e)){i[1]=e}};dA.prototype.isBlank=function(){return this._isBlank},dA.prototype.setBlank=function(e){this._isBlank=e};dA.prototype.getLabel=null;AL(dA);yo(dA,{registerWhenExtend:true});function lR(e){this.categories=e.categories||[];this._needCollect=e.needCollect;this._deduplication=e.deduplication;this._map}lR.createByAxisModel=function(i){var k=i.option;var m=k.data;var e=m&&Ej(m,cQ);return new lR({categories:e,needCollect:!e,deduplication:k.dedplication!==false})};var cg=lR.prototype;cg.getOrdinal=function(e){return qu(this).get(e)};cg.parseAndCollect=function(m){var e;var k=this._needCollect;if(typeof m!=="string"&&!k){return m}if(k&&!this._deduplication){e=this.categories.length;this.categories[e]=m;return e}var i=qu(this);e=i.get(m);if(e==null){if(k){e=this.categories.length;this.categories[e]=m;i.set(m,e)}else{e=NaN}}return e};function qu(e){return e._map||(e._map=CN(e.categories))}function cQ(e){if(tM(e)&&e.value!=null){return e.value}else{return e+""}}var uO=dA.prototype;var Fc=dA.extend({type:"ordinal",init:function(e,i){if(!e||GL(e)){e=new lR({categories:e})}this._ordinalMeta=e;this._extent=i||[0,e.categories.length-1]},parse:function(e){return typeof e==="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){e=this.parse(e);return uO.contain.call(this,e)&&this._ordinalMeta.categories[e]!=null},normalize:function(e){return uO.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(uO.scale.call(this,e))},getTicks:function(){var i=[];var e=this._extent;var k=e[0];while(k<=e[1]){i.push(k);k++}return i},getLabel:function(e){if(!this.isBlank()){return this._ordinalMeta.categories[e]}},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:V,niceExtent:V});Fc.create=function(){return new Fc()};var uu=FQ;function Dl(v1,e,v2,k){var v3={};var Z=v1[1]-v1[0];var i=v3.interval=Y(Z/e,true);if(v2!=null&&i<v2){i=v3.interval=v2}if(k!=null&&i>k){i=v3.interval=k}var v=v3.intervalPrecision=ek(i);var m=v3.niceTickExtent=[uu(Math.ceil(v1[0]/i)*i,v),uu(Math.floor(v1[1]/i)*i,v)];Ey(m,v1);return v3}function ek(e){return t7(e)+2}function g1(i,e,k){i[e]=Math.max(Math.min(i[e],k[1]),k[0])}function Ey(e,i){!isFinite(e[0])&&(e[0]=i[0]);!isFinite(e[1])&&(e[1]=i[1]);g1(e,0,i);g1(e,1,i);if(e[0]>e[1]){e[0]=e[1]}}function E6(i,v,e,v1){var Z=[];if(!i){return Z}var m=10000;if(v[0]<e[0]){Z.push(v[0])}var k=e[0];while(k<=e[1]){Z.push(k);k=uu(k+i,v1);if(k===Z[Z.length-1]){break}if(Z.length>m){return[]}}if(v[1]>(Z.length?Z[Z.length-1]:e[1])){Z.push(v[1])}return Z}var Gc=FQ;var CD=dA.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=parseFloat(k)}if(!isNaN(e)){i[1]=parseFloat(e)}},unionExtent:function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1]);CD.prototype.setExtent.call(this,i[0],i[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=ek(e)},getTicks:function(){return E6(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(k,i){if(k==null){return""}var e=i&&i.precision;if(e==null){e=t7(k)||0}else{if(e==="auto"){e=this._intervalPrecision}}k=Gc(k,e,true);return j9(k)},niceTicks:function(Z,k,i){Z=Z||5;var v=this._extent;var m=v[1]-v[0];if(!isFinite(m)){return}if(m<0){m=-m;v.reverse()}var e=Dl(v,Z,k,i);this._intervalPrecision=e.intervalPrecision;this._interval=e.interval;this._niceExtent=e.niceTickExtent},niceExtent:function(k){var v=this._extent;if(v[0]===v[1]){if(v[0]!==0){var e=v[0];if(!k.fixMax){v[1]+=e/2;v[0]-=e/2}else{v[0]-=e/2}}else{v[1]=1}}var m=v[1]-v[0];if(!isFinite(m)){v[0]=0;v[1]=1}this.niceTicks(k.splitNumber,k.minInterval,k.maxInterval);var i=this._interval;if(!k.fixMin){v[0]=Gc(Math.floor(v[0]/i)*i)}if(!k.fixMax){v[1]=Gc(Math.ceil(v[1]/i)*i)}}});CD.create=function(){return new CD()};var hR="__ec_stack_";var CO=0.5;var lN=typeof Float32Array!=="undefined"?Float32Array:Array;function a0(e){return e.get("stack")||hR+e.seriesIndex}function kC(e){return e.dim+e.index}function oi(k){var Z=[];var v=k.axis;var m="axis0";if(v.type!=="category"){return}var v1=v.getBandWidth();for(var v2=0;v2<k.count||0;v2++){Z.push(Di({bandWidth:v1,axisKey:m,stackId:hR+v2},k))}var e=oa(Z);var Iq=[];for(var v2=0;v2<k.count;v2++){var v3=e[m][hR+v2];v3.offsetCenter=v3.offset+v3.width/2;Iq.push(v3)}return Iq}function ob(i,e){var k=[];e.eachSeriesByType(i,function(m){if(qZ(m)&&!lC(m)){k.push(m)}});return k}function xQ(e){var i=[];pb(e,function(v1){var v3=v1.getData();var Iq=v1.coordinateSystem;var m=Iq.getBaseAxis();var Z=m.getExtent();var v2=m.type==="category"?m.getBandWidth():(Math.abs(Z[1]-Z[0])/v3.count());var Is=zS(v1.get("barWidth"),v2);var k=zS(v1.get("barMaxWidth"),v2);var Ir=v1.get("barGap");var v=v1.get("barCategoryGap");i.push({bandWidth:v2,barWidth:Is,barMaxWidth:k,barGap:Ir,barCategoryGap:v,axisKey:kC(m),stackId:a0(v1)})});return oa(i)}function oa(k){var i={};pb(k,function(Is,Ir){var Z=Is.axisKey;var v3=Is.bandWidth;var It=i[Z]||{bandWidth:v3,remainedWidth:v3,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var v=It.stacks;i[Z]=It;var v2=Is.stackId;if(!v[v2]){It.autoWidthCount++}v[v2]=v[v2]||{width:0,maxWidth:0};var Iu=Is.barWidth;if(Iu&&!v[v2].width){v[v2].width=Iu;Iu=Math.min(It.remainedWidth,Iu);It.remainedWidth-=Iu}var m=Is.barMaxWidth;m&&(v[v2].maxWidth=m);var Iq=Is.barGap;(Iq!=null)&&(It.gap=Iq);var v1=Is.barCategoryGap;(v1!=null)&&(It.categoryGap=v1)});var e={};pb(i,function(Iv,Z){e[Z]={};var m=Iv.stacks;var v2=Iv.bandWidth;var v=zS(Iv.categoryGap,v2);var Is=zS(Iv.gap,1);var v1=Iv.remainedWidth;var It=Iv.autoWidthCount;var Ir=(v1-v)/(It+(It-1)*Is);Ir=Math.max(Ir,0);pb(m,function(Ix,Iw){var Iy=Ix.maxWidth;if(Iy&&Iy<Ir){Iy=Math.min(Iy,v1);if(Ix.width){Iy=Math.min(Iy,Ix.width)}v1-=Iy;Ix.width=Iy;It--}});Ir=(v1-v)/(It+(It-1)*Is);Ir=Math.max(Ir,0);var Iq=0;var Iu;pb(m,function(Ix,Iw){if(!Ix.width){Ix.width=Ir}Iu=Ix;Iq+=Ix.width*(1+Is)});if(Iu){Iq-=Iu.width*Is}var v3=-Iq/2;pb(m,function(Ix,Iw){e[Z][Iw]=e[Z][Iw]||{offset:v3,width:Ix.width};v3+=Ix.width*(1+Is)})});return e}function EE(m,k,i){if(m&&k){var e=m[kC(k)];if(e!=null&&i!=null){e=e[a0(i)]}return e}}function bA(i,e){var k=ob(i,e);var m=xQ(k);var v={};pb(k,function(IA){var IL=IA.getData();var Iz=IA.coordinateSystem;var Iu=Iz.getBaseAxis();var Iq=a0(IA);var Iv=m[kC(Iu)][Iq];var Ir=Iv.offset;var v3=Iv.width;var IE=Iz.getOtherAxis(Iu);var Z=IA.get("barMinHeight")||0;v[Iq]=v[Iq]||[];IL.setLayout({offset:Ir,size:v3});var v1=IL.mapDimension(IE.dim);var Iw=IL.mapDimension(Iu.dim);var IH=lW(IL,v1);var IG=IE.isHorizontal();var v2=c8(Iu,IE,IH);for(var Ix=0,IF=IL.count();Ix<IF;Ix++){var IC=IL.get(v1,Ix);var II=IL.get(Iw,Ix);if(isNaN(IC)){continue}var IK=IC>=0?"p":"n";var IJ=v2;if(IH){if(!v[Iq][II]){v[Iq][II]={p:v2,n:v2}}IJ=v[Iq][II][IK]}var It;var Is;var IB;var Iy;if(IG){var ID=Iz.dataToPoint([IC,II]);It=IJ;Is=ID[1]+Ir;IB=ID[0]-v2;Iy=v3;if(Math.abs(IB)<Z){IB=(IB<0?-1:1)*Z}IH&&(v[Iq][II][IK]+=IB)}else{var ID=Iz.dataToPoint([II,IC]);It=ID[0]+Ir;Is=IJ;IB=v3;Iy=ID[1]-v2;if(Math.abs(Iy)<Z){Iy=(Iy<=0?-1:1)*Z}IH&&(v[Iq][II][IK]+=Iy)}IL.setItemLayout(Ix,{x:It,y:Is,width:IB,height:Iy})}},this)}var Hu={seriesType:"bar",plan:Ew(),reset:function(m){if(!qZ(m)||!lC(m)){return}var v=m.getData();var Z=m.coordinateSystem;var i=Z.getBaseAxis();var v3=Z.getOtherAxis(i);var v1=v.mapDimension(v3.dim);var Ir=v.mapDimension(i.dim);var k=v3.isHorizontal();var v2=k?0:1;var Iq=EE(xQ([m]),i,m).width;if(!(Iq>CO)){Iq=CO}return{progress:e};function e(Ix,Iv){var Iu=new lN(Ix.count*2);var It;var Iy=[];var Is=[];var Iw=0;while((It=Ix.next())!=null){Is[v2]=Iv.get(v1,It);Is[1-v2]=Iv.get(Ir,It);Iy=Z.dataToPoint(Is,null,Iy);Iu[Iw++]=Iy[0];Iu[Iw++]=Iy[1]}Iv.setLayout({largePoints:Iu,barWidth:Iq,valueAxisStart:c8(i,v3,false),valueAxisHorizontal:k})}}};function qZ(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function lC(e){return e.pipelineContext&&e.pipelineContext.large}function c8(Z,v1,v){var m=v1.getGlobalExtent();var i;var e;if(m[0]>m[1]){i=m[1];e=m[0]}else{i=m[0];e=m[1]}var k=v1.toGlobalCoord(v1.dataToCoord(0));k<i&&(k=i);k>e&&(k=e);return k}var jV=CD.prototype;var B1=Math.ceil;var fg=Math.floor;var sL=1000;var sa=sL*60;var jI=sa*60;var w2=jI*24;var If=function(i,e,v,m){while(v<m){var k=v+m>>>1;if(i[k][1]<e){v=k+1}else{m=k}}return v};var y5=CD.extend({type:"time",getLabel:function(k){var i=this._stepLvl;var e=new Date(k);return mV(i[0],e,this.getSetting("useUTC"))},niceExtent:function(i){var k=this._extent;if(k[0]===k[1]){k[0]-=w2;k[1]+=w2}if(k[1]===-Infinity&&k[0]===Infinity){var m=new Date();k[1]=+new Date(m.getFullYear(),m.getMonth(),m.getDate());k[0]=k[1]-w2}this.niceTicks(i.splitNumber,i.minInterval,i.maxInterval);var e=this._interval;if(!i.fixMin){k[0]=FQ(fg(k[0]/e)*e)}if(!i.fixMax){k[1]=FQ(B1(k[1]/e)*e)}},niceTicks:function(Is,Iu,m){Is=Is||10;var It=this._extent;var Iq=It[1]-It[0];var v=Iq/Is;if(Iu!=null&&v<Iu){v=Iu}if(m!=null&&v>m){v=m}var v2=ym.length;var Ir=If(ym,v,0,v2);var e=ym[Math.min(Ir,v2-1)];var k=e[1];if(e[0]==="year"){var i=Iq/k;var Z=Y(i/Is,true);k*=Z}var v3=this.getSetting("useUTC")?0:(new Date(+It[0]||+It[1])).getTimezoneOffset()*60*1000;var v1=[Math.round(B1((It[0]-v3)/k)*k+v3),Math.round(fg((It[1]-v3)/k)*k+v3)];Ey(v1,It);this._stepLvl=e;this._interval=k;this._niceExtent=v1},parse:function(e){return +vV(e)}});pb(["contain","normalize"],function(e){y5.prototype[e]=function(i){return jV[e].call(this,this.parse(i))}});var ym=[["hh:mm:ss",sL],["hh:mm:ss",sL*5],["hh:mm:ss",sL*10],["hh:mm:ss",sL*15],["hh:mm:ss",sL*30],["hh:mm\nMM-dd",sa],["hh:mm\nMM-dd",sa*5],["hh:mm\nMM-dd",sa*10],["hh:mm\nMM-dd",sa*15],["hh:mm\nMM-dd",sa*30],["hh:mm\nMM-dd",jI],["hh:mm\nMM-dd",jI*2],["hh:mm\nMM-dd",jI*6],["hh:mm\nMM-dd",jI*12],["MM-dd\nyyyy",w2],["MM-dd\nyyyy",w2*2],["MM-dd\nyyyy",w2*3],["MM-dd\nyyyy",w2*4],["MM-dd\nyyyy",w2*5],["MM-dd\nyyyy",w2*6],["week",w2*7],["MM-dd\nyyyy",w2*10],["week",w2*14],["week",w2*21],["month",w2*31],["week",w2*42],["month",w2*62],["week",w2*70],["quarter",w2*95],["month",w2*31*4],["month",w2*31*5],["half-year",w2*380/2],["month",w2*31*8],["month",w2*31*10],["year",w2*380]];y5.create=function(e){return new y5({useUTC:e.ecModel.get("useUTC")})};var Fp=dA.prototype;var jL=CD.prototype;var k2=t7;var fo=FQ;var v6=Math.floor;var oT=Math.ceil;var c7=Math.pow;var F5=Math.log;var gC=dA.extend({type:"log",base:10,$constructor:function(){dA.apply(this,arguments);this._originalScale=new CD()},getTicks:function(){var i=this._originalScale;var k=this._extent;var e=i.getExtent();return Ej(jL.getTicks.call(this),function(v){var m=FQ(c7(this.base,v));m=(v===k[0]&&i.__fixMin)?A9(m,e[0]):m;m=(v===k[1]&&i.__fixMax)?A9(m,e[1]):m;return m},this)},getLabel:jL.getLabel,scale:function(e){e=Fp.scale.call(this,e);return c7(this.base,e)},setExtent:function(k,e){var i=this.base;k=F5(k)/F5(i);e=F5(e)/F5(i);jL.setExtent.call(this,k,e)},getExtent:function(){var m=this.base;var k=Fp.getExtent.call(this);k[0]=c7(m,k[0]);k[1]=c7(m,k[1]);var i=this._originalScale;var e=i.getExtent();i.__fixMin&&(k[0]=A9(k[0],e[0]));i.__fixMax&&(k[1]=A9(k[1],e[1]));return k},unionExtent:function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=F5(e[0])/F5(i);e[1]=F5(e[1])/F5(i);Fp.unionExtent.call(this,e)},unionExtentFromData:function(e,i){this.unionExtent(e.getApproximateExtent(i))},niceTicks:function(Z){Z=Z||10;var m=this._extent;var k=m[1]-m[0];if(k===Infinity||k<=0){return}var e=r1(k);var v=Z/k*e;if(v<=0.5){e*=10}while(!isNaN(e)&&Math.abs(e)<1&&Math.abs(e)>0){e*=10}var i=[FQ(oT(m[0]/e)*e),FQ(v6(m[1]/e)*e)];this._interval=e;this._niceExtent=i},niceExtent:function(i){jL.niceExtent.call(this,i);var e=this._originalScale;e.__fixMin=i.fixMin;e.__fixMax=i.fixMax}});pb(["contain","normalize"],function(e){gC.prototype[e]=function(i){i=F5(i)/F5(this.base);return Fp[e].call(this,i)}});gC.create=function(){return new gC()};function A9(i,e){return fo(i,k2(e))}function FH(Z,v3){var e=Z.type;var v2=v3.getMin();var Iv=v3.getMax();var v1=v2!=null;var Iu=Iv!=null;var Iq=Z.getExtent();var It;var v;var Iw;if(e==="ordinal"){It=v3.getCategories().length}else{v=v3.get("boundaryGap");if(!GL(v)){v=[v||0,v||0]}if(typeof v[0]==="boolean"){if(om){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}v=[0,0]}v[0]=zS(v[0],1);v[1]=zS(v[1],1);Iw=(Iq[1]-Iq[0])||Math.abs(Iq[0])}if(v2==null){v2=e==="ordinal"?(It?0:NaN):Iq[0]-v[0]*Iw}if(Iv==null){Iv=e==="ordinal"?(It?It-1:NaN):Iq[1]+v[1]*Iw}if(v2==="dataMin"){v2=Iq[0]}else{if(typeof v2==="function"){v2=v2({min:Iq[0],max:Iq[1]})}}if(Iv==="dataMax"){Iv=Iq[1]}else{if(typeof Iv==="function"){Iv=Iv({min:Iq[0],max:Iq[1]})}}(v2==null||!isFinite(v2))&&(v2=NaN);(Iv==null||!isFinite(Iv))&&(Iv=NaN);Z.setBlank(lw(v2)||lw(Iv)||(e==="ordinal"&&!Z.getOrdinalMeta().categories.length));if(v3.getNeedCrossZero()){if(v2>0&&Iv>0&&!v1){v2=0}if(v2<0&&Iv<0&&!Iu){Iv=0}}var Is=v3.ecModel;if(Is&&(e==="time")){var m=ob("bar",Is);var i;pb(m,function(Ix){i|=Ix.getBaseAxis()===v3.axis});if(i){var Ir=xQ(m);var k=yG(v2,Iv,v3,Ir);v2=k.min;Iv=k.max}}return[v2,Iv]}function yG(Z,Is,v1,v2){var v=v1.axis.getExtent();var v3=v[1]-v[0];var It=EE(v2,v1.axis);if(It===undefined){return{min:Z,max:Is}}var e=Infinity;pb(It,function(Iu){e=Math.min(Iu.offset,e)});var m=-Infinity;pb(It,function(Iu){m=Math.max(Iu.offset+Iu.width,m)});e=Math.abs(e);m=Math.abs(m);var k=e+m;var Ir=Is-Z;var i=(1-(e+m)/v3);var Iq=((Ir/i)-Ir);Is+=Iq*(m/k);Z-=Iq*(e/k);return{min:Z,max:Is}}function nN(v1,m){var Z=FH(v1,m);var v=m.getMin()!=null;var i=m.getMax()!=null;var v2=m.get("splitNumber");if(v1.type==="log"){v1.base=m.get("logBase")}var e=v1.type;v1.setExtent(Z[0],Z[1]);v1.niceExtent({splitNumber:v2,fixMin:v,fixMax:i,minInterval:(e==="interval"||e==="time")?m.get("minInterval"):null,maxInterval:(e==="interval"||e==="time")?m.get("maxInterval"):null});var k=m.get("interval");if(k!=null){v1.setInterval&&v1.setInterval(k)}}function ns(i,e){e=e||i.get("type");if(e){switch(e){case"category":return new Fc(i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),[Infinity,-Infinity]);case"value":return new CD();default:return(dA.getClass(e)||CD).create(i)}}}function Bd(k){var m=k.scale.getExtent();var i=m[0];var e=m[1];return !((i>0&&e>0)||(i<0&&e<0))}function lS(i){var e=i.getLabelModel().get("formatter");var k=i.type==="category"?i.scale.getExtent()[0]:null;if(typeof e==="string"){e=(function(m){return function(v){v=i.scale.getLabel(v);return m.replace("{value}",v!=null?v:"")}})(e);return e}else{if(typeof e==="function"){return function(v,m){if(k!=null){m=v-k}return e(nX(i,v),m)}}else{return function(m){return i.scale.getLabel(m)}}}}function nX(e,i){return e.type==="category"?e.scale.getLabel(i):i}function eC(Z){var Ix=Z.model;var v1=Z.scale;if(!Ix.get("axisLabel.show")||v1.isBlank()){return}var It=Z.type==="category";var v3;var e;var Iq=v1.getExtent();if(It){e=v1.count()}else{v3=v1.getTicks();e=v3.length}var Iw=Z.getLabelModel();var Is=lS(Z);var Iu;var k=1;if(e>40){k=Math.ceil(e/40)}for(var Ir=0;Ir<e;Ir+=k){var v2=v3?v3[Ir]:Iq[0]+Ir;var Iv=Is(v2);var v=Iw.getTextRect(Iv);var m=zh(v,Iw.get("rotate")||0);Iu?Iu.union(m):(Iu=m)}return Iu}function zh(v1,k){var e=k*Math.PI/180;var m=v1.plain();var v3=m.width;var v=m.height;var v2=v3*Math.cos(e)+v*Math.sin(e);var i=v3*Math.sin(e)+v*Math.cos(e);var Z=new CL(m.x,m.y,v2,i);return Z}var nD={getMin:function(e){var k=this.option;var i=(!e&&k.rangeStart!=null)?k.rangeStart:k.min;if(this.axis&&i!=null&&i!=="dataMin"&&typeof i!=="function"&&!lw(i)){i=this.axis.scale.parse(i)}return i},getMax:function(i){var k=this.option;var e=(!i&&k.rangeEnd!=null)?k.rangeEnd:k.max;if(this.axis&&e!=null&&e!=="dataMax"&&typeof e!=="function"&&!lw(e)){e=this.axis.scale.parse(e)}return e},getNeedCrossZero:function(){var e=this.option;return(e.rangeStart!=null||e.rangeEnd!=null)?false:!e.scale},getCoordSysModel:V,setRange:function(i,e){this.option.rangeStart=i;this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var sc=HD({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z+e);v.lineTo(i-m,Z+e);v.closePath()}});var j0=HD({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,k){var i=k.cx;var Z=k.cy;var m=k.width/2;var e=k.height/2;v.moveTo(i,Z-e);v.lineTo(i+m,Z);v.lineTo(i,Z+e);v.lineTo(i-m,Z);v.closePath()}});var D3=HD({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Iv,Z){var Ir=Z.x;var v3=Z.y;var Is=Z.width/5*3;var v=Math.max(Is,Z.height);var e=Is/2;var It=e*e/(v-e);var k=v3-v+e+It;var i=Math.asin(It/e);var Iu=Math.cos(i)*e;var v2=Math.sin(i);var v1=Math.cos(i);var Iq=e*0.6;var m=e*0.7;Iv.moveTo(Ir-Iu,k+It);Iv.arc(Ir,k,e,Math.PI-i,Math.PI*2+i);Iv.bezierCurveTo(Ir+Iu-v2*Iq,k+It+v1*Iq,Ir,v3-m,Ir,v3);Iv.bezierCurveTo(Ir,v3-m,Ir-Iu+v2*Iq,k+It+v1*Iq,Ir-Iu,k+It);Iv.closePath()}});var iG=HD({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(k,v){var i=v.height;var Z=v.width;var e=v.x;var v1=v.y;var m=Z/3*2;k.moveTo(e,v1);k.lineTo(e+m,v1+i);k.lineTo(e,v1+i/4*3);k.lineTo(e-m,v1+i);k.lineTo(e,v1);k.closePath()}});var Ep={line:zG,rect:EL,roundRect:EL,square:EL,circle:GN,diamond:j0,pin:D3,arrow:iG,triangle:sc};var wA={line:function(e,v,i,m,k){k.x1=e;k.y1=v+m/2;k.x2=e+i;k.y2=v+m/2},rect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m},roundRect:function(e,v,i,m,k){k.x=e;k.y=v;k.width=i;k.height=m;k.r=Math.min(i,m)/4},square:function(e,Z,i,v,k){var m=Math.min(i,v);k.x=e;k.y=Z;k.width=m;k.height=m},circle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.r=Math.min(i,m)/2},diamond:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m},pin:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},arrow:function(e,v,i,m,k){k.x=e+i/2;k.y=v+m/2;k.width=i;k.height=m},triangle:function(e,v,i,m,k){k.cx=e+i/2;k.cy=v+m/2;k.width=i;k.height=m}};var qF={};pb(Ep,function(i,e){qF[e]=new i()});var lZ=HD({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var i=this.style;var e=this.shape;if(e.symbolType==="pin"&&i.textPosition==="inside"){i.textPosition=["50%","40%"];i.textAlign="center";i.textVerticalAlign="middle"}},buildPath:function(e,i,k){var m=i.symbolType;var v=qF[m];if(i.symbolType!=="none"){if(!v){m="rect";v=qF[m]}wA[m](i.x,i.y,i.width,i.height,v.shape);v.buildPath(e,v.shape,k)}}});function aX(i,m){if(this.type!=="image"){var k=this.style;var e=this.shape;if(e&&e.symbolType==="line"){k.stroke=i}else{if(this.__isEmptyBrush){k.stroke=i;k.fill=m||"#fff"}else{k.fill&&(k.fill=i);k.stroke&&(k.stroke=i)}}this.dirty(false)}}function uc(v3,v1,Z,v2,m,i,v){var k=v3.indexOf("empty")===0;if(k){v3=v3.substr(5,1).toLowerCase()+v3.substr(6)}var e;if(v3.indexOf("image://")===0){e=Gx(v3.slice(8),new CL(v1,Z,v2,m),v?"center":"cover")}else{if(v3.indexOf("path://")===0){e=Bh(v3.slice(7),{},new CL(v1,Z,v2,m),v?"center":"cover")}else{e=new lZ({shape:{symbolType:v3,x:v1,y:Z,width:v2,height:m}})}}e.__isEmptyBrush=k;e.setColor=aX;e.setColor(i);return e}function Fo(e){return a(e.getSource(),e)}var mH={isDimensionStacked:lW,enableDataStack:j3,getStackedDimension:jD};function AX(k,i){var e=i;if(!fx.isInstance(i)){e=new fx(i);Gu(e,nD)}var m=ns(e);m.setExtent(k[0],k[1]);nN(m,e);return m}function qy(e){Gu(e,nD)}var Cd=(Object.freeze||Object)({createList:Fo,getLayoutRect:kX,dataStack:mH,createScale:AX,mixinAxisModelCommonMethods:qy,completeDimensions:HK,createDimensions:yA,createSymbol:uc});var ln=1e-8;function Du(i,e){return Math.abs(i-e)<ln}function ER(v,e,v3){var k=0;var v1=v[0];if(!v1){return false}for(var m=1;m<v.length;m++){var Z=v[m];k+=ms(v1[0],v1[1],Z[0],Z[1],e,v3);v1=Z}var v2=v[0];if(!Du(v1[0],v2[0])||!Du(v1[1],v2[1])){k+=ms(v1[0],v1[1],v2[0],v2[1],e,v3)}return k!==0}function vW(e,i,m){this.name=e;this.geometries=i;if(!m){var k=this.getBoundingRect();m=[k.x+k.width/2,k.y+k.height/2]}else{m=[m[0],m[1]]}this.center=m}vW.prototype={constructor:vW,properties:null,getBoundingRect:function(){var v=this._rect;if(v){return v}var v2=Number.MAX_VALUE;var v1=[v2,v2];var v3=[-v2,-v2];var Iq=[];var Z=[];var e=this.geometries;for(var m=0;m<e.length;m++){if(e[m].type!=="polygon"){continue}var k=e[m].exterior;oK(k,Iq,Z);By(v1,v1,Iq);D9(v3,v3,Z)}if(m===0){v1[0]=v1[1]=v3[0]=v3[1]=0}return(this._rect=new CL(v1[0],v1[1],v3[0]-v1[0],v3[1]-v1[1]))},contain:function(Iq){var v1=this.getBoundingRect();var Z=this.geometries;if(!v1.contain(Iq[0],Iq[1])){return false}loopGeo:for(var v=0,m=Z.length;v<m;v++){if(Z[v].type!=="polygon"){continue}var v2=Z[v].exterior;var v3=Z[v].interiors;if(ER(v2,Iq[0],Iq[1])){for(var e=0;e<(v3?v3.length:0);e++){if(ER(v3[e])){continue loopGeo}}return true}}return false},transformTo:function(It,Ir,m,Iv){var Is=this.getBoundingRect();var e=Is.width/Is.height;if(!m){m=e*Iv}else{if(!Iv){Iv=m/e}}var Iq=new CL(It,Ir,m,Iv);var Z=Is.calculateTransform(Iq);var v=this.geometries;for(var v2=0;v2<v.length;v2++){if(v[v2].type!=="polygon"){continue}var v1=v[v2].exterior;var Iu=v[v2].interiors;for(var k=0;k<v1.length;k++){aY(v1[k],v1[k],Z)}for(var v3=0;v3<(Iu?Iu.length:0);v3++){for(var k=0;k<Iu[v3].length;k++){aY(Iu[v3][k],Iu[v3][k],Z)}}}Is=this._rect;Is.copy(Iq);this.center=[Is.x+Is.width/2,Is.y+Is.height/2]},cloneShallow:function(e){e==null&&(e=this.name);var i=new vW(e,this.geometries,this.center);i._rect=this._rect;i.transformTo=null;return i}};function dP(Ir){if(!Ir.UTF8Encoding){return Ir}var v3=Ir.UTF8Scale;if(v3==null){v3=1024}var e=Ir.features;for(var k=0;k<e.length;k++){var Is=e[k];var v=Is.geometry;var v2=v.coordinates;var Z=v.encodeOffsets;for(var m=0;m<v2.length;m++){var Iq=v2[m];if(v.type==="Polygon"){v2[m]=CI(Iq,Z[m],v3)}else{if(v.type==="MultiPolygon"){for(var i=0;i<Iq.length;i++){var v1=Iq[i];Iq[i]=CI(v1,Z[m][i],v3)}}}}}Ir.UTF8Encoding=false;return Ir}function CI(v3,Z,v2){var Iq=[];var m=Z[0];var k=Z[1];for(var e=0;e<v3.length;e+=2){var v1=v3.charCodeAt(e)-64;var v=v3.charCodeAt(e+1)-64;v1=(v1>>1)^(-(v1&1));v=(v>>1)^(-(v&1));v1+=m;v+=k;m=v1;k=v;Iq.push([v1/v2,v/v2])}return Iq}var bK=function(e){dP(e);return Ej(q7(e.features,function(i){return i.geometry&&i.properties&&i.geometry.coordinates.length>0}),function(i){var k=i.properties;var Z=i.geometry;var v1=Z.coordinates;var m=[];if(Z.type==="Polygon"){m.push({type:"polygon",exterior:v1[0],interiors:v1.slice(1)})}if(Z.type==="MultiPolygon"){pb(v1,function(v2){if(v2[0]){m.push({type:"polygon",exterior:v2[0],interiors:v2.slice(1)})}})}var v=new vW(k.name,m,k.cp);v.properties=k;return v})};var hO=fM();function yd(e){return e.type==="category"?GF(e):xy(e)}function mz(e,i){return e.type==="category"?EJ(e,i):{ticks:e.scale.getTicks()}}function GF(i){var k=i.getLabelModel();var e=ku(i,k);return(!k.get("show")||i.scale.isBlank())?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function ku(k,Z){var m=l9(k,"labels");var i=pW(Z);var e=pG(m,i);if(e){return e}var v1;var v;if(E9(i)){v1=pt(k,i)}else{v=i==="auto"?eF(k):i;v1=qJ(k,v)}return yB(m,i,{labels:v1,labelCategoryInterval:v})}function EJ(m,v1){var Z=l9(m,"ticks");var v2=pW(v1);var i=pG(Z,v2);if(i){return i}var v;var e;if(!v1.get("show")||m.scale.isBlank()){v=[]}if(E9(v2)){v=pt(m,v2,true)}else{if(v2==="auto"){var k=ku(m,m.getLabelModel());e=k.labelCategoryInterval;v=Ej(k.labels,function(v3){return v3.tickValue})}else{e=v2;v=qJ(m,e,true)}}return yB(Z,v2,{ticks:v,tickCategoryInterval:e})}function xy(i){var k=i.scale.getTicks();var e=lS(i);return{labels:Ej(k,function(v,m){return{formattedLabel:e(v,m),rawLabel:i.scale.getLabel(v),tickValue:v}})}}function l9(e,i){return hO(e)[i]||(hO(e)[i]=[])}function pG(e,m){for(var k=0;k<e.length;k++){if(e[k].key===m){return e[k].value}}}function yB(e,i,k){e.push({key:i,value:k});return k}function eF(i){var e=hO(i).autoInterval;return e!=null?e:(hO(i).autoInterval=i.calculateCategoryInterval())}function f7(k){var IA=kv(k);var v1=lS(k);var Iw=(IA.axisRotate-IA.labelRotate)/180*Math.PI;var IC=k.scale;var Ix=IC.getExtent();var e=IC.count();if(Ix[1]-Ix[0]<1){return 0}var v2=1;if(e>40){v2=Math.max(1,Math.floor(e/40))}var v3=Ix[0];var v=k.dataToCoord(v3+1)-k.dataToCoord(v3);var Z=Math.abs(v*Math.cos(Iw));var Iu=Math.abs(v*Math.sin(Iw));var IB=0;var m=0;for(;v3<=Ix[1];v3+=v2){var Iv=0;var It=0;var i=Gv(v1(v3),IA.font,"center","top");Iv=i.width*1.3;It=i.height*1.3;IB=Math.max(IB,Iv,7);m=Math.max(m,It,7)}var Ir=IB/Z;var Iy=m/Iu;isNaN(Ir)&&(Ir=Infinity);isNaN(Iy)&&(Iy=Infinity);var Iz=Math.max(0,Math.floor(Math.min(Ir,Iy)));var Is=hO(k.model);var Iq=Is.lastAutoInterval;var ID=Is.lastTickCount;if(Iq!=null&&ID!=null&&Math.abs(Iq-Iz)<=1&&Math.abs(ID-e)<=1&&Iq>Iz){Iz=Iq}else{Is.lastTickCount=e;Is.lastAutoInterval=Iz}return Iz}function kv(e){var i=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():(e.isHorizontal&&!e.isHorizontal())?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}}function qJ(k,v3,m){var v2=lS(k);var Is=k.scale;var Ir=Is.getExtent();var It=k.getLabelModel();var Iu=[];var i=Math.max((v3||0)+1,1);var Z=Ir[0];var e=Is.count();if(Z!==0&&i>1&&e/i>2){Z=Math.round(Math.ceil(Z/i)*i)}var v1={min:It.get("showMinLabel"),max:It.get("showMaxLabel")};if(v1.min&&Z!==Ir[0]){Iq(Ir[0])}var v=Z;for(;v<=Ir[1];v+=i){Iq(v)}if(v1.max&&v!==Ir[1]){Iq(Ir[1])}function Iq(Iv){Iu.push(m?Iv:{formattedLabel:v2(Iv),rawLabel:Is.getLabel(Iv),tickValue:Iv})}return Iu}function pt(v,k,i){var Z=v.scale;var m=lS(v);var e=[];pb(Z.getTicks(),function(v1){var v2=Z.getLabel(v1);if(k(v1,v2)){e.push(i?v1:{formattedLabel:m(v1),rawLabel:v2,tickValue:v1})}});return e}function pW(i){var e=i.get("interval");return e==null?"auto":e}var fW=[0,1];var BW=function(i,k,e){this.dim=i;this.scale=k;this._extent=e||[0,0];this.inverse=false;this.onBand=false};BW.prototype={constructor:BW,contain:function(m){var k=this._extent;var i=Math.min(k[0],k[1]);var e=Math.max(k[0],k[1]);return m>=i&&m<=e},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return ye(e||this.scale.getExtent(),this._extent)},setExtent:function(k,e){var i=this._extent;i[0]=k;i[1]=e},dataToCoord:function(i,m){var e=this._extent;var k=this.scale;i=k.normalize(i);if(this.onBand&&k.type==="ordinal"){e=e.slice();Do(e,k.count())}return EU(i,fW,e,m)},coordToData:function(v,m){var i=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){i=i.slice();Do(i,k.count())}var e=EU(v,i,fW,m);return this.scale.scale(e)},pointToData:function(e,i){},getTicksCoords:function(k){k=k||{};var Z=k.tickModel||this.getTickModel();var e=mz(this,Z);var m=e.ticks;var i=Ej(m,function(v1){return{coord:this.dataToCoord(v1),tickValue:v1}},this);var v=Z.get("alignWithLabel");Fl(this,i,e.tickCategoryInterval,v,k.clamp);return i},getViewLabels:function(){return yd(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var m=this._extent;var k=this.scale.getExtent();var e=k[1]-k[0]+(this.onBand?1:0);e===0&&(e=1);var i=Math.abs(m[1]-m[0]);return Math.abs(i)/e},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return f7(this)}};function Do(m,i){var k=m[1]-m[0];var e=i;var v=k/e/2;m[0]+=v;m[1]-=v}function Fl(k,Iq,v2,e,v1){var v3=Iq.length;if(!k.onBand||e||!v3){return}var m=k.getExtent();var Ir;if(v3===1){Iq[0].coord=m[0];Ir=Iq[1]={coord:m[0]}}else{var i=(Iq[1].coord-Iq[0].coord);pb(Iq,function(It){It.coord-=i/2;var Is=Is||0;if(Is%2>0){It.coord-=i/((Is+1)*2)}});Ir={coord:Iq[v3-1].coord+i};Iq.push(Ir)}var v=m[0]>m[1];if(Z(Iq[0].coord,m[0])){v1?(Iq[0].coord=m[0]):Iq.shift()}if(v1&&Z(m[0],Iq[0].coord)){Iq.unshift({coord:m[0]})}if(Z(m[1],Ir.coord)){v1?(Ir.coord=m[1]):Iq.pop()}if(v1&&Z(Ir.coord,m[1])){Iq.push({coord:m[1]})}function Z(It,Is){return v?It>Is:It<Is}}var kq=bK;var k8={};pb(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){k8[e]=xk[e]});var t1={};pb(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){t1[e]=yj[e]});nW.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(k,e){if(om){var i=k.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return a(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function dY(v1,m){var v=v1.mapDimension("defaultedLabel",true);var e=v.length;if(e===1){return i7(v1,m,v[0])}else{if(e){var Z=[];for(var k=0;k<v.length;k++){var v2=i7(v1,m,v[k]);Z.push(v2)}return Z.join(" ")}}}function lQ(k,e,i){Cc.call(this);this.updateData(k,e,i)}var DC=lQ.prototype;var FB=lQ.getSymbolSize=function(k,e){var i=k.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function no(e){return[e[0]/2,e[1]/2]}function yK(i,e){this.parent.drift(i,e)}DC._createSymbol=function(v1,Z,k,v,i){this.removeAll();var m=Z.getItemVisual(k,"color");var e=uc(v1,-1,-1,2,2,m,i);e.attr({z2:100,culling:true,scale:no(v)});e.drift=yK;this._symbolType=v1;this.add(e)};DC.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)};DC.getSymbolPath=function(){return this.childAt(0)};DC.getScale=function(){return this.childAt(0).scale};DC.highlight=function(){this.childAt(0).trigger("emphasis")};DC.downplay=function(){this.childAt(0).trigger("normal")};DC.setZ=function(i,k){var e=this.childAt(0);e.zlevel=i;e.z=k};DC.setDraggable=function(i){var e=this.childAt(0);e.draggable=i;e.cursor=i?"move":"pointer"};DC.updateData=function(m,Iq,v3){this.silent=false;var Ir=m.getItemVisual(Iq,"symbol")||"circle";var k=m.hostModel;var i=FB(m,Iq);var Z=Ir!==this._symbolType;if(Z){var v=m.getItemVisual(Iq,"symbolKeepAspect");this._createSymbol(Ir,m,Iq,i,v)}else{var e=this.childAt(0);e.silent=false;oU(e,{scale:no(i)},k,Iq)}this._updateCommon(m,Iq,i,v3);if(Z){var e=this.childAt(0);var v1=v3&&v3.fadeIn;var v2={scale:e.scale.slice()};v1&&(v2.style={opacity:e.style.opacity});e.scale=[0,0];v1&&(e.style.opacity=0);jE(e,v2,k,Iq)}this._seriesModel=k};var tb=["itemStyle"];var hI=["emphasis","itemStyle"];var dH=["label"];var BV=["emphasis","label"];DC._updateCommon=function(IC,Is,IA,Ir){var IB=this.childAt(0);var It=IC.hostModel;var Iv=IC.getItemVisual(Is,"color");if(IB.type!=="image"){IB.useStyle({strokeNoScale:true})}var v3=Ir&&Ir.itemStyle;var k=Ir&&Ir.hoverItemStyle;var Z=Ir&&Ir.symbolRotate;var Iu=Ir&&Ir.symbolOffset;var Iq=Ir&&Ir.labelModel;var Iz=Ir&&Ir.hoverLabelModel;var v=Ir&&Ir.hoverAnimation;var e=Ir&&Ir.cursorStyle;if(!Ir||IC.hasItemOption){var Iw=(Ir&&Ir.itemModel)?Ir.itemModel:IC.getItemModel(Is);v3=Iw.getModel(tb).getItemStyle(["color"]);k=Iw.getModel(hI).getItemStyle();Z=Iw.getShallow("symbolRotate");Iu=Iw.getShallow("symbolOffset");Iq=Iw.getModel(dH);Iz=Iw.getModel(BV);v=Iw.getShallow("hoverAnimation");e=Iw.getShallow("cursor")}else{k=b0({},k)}var Ix=IB.style;IB.attr("rotation",(Z||0)*Math.PI/180||0);if(Iu){IB.attr("position",[zS(Iu[0],IA[0]),zS(Iu[1],IA[1])])}e&&IB.attr("cursor",e);IB.setColor(Iv,Ir&&Ir.symbolInnerColor);IB.setStyle(v3);var m=IC.getItemVisual(Is,"opacity");if(m!=null){Ix.opacity=m}var v2=IC.getItemVisual(Is,"liftZ");var i=IB.__z2Origin;if(v2!=null){if(i==null){IB.__z2Origin=IB.z2;IB.z2+=v2}}else{if(i!=null){IB.z2=i;IB.__z2Origin=null}}var Iy=Ir&&Ir.useNameLabel;BH(Ix,k,Iq,Iz,{labelFetcher:It,labelDataIndex:Is,defaultText:v1,isRectText:true,autoColor:Iv});function v1(ID,IE){return Iy?IC.getName(ID):dY(IC,ID)}IB.off("mouseover").off("mouseout").off("emphasis").off("normal");IB.hoverStyle=k;yr(IB);IB.__symbolOriginalScale=no(IA);if(v&&It.isAnimationEnabled()){IB.on("mouseover",ph).on("mouseout",b6).on("emphasis",Fh).on("normal",k9)}};function ph(){!rZ(this)&&Fh.call(this)}function b6(){!rZ(this)&&k9.call(this)}function Fh(){if(this.incremental||this.useHoverLayer){return}var i=this.__symbolOriginalScale;var e=i[1]/i[0];this.animateTo({scale:[Math.max(i[0]*1.1,i[0]+3),Math.max(i[1]*1.1,i[1]+3*e)]},400,"elasticOut")}function k9(){if(this.incremental||this.useHoverLayer){return}this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}DC.fadeOut=function(i,k){var e=this.childAt(0);this.silent=e.silent=true;!(k&&k.keepLabel)&&(e.style.text=null);oU(e,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,i)};mt(lQ,Cc);function Fd(e){this.group=new Cc();this._symbolCtor=e||lQ}var xU=Fd.prototype;function wF(m,i,e,k){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(k.isIgnore&&k.isIgnore(e))&&!(k.clipShape&&!k.clipShape.contain(i[0],i[1]))&&m.getItemVisual(e,"symbol")!=="none"}xU.updateData=function(v,k){k=E5(k);var Z=this.group;var e=v.hostModel;var v1=this._data;var m=this._symbolCtor;var i=wY(v);if(!v1){Z.removeAll()}v.diff(v1).add(function(v3){var v2=v.getItemLayout(v3);if(wF(v,v2,v3,k)){var Iq=new m(v,v3,i);Iq.attr("position",v2);v.setItemGraphicEl(v3,Iq);Z.add(Iq)}}).update(function(Iq,v3){var Ir=v1.getItemGraphicEl(v3);var v2=v.getItemLayout(Iq);if(!wF(v,v2,Iq,k)){Z.remove(Ir);return}if(!Ir){Ir=new m(v,Iq);Ir.attr("position",v2)}else{Ir.updateData(v,Iq,i);oU(Ir,{position:v2},e)}Z.add(Ir);v.setItemGraphicEl(Iq,Ir)}).remove(function(v2){var v3=v1.getItemGraphicEl(v2);v3&&v3.fadeOut(function(){Z.remove(v3)})}).execute();this._data=v};xU.isPersistent=function(){return true};xU.updateLayout=function(){var e=this._data;if(e){e.eachItemGraphicEl(function(m,k){var i=e.getItemLayout(k);m.attr("position",i)})}};xU.incrementalPrepareUpdate=function(e){this._seriesScope=wY(e);this._data=null;this.group.removeAll()};xU.incrementalUpdate=function(v1,Z,m){m=E5(m);function k(v2){if(!v2.isGroup){v2.incremental=v2.useHoverLayer=true}}for(var i=v1.start;i<v1.end;i++){var e=Z.getItemLayout(i);if(wF(Z,e,i,m)){var v=new this._symbolCtor(Z,i,this._seriesScope);v.traverse(k);v.attr("position",e);this.group.add(v);Z.setItemGraphicEl(i,v)}}};function E5(e){if(e!=null&&!tM(e)){e={isIgnore:e}}return e||{}}xU.remove=function(e){var k=this.group;var i=this._data;if(i&&e){i.eachItemGraphicEl(function(m){m.fadeOut(function(){k.remove(m)})})}else{k.removeAll()}};function wY(i){var e=i.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function xg(v,Z,v1){var i=v.getBaseAxis();var It=v.getOtherAxis(i);var m=lJ(It,v1);var k=i.dim;var v2=It.dim;var Iq=Z.mapDimension(v2);var Iu=Z.mapDimension(k);var e=v2==="x"||v2==="radius"?1:0;var Is=Ej(v.dimensions,function(Iv){return Z.mapDimension(Iv)});var v3;var Ir=Z.getCalculationInfo("stackResultDimension");if(v3|=lW(Z,Is[0])){Is[0]=Ir}if(v3|=lW(Z,Is[1])){Is[1]=Ir}return{dataDimsForPoint:Is,valueStart:m,valueAxisDim:v2,baseAxisDim:k,stacked:!!v3,valueDim:Iq,baseDim:Iu,baseDataOffset:e,stackedOverDimension:Z.getCalculationInfo("stackedOverDimension")}}function lJ(m,e){var k=0;var i=m.scale.getExtent();if(e==="start"){k=i[0]}else{if(e==="end"){k=i[1]}else{if(i[0]>0){k=i[0]}else{if(i[1]<0){k=i[1]}}}}return k}function aj(i,v,v1,e){var Z=NaN;if(i.stacked){Z=v1.get(v1.getCalculationInfo("stackedOverDimension"),e)}if(isNaN(Z)){Z=i.valueStart}var m=i.baseDataOffset;var k=[];k[m]=v1.get(i.baseDim,e);k[1-m]=Z;return v.dataToPoint(k)}function io(k,i){var e=[];i.diff(k).add(function(m){e.push({cmd:"+",idx:m})}).update(function(v,m){e.push({cmd:"=",idx:m,idx1:v})}).remove(function(m){e.push({cmd:"-",idx:m})}).execute();return e}var wp=function(IL,Iu,IE,It,II,IK,v3,IB){var Iv=io(IL,Iu);var Iw=[];var v2=[];var Z=[];var IJ=[];var ID=[];var Iz=[];var k=[];var v1=xg(II,Iu,v3);var v=xg(IK,IL,IB);for(var IF=0;IF<Iv.length;IF++){var IC=Iv[IF];var IH=true;switch(IC.cmd){case"=":var IG=IL.getItemLayout(IC.idx);var IA=Iu.getItemLayout(IC.idx1);if(isNaN(IG[0])||isNaN(IG[1])){IG=IA.slice()}Iw.push(IG);v2.push(IA);Z.push(IE[IC.idx]);IJ.push(It[IC.idx1]);k.push(Iu.getRawIndex(IC.idx1));break;case"+":var Ix=IC.idx;Iw.push(II.dataToPoint([Iu.get(v1.dataDimsForPoint[0],Ix),Iu.get(v1.dataDimsForPoint[1],Ix)]));v2.push(Iu.getItemLayout(Ix).slice());Z.push(aj(v1,II,Iu,Ix));IJ.push(It[Ix]);k.push(Iu.getRawIndex(Ix));break;case"-":var Ix=IC.idx;var Is=IL.getRawIndex(Ix);if(Is!==Ix){Iw.push(IL.getItemLayout(Ix));v2.push(IK.dataToPoint([IL.get(v.dataDimsForPoint[0],Ix),IL.get(v.dataDimsForPoint[1],Ix)]));Z.push(IE[Ix]);IJ.push(aj(v,IK,IL,Ix));k.push(Is)}else{IH=false}}if(IH){ID.push(IC);Iz.push(Iz.length)}}Iz.sort(function(IM,i){return k[IM]-k[i]});var Iy=[];var Ir=[];var Iq=[];var e=[];var m=[];for(var IF=0;IF<Iz.length;IF++){var Ix=Iz[IF];Iy[IF]=Iw[Ix];Ir[IF]=v2[Ix];Iq[IF]=Z[Ix];e[IF]=IJ[Ix];m[IF]=ID[Ix]}return{current:Iy,next:Ir,stackedOnCurrent:Iq,stackedOnNext:e,status:m}};var gu=By;var jd=D9;var vF=Ba;var z3=yM;var G8=[];var Ed=[];var Ec=[];function BU(e){return isNaN(e[0])||isNaN(e[1])}function ve(Ir,Iq,k,v,v3,Z,v2,m,i,v1,e){if(v1==="none"||!v1){return dE.apply(this,arguments)}else{return rr.apply(this,arguments)}}function rr(Iu,Ix,m,Iz,Is,It,i,v,v3,Iq,e){var v1=0;var v2=m;for(var Iv=0;Iv<Iz;Iv++){var Ir=Ix[v2];if(v2>=Is||v2<0){break}if(BU(Ir)){if(e){v2+=It;continue}break}if(v2===m){Iu[It>0?"moveTo":"lineTo"](Ir[0],Ir[1])}else{if(v3>0){var Z=Ix[v1];var Iw=Iq==="y"?1:0;var Iy=(Ir[Iw]-Z[Iw])*v3;z3(Ed,Z);Ed[Iw]=Z[Iw]+Iy;z3(Ec,Ir);Ec[Iw]=Ir[Iw]-Iy;Iu.bezierCurveTo(Ed[0],Ed[1],Ec[0],Ec[1],Ir[0],Ir[1])}else{Iu.lineTo(Ir[0],Ir[1])}}v1=v2;v2+=It}return Iv}function dE(Iw,Iz,v,IA,Iu,Iv,m,Z,Ir,Is,i){var v3=0;var Iq=v;for(var Ix=0;Ix<IA;Ix++){var It=Iz[Iq];if(Iq>=Iu||Iq<0){break}if(BU(It)){if(i){Iq+=Iv;continue}break}if(Iq===v){Iw[Iv>0?"moveTo":"lineTo"](It[0],It[1]);z3(Ed,It)}else{if(Ir>0){var IC=Iq+Iv;var e=Iz[IC];if(i){while(e&&BU(Iz[IC])){IC+=Iv;e=Iz[IC]}}var IB=0.5;var v2=Iz[v3];var e=Iz[IC];if(!e||BU(e)){z3(Ec,It)}else{if(BU(e)&&!i){e=It}BR(G8,e,v2);var ID;var v1;if(Is==="x"||Is==="y"){var Iy=Is==="x"?0:1;ID=Math.abs(It[Iy]-v2[Iy]);v1=Math.abs(It[Iy]-e[Iy])}else{ID=DZ(It,v2);v1=DZ(It,e)}IB=v1/(v1+ID);vF(Ec,It,G8,-Ir*(1-IB))}gu(Ed,Ed,Z);jd(Ed,Ed,m);gu(Ec,Ec,Z);jd(Ec,Ec,m);Iw.bezierCurveTo(Ed[0],Ed[1],Ec[0],Ec[1],It[0],It[1]);vF(Ed,It,G8,Ir*IB)}else{Iw.lineTo(It[0],It[1])}}v3=Iq;Iq+=Iv}return Ix}function kf(Z,m){var v=[Infinity,Infinity];var e=[-Infinity,-Infinity];if(m){for(var k=0;k<Z.length;k++){var v1=Z[k];if(v1[0]<v[0]){v[0]=v1[0]}if(v1[1]<v[1]){v[1]=v1[1]}if(v1[0]>e[0]){e[0]=v1[0]}if(v1[1]>e[1]){e[1]=v1[1]}}}return{min:m?v:e,max:m?e:v}}var iM=mo.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:nm(mo.prototype.brush),buildPath:function(k,m){var v1=m.points;var Z=0;var v=v1.length;var e=kf(v1,m.smoothConstraint);if(m.connectNulls){for(;v>0;v--){if(!BU(v1[v-1])){break}}for(;Z<v;Z++){if(!BU(v1[Z])){break}}}while(Z<v){Z+=ve(k,v1,Z,v,v,1,e.min,e.max,m.smooth,m.smoothMonotone,m.connectNulls)+1}}});var ja=mo.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:nm(mo.prototype.brush),buildPath:function(Is,v1){var Iq=v1.points;var Z=v1.stackedOnPoints;var v=0;var v3=Iq.length;var v2=v1.smoothMonotone;var Ir=kf(Iq,v1.smoothConstraint);var e=kf(Z,v1.smoothConstraint);if(v1.connectNulls){for(;v3>0;v3--){if(!BU(Iq[v3-1])){break}}for(;v<v3;v++){if(!BU(Iq[v])){break}}}while(v<v3){var m=ve(Is,Iq,v,v3,v3,1,Ir.min,Ir.max,v1.smooth,v2,v1.connectNulls);ve(Is,Z,v+m-1,m,v3,-1,e.min,e.max,v1.stackedOnSmooth,v2,v1.connectNulls);v+=m+1;Is.closePath()}}});function xb(k,e){if(k.length!==e.length){return}for(var m=0;m<k.length;m++){var Z=k[m];var v=e[m];if(Z[0]!==v[0]||Z[1]!==v[1]){return}}return true}function zV(e){return typeof(e)==="number"?e:(e?0.5:0)}function ng(m){var k=m.getGlobalExtent();if(m.onBand){var e=m.getBandWidth()/2-1;var i=k[1]>k[0]?1:-1;k[0]+=i*e;k[1]-=i*e}return k}function Dw(m,Z,k){if(!k.valueDim){return[]}var v=[];for(var i=0,e=Z.count();i<e;i++){v.push(aj(k,m,Z,i))}return v}function bk(v,v2,v1,k){var i=ng(v.getAxis("x"));var v3=ng(v.getAxis("y"));var Is=v.getBaseAxis().isHorizontal();var It=Math.min(i[0],i[1]);var Ir=Math.min(v3[0],v3[1]);var e=Math.max(i[0],i[1])-It;var Iu=Math.max(v3[0],v3[1])-Ir;if(v1){It-=0.5;e+=0.5;Ir-=0.5;Iu+=0.5}else{var Z=k.get("lineStyle.width")||2;var m=k.get("clipOverflow")?Z/2:Math.max(e,Iu);if(Is){Ir-=m;Iu+=m*2}else{It-=m;e+=m*2}}var Iq=new EL({shape:{x:It,y:Ir,width:e,height:Iu}});if(v2){Iq.shape[Is?"width":"height"]=0;jE(Iq,{shape:{width:e,height:Iu}},k)}return Iq}function AF(e,Z,v,i){var Iq=e.getAngleAxis();var k=e.getRadiusAxis();var m=k.getExtent().slice();m[0]>m[1]&&m.reverse();var v3=Iq.getExtent();var v2=Math.PI/180;if(v){m[0]-=0.5;m[1]+=0.5}var v1=new tA({shape:{cx:FQ(e.cx,1),cy:FQ(e.cy,1),r0:FQ(m[0],1),r:FQ(m[1],1),startAngle:-v3[0]*v2,endAngle:-v3[1]*v2,clockwise:Iq.inverse}});if(Z){v1.shape.endAngle=-v3[0]*v2;jE(v1,{shape:{endAngle:-v3[1]*v2}},i)}return v1}function dF(i,k,m,e){return i.type==="polar"?AF(i,k,m,e):bk(i,k,m,e)}function a5(v3,Z,m){var k=Z.getBaseAxis();var v2=k.dim==="x"||k.dim==="radius"?0:1;var e=[];for(var v1=0;v1<v3.length-1;v1++){var It=v3[v1+1];var Is=v3[v1];e.push(Is);var v=[];switch(m){case"end":v[v2]=It[v2];v[1-v2]=Is[1-v2];e.push(v);break;case"middle":var Ir=(Is[v2]+It[v2])/2;var Iq=[];v[v2]=Iq[v2]=Ir;v[1-v2]=Is[1-v2];Iq[1-v2]=It[1-v2];e.push(v);e.push(Iq);break;default:v[v2]=Is[v2];v[1-v2]=It[1-v2];e.push(v)}}v3[v1]&&e.push(v3[v1]);return e}function cn(Iz,v3){var Iu=Iz.getVisual("visualMeta");if(!Iu||!Iu.length||!Iz.count()){return}if(v3.type!=="cartesian2d"){if(om){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var It;var Iy;for(var Iv=Iu.length-1;Iv>=0;Iv--){var Ir=Iu[Iv].dimension;var Iq=Iz.dimensions[Ir];var v2=Iz.getDimensionInfo(Iq);It=v2&&v2.coordDim;if(It==="x"||It==="y"){Iy=Iu[Iv];break}}if(!Iy){if(om){console.warn("Visual map on line style only support x or y dimension.")}return}var Z=v3.getAxis(It);var v1=Ej(Iy.stops,function(i){return{coord:Z.toGlobalCoord(Z.dataToCoord(i.value)),color:i.color}});var k=v1.length;var Ix=Iy.outerColors.slice();if(k&&v1[0].coord>v1[k-1].coord){v1.reverse();Ix.reverse()}var e=10;var Is=v1[0].coord-e;var Iw=v1[k-1].coord+e;var m=Iw-Is;if(m<0.001){return"transparent"}pb(v1,function(i){i.offset=(i.coord-Is)/m});v1.push({offset:k?v1[k-1].offset:0.5,color:Ix[1]||"transparent"});v1.unshift({offset:k?v1[0].offset:0.5,color:Ix[0]||"transparent"});var v=new uG(0,0,0,0,v1,true);v[It]=Is;v[It+"2"]=Iw;return v}function eS(k,v1,m){var i=k.get("showAllSymbol");var e=i==="auto";if(i&&!e){return}var v2=m.getAxesByScale("ordinal")[0];if(!v2){return}if(e&&hC(v2,v1)){return}var v=v1.mapDimension(v2.dim);var Z={};pb(v2.getViewLabels(),function(v3){Z[v3.tickValue]=1});return function(v3){return !Z.hasOwnProperty(v1.get(v,v3))}}function hC(Z,v){var v1=Z.getExtent();var k=Math.abs(v1[1]-v1[0])/Z.scale.count();isNaN(k)&&(k=0);var i=v.count();var m=Math.max(1,Math.round(i/5));for(var e=0;e<i;e+=m){if(lQ.getSymbolSize(v,e)[Z.isHorizontal()?1:0]*1.5>k){return false}}return true}dG.extend({type:"line",init:function(){var i=new Cc();var e=new Fd();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=i},render:function(Iz,II,Iw){var v2=Iz.coordinateSystem;var v3=this.group;var IH=Iz.getData();var IA=Iz.getModel("lineStyle");var Iu=Iz.getModel("areaStyle");var IC=IH.mapArray(IH.getItemLayout);var IE=v2.type==="polar";var Iq=this._coordSys;var ID=this._symbolDraw;var Iy=this._polyline;var Is=this._polygon;var IB=this._lineGroup;var i=Iz.get("animation");var k=!Iu.isEmpty();var It=Iu.get("origin");var m=xg(v2,IH,It);var Z=Dw(v2,IH,m);var Ir=Iz.get("showSymbol");var Iv=Ir&&!IE&&eS(Iz,IH,v2);var IG=this._data;IG&&IG.eachItemGraphicEl(function(IK,IJ){if(IK.__temp){v3.remove(IK);IG.setItemGraphicEl(IJ,null)}});if(!Ir){ID.remove()}v3.add(IB);var v1=!IE&&Iz.get("step");if(!(Iy&&Iq.type===v2.type&&v1===this._step)){Ir&&ID.updateData(IH,{isIgnore:Iv,clipShape:dF(v2,false,true,Iz)});if(v1){IC=a5(IC,v2,v1);Z=a5(Z,v2,v1)}Iy=this._newPolyline(IC,v2,i);if(k){Is=this._newPolygon(IC,Z,v2,i)}IB.setClipPath(dF(v2,true,false,Iz))}else{if(k&&!Is){Is=this._newPolygon(IC,Z,v2,i)}else{if(Is&&!k){IB.remove(Is);Is=this._polygon=null}}IB.setClipPath(dF(v2,false,false,Iz));Ir&&ID.updateData(IH,{isIgnore:Iv,clipShape:dF(v2,false,true,Iz)});IH.eachItemGraphicEl(function(IJ){IJ.stopAnimation(true)});if(!xb(this._stackedOnPoints,Z)||!xb(this._points,IC)){if(i){this._updateAnimation(IH,Z,v2,Iw,v1,It)}else{if(v1){IC=a5(IC,v2,v1);Z=a5(Z,v2,v1)}Iy.setShape({points:IC});Is&&Is.setShape({points:IC,stackedOnPoints:Z})}}}var v=cn(IH,v2)||IH.getVisual("color");Iy.useStyle(Di(IA.getLineStyle(),{fill:"none",stroke:v,lineJoin:"bevel"}));var Ix=Iz.get("smooth");Ix=zV(Iz.get("smooth"));Iy.setShape({smooth:Ix,smoothMonotone:Iz.get("smoothMonotone"),connectNulls:Iz.get("connectNulls")});if(Is){var IF=IH.getCalculationInfo("stackedOnSeries");var e=0;Is.useStyle(Di(Iu.getAreaStyle(),{fill:v,opacity:0.7,lineJoin:"bevel"}));if(IF){e=zV(IF.get("smooth"))}Is.setShape({smooth:Ix,stackedOnSmooth:e,smoothMonotone:Iz.get("smoothMonotone"),connectNulls:Iz.get("connectNulls")})}this._data=IH;this._coordSys=v2;this._stackedOnPoints=Z;this._points=IC;this._step=v1;this._valueOrigin=It},dispose:function(){},highlight:function(i,e,m,v2){var Z=i.getData();var k=xh(Z,v2);if(!(k instanceof Array)&&k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(!v){var v1=Z.getItemLayout(k);if(!v1){return}v=new lQ(Z,k);v.position=v1;v.setZ(i.get("zlevel"),i.get("z"));v.ignore=isNaN(v1[0])||isNaN(v1[1]);v.__temp=true;Z.setItemGraphicEl(k,v);v.stopSymbolAnimation(true);this.group.add(v)}v.highlight()}else{dG.prototype.highlight.call(this,i,e,m,v2)}},downplay:function(i,e,m,v1){var Z=i.getData();var k=xh(Z,v1);if(k!=null&&k>=0){var v=Z.getItemGraphicEl(k);if(v){if(v.__temp){Z.setItemGraphicEl(k,null);this.group.remove(v)}else{v.downplay()}}}else{dG.prototype.downplay.call(this,i,e,m,v1)}},_newPolyline:function(i){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new iM({shape:{points:i},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(k,e){var i=this._polygon;if(i){this._lineGroup.remove(i)}i=new ja({shape:{points:k,stackedOnPoints:e},silent:true});this._lineGroup.add(i);this._polygon=i;return i},_updateAnimation:function(IA,k,v,Is,Z,Iq){var It=this._polyline;var v2=this._polygon;var Iv=IA.hostModel;var Ir=wp(this._data,IA,this._stackedOnPoints,k,this._coordSys,v,this._valueOrigin,Iq);var Ix=Ir.current;var Iw=Ir.stackedOnCurrent;var Iu=Ir.next;var m=Ir.stackedOnNext;if(Z){Ix=a5(Ir.current,v,Z);Iw=a5(Ir.stackedOnCurrent,v,Z);Iu=a5(Ir.next,v,Z);m=a5(Ir.stackedOnNext,v,Z)}It.shape.__points=Ir.current;It.shape.points=Ix;oU(It,{shape:{points:Iu}},Iv);if(v2){v2.setShape({points:Ix,stackedOnPoints:Iw});oU(v2,{shape:{points:Iu,stackedOnPoints:m}},Iv)}var v3=[];var v1=Ir.status;for(var Iz=0;Iz<v1.length;Iz++){var Iy=v1[Iz].cmd;if(Iy==="="){var e=IA.getItemGraphicEl(v1[Iz].idx1);if(e){v3.push({el:e,ptIdx:Iz})}}}if(It.animators&&It.animators.length){It.animators[0].during(function(){for(var IB=0;IB<v3.length;IB++){var IC=v3[IB].el;IC.attr("position",It.shape.__points[v3[IB].ptIdx])}})}},remove:function(e){var i=this.group;var k=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);k&&k.eachItemGraphicEl(function(v,m){if(v.__temp){i.remove(v);k.setItemGraphicEl(m,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var mn=function(e,i,k){return{seriesType:e,performRawSeries:true,reset:function(Z,v3,Iq){var v1=Z.getData();var Is=Z.get("symbol")||i;var v=Z.get("symbolSize");var v2=Z.get("symbolKeepAspect");v1.setVisual({legendSymbol:k||Is,symbol:Is,symbolSize:v,symbolKeepAspect:v2});if(v3.isSeriesFiltered(Z)){return}var m=typeof v==="function";function Ir(Iz,It){if(typeof v==="function"){var Iy=Z.getRawValue(It);var IA=Z.getDataParams(It);Iz.setItemVisual(It,"symbolSize",v(Iy,IA))}if(Iz.hasItemOption){var Iw=Iz.getItemModel(It);var Ix=Iw.getShallow("symbol",true);var Iv=Iw.getShallow("symbolSize",true);var Iu=Iw.getShallow("symbolKeepAspect",true);if(Ix!=null){Iz.setItemVisual(It,"symbol",Ix)}if(Iv!=null){Iz.setItemVisual(It,"symbolSize",Iv)}if(Iu!=null){Iz.setItemVisual(It,"symbolKeepAspect",Iu)}}}return{dataEach:(v1.hasItemOption||m)?Ir:null}}}};var qD=function(e){return{seriesType:e,plan:Ew(),reset:function(m){var Z=m.getData();var v=m.coordinateSystem;var Iq=m.pipelineContext;var k=Iq.large;if(!v){return}var v3=Ej(v.dimensions,function(Ir){return Z.mapDimension(Ir)}).slice(0,2);var v2=v3.length;var v1=Z.getCalculationInfo("stackResultDimension");if(lW(Z,v3[0])){v3[0]=v1}if(lW(Z,v3[1])){v3[1]=v1}function i(It,Iv){var Ir=It.end-It.start;var IB=k&&new Float32Array(Ir*v2);for(var Iw=It.start,Iu=0,Ix=[],Is=[];Iw<It.end;Iw++){var IA;if(v2===1){var Iz=Iv.get(v3[0],Iw);IA=!isNaN(Iz)&&v.dataToPoint(Iz,null,Is)}else{var Iz=Ix[0]=Iv.get(v3[0],Iw);var Iy=Ix[1]=Iv.get(v3[1],Iw);IA=!isNaN(Iz)&&!isNaN(Iy)&&v.dataToPoint(Ix,null,Is)}if(k){IB[Iu++]=IA?IA[0]:NaN;IB[Iu++]=IA?IA[1]:NaN}else{Iv.setItemLayout(Iw,(IA&&IA.slice())||[NaN,NaN])}}k&&Iv.setLayout("symbolPoints",IB)}return v2&&{progress:i}}}};var pR={average:function(v){var k=0;var m=0;for(var e=0;e<v.length;e++){if(!isNaN(v[e])){k+=v[e];m++}}return m===0?NaN:k/m},sum:function(m){var k=0;for(var e=0;e<m.length;e++){k+=m[e]||0}return k},max:function(m){var e=-Infinity;for(var k=0;k<m.length;k++){m[k]>e&&(e=m[k])}return isFinite(e)?e:NaN},min:function(m){var k=Infinity;for(var e=0;e<m.length;e++){m[e]<k&&(k=m[e])}return isFinite(k)?k:NaN},nearest:function(e){return e[0]}};var Eh=function(i,e){return Math.round(i.length/2)};var xv=function(e){return{seriesType:e,modifyOutputEnd:true,reset:function(k,v1,v2){var v=k.getData();var Z=k.get("sampling");var m=k.coordinateSystem;if(m.type==="cartesian2d"&&Z){var i=m.getBaseAxis();var Ir=m.getOtherAxis(i);var Is=i.getExtent();var It=Is[1]-Is[0];var v3=Math.round(v.count()/It);if(v3>1){var Iq;if(typeof Z==="string"){Iq=pR[Z]}else{if(typeof Z==="function"){Iq=Z}}if(Iq){k.setData(v.downSample(v.mapDimension(Ir.dim),1/v3,Iq,Eh))}}}}}};function EA(e){return this._axes[e]}var bS=function(e){this._axes={};this._dimList=[];this.name=e||""};bS.prototype={constructor:bS,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Ej(this._dimList,EA,this)},getAxesByScale:function(e){e=e.toLowerCase();return q7(this.getAxes(),function(i){return i.scale.type===e})},addAxis:function(e){var i=e.dim;this._axes[i]=e;this._dimList.push(i)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(m,v2){var e=this._dimList;var k=m instanceof Array?[]:{};for(var v=0;v<e.length;v++){var v1=e[v];var Z=this._axes[v1];k[v1]=Z[v2](m[v1])}return k}};function Bm(e){bS.call(this,e)}Bm.prototype={constructor:Bm,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var k=this.getAxis("x");var i=this.getAxis("y");return k.contain(k.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(v,e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.toGlobalCoord(m.dataToCoord(v[0]));k[1]=i.toGlobalCoord(i.dataToCoord(v[1]));return k},clampData:function(Z,k){var v=this.getAxis("x").scale;var m=this.getAxis("y").scale;var v2=v.getExtent();var i=m.getExtent();var e=v.parse(Z[0]);var v1=m.parse(Z[1]);k=k||[];k[0]=Math.min(Math.max(Math.min(v2[0],v2[1]),e),Math.max(v2[0],v2[1]));k[1]=Math.min(Math.max(Math.min(i[0],i[1]),v1),Math.max(i[0],i[1]));return k},pointToData:function(e,k){var m=this.getAxis("x");var i=this.getAxis("y");k=k||[];k[0]=m.coordToData(m.toLocalCoord(e[0]));k[1]=i.coordToData(i.toLocalCoord(e[1]));return k},getOtherAxis:function(e){return this.getAxis(e.dim==="x"?"y":"x")}};mt(Bm,bS);var C1=function(m,v,k,i,e){BW.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom"};C1.prototype={constructor:C1,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},getGlobalExtent:function(i){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);i&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null};mt(C1,BW);var BI={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var bH={};bH.categoryAxis=v7({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},BI);bH.valueAxis=v7({boundaryGap:[0,0],splitNumber:5},BI);bH.timeAxis=Di({scale:true,min:"dataMin",max:"dataMax"},bH.valueAxis);bH.logAxis=Di({scale:true,logBase:10},bH.valueAxis);var Ii=["value","category","time","log"];var mT=function(m,e,i,k){pb(Ii,function(v){e.extend({type:m+"Axis."+v,mergeDefaultAndTheme:function(v1,Z){var v3=this.layoutMode;var Iq=v3?g4(v1):{};var v2=Z.getTheme();v7(v1,v2.get(v+"Axis"));v7(v1,this.getDefaultOption());v1.type=i(m,v1);if(v3){hg(v1,Iq,v3)}},optionUpdated:function(){var Z=this.option;if(Z.type==="category"){this.__ordinalMeta=lR.createByAxisModel(this)}},getCategories:function(v1){var Z=this.option;if(Z.type==="category"){if(v1){return Z.data}return this.__ordinalMeta.categories}},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:aa([{},bH[v+"Axis"],k],true)})});aH.registerSubTypeDefaulter(m+"Axis",sy(i,m))};var dh=aH.extend({type:"cartesian2dAxis",axis:null,init:function(){dh.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){dh.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){dh.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function uK(i,e){return e.type||(e.data?"category":"value")}v7(dh.prototype,nD);var aG={offset:0};mT("x",dh,uK,aG);mT("y",dh,uK,aG);aH.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});function zq(i,k,e){return i.getCoordSysModel()===k}function p1(k,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(k,e,i);this.model=k}var ED=p1.prototype;ED.type="grid";ED.axisPointerEnabled=true;ED.getRect=function(){return this._rect};ED.update=function(e,k){var i=this._axesMap;this._updateScale(e,this.model);pb(i.x,function(v){nN(v.scale,v.model)});pb(i.y,function(v){nN(v.scale,v.model)});var m={};pb(i.x,function(v){sx(i,"y",v,m)});pb(i.y,function(v){sx(i,"x",v,m)});this.resize(this.model,k)};function sx(Z,k,i,v1){i.getAxesOnZeroOf=function(){return m?[m]:[]};var v2=Z[k];var m;var Ir=i.model;var v=Ir.get("axisLine.onZero");var e=Ir.get("axisLine.onZeroAxisIndex");if(!v){return}if(e!=null){if(Ht(v2[e])){m=v2[e]}}else{for(var Iq in v2){if(v2.hasOwnProperty(Iq)&&Ht(v2[Iq])&&!v1[v3(v2[Iq])]){m=v2[Iq];break}}}if(m){v1[v3(m)]=true}function v3(Is){return Is.dim+"_"+Is.index}}function Ht(e){return e&&e.type!=="category"&&e.type!=="time"&&Bd(e)}ED.resize=function(v,k,e){var i=kX(v.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()});this._rect=i;var m=this._axesList;Z();if(!e&&v.get("containLabel")){pb(m,function(v2){if(!v2.model.get("axisLabel.inside")){var v1=eC(v2);if(v1){var Iq=v2.isHorizontal()?"height":"width";var v3=v2.model.get("axisLabel.margin");i[Iq]-=v1[Iq]+v3;if(v2.position==="top"){i.y+=v1.height+v3}else{if(v2.position==="left"){i.x+=v1.width+v3}}}}});Z()}function Z(){pb(m,function(v3){var Iq=v3.isHorizontal();var v2=Iq?[0,i.width]:[0,i.height];var v1=v3.inverse?1:0;v3.setExtent(v2[v1],v2[1-v1]);Fn(v3,Iq?i.x:i.y)})}};ED.getAxis=function(e,k){var m=this._axesMap[e];if(m!=null){if(k==null){for(var i in m){if(m.hasOwnProperty(i)){return m[i]}}}return m[k]}};ED.getAxes=function(){return this._axesList.slice()};ED.getCartesian=function(e,Z){if(e!=null&&Z!=null){var v="x"+e+"y"+Z;return this._coordsMap[v]}if(tM(e)){Z=e.yAxisIndex;e=e.xAxisIndex}for(var m=0,k=this._coordsList;m<k.length;m++){if(k[m].getAxis("x").index===e||k[m].getAxis("y").index===Z){return k[m]}}};ED.getCartesians=function(){return this._coordsList.slice()};ED.convertToPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.dataToPoint(i):k.axis?k.axis.toGlobalCoord(k.axis.dataToCoord(i)):null};ED.convertFromPixel=function(e,m,i){var k=this._findConvertTarget(e,m);return k.cartesian?k.cartesian.pointToData(i):k.axis?k.axis.coordToData(k.axis.toLocalCoord(i)):null};ED._findConvertTarget=function(v2,i){var m=i.seriesModel;var v=i.xAxisModel||(m&&m.getReferringComponents("xAxis")[0]);var v3=i.yAxisModel||(m&&m.getReferringComponents("yAxis")[0]);var Iq=i.gridModel;var Z=this._coordsList;var v1;var k;if(m){v1=m.coordinateSystem;eR(Z,v1)<0&&(v1=null)}else{if(v&&v3){v1=this.getCartesian(v.componentIndex,v3.componentIndex)}else{if(v){k=this.getAxis("x",v.componentIndex)}else{if(v3){k=this.getAxis("y",v3.componentIndex)}else{if(Iq){var e=Iq.coordinateSystem;if(e===this){v1=this._coordsList[0]}}}}}}return{cartesian:v1,axis:k}};ED.containPoint=function(e){var i=this._coordsList[0];if(i){return i.containPoint(e)}};ED._initCartesian=function(Z,i,v){var m={left:false,right:false,top:false,bottom:false};var k={x:{},y:{}};var v1={x:0,y:0};i.eachComponent("xAxis",e("x"),this);i.eachComponent("yAxis",e("y"),this);if(!v1.x||!v1.y){this._axesMap={};this._axesList=[];return}this._axesMap=k;pb(k.x,function(v3,v2){pb(k.y,function(Iq,Is){var Ir="x"+v2+"y"+Is;var It=new Bm(Ir);It.grid=this;It.model=Z;this._coordsMap[Ir]=It;this._coordsList.push(It);It.addAxis(v3);It.addAxis(Iq)},this)},this);function e(v2){return function(Is,v3){if(!zq(Is,Z,i)){return}var Ir=Is.get("position");if(v2==="x"){if(Ir!=="top"&&Ir!=="bottom"){Ir="bottom";if(m[Ir]){Ir=Ir==="top"?"bottom":"top"}}}else{if(Ir!=="left"&&Ir!=="right"){Ir="left";if(m[Ir]){Ir=Ir==="left"?"right":"left"}}}m[Ir]=true;var It=new C1(v2,ns(Is),[0,0],Is.get("type"),Ir);var Iq=It.type==="category";It.onBand=Iq&&Is.get("boundaryGap");It.inverse=Is.get("inverse");Is.axis=It;It.model=Is;It.grid=this;It.index=v3;this._axesList.push(It);k[v2][v3]=It;v1[v2]++}}};ED._updateScale=function(e,i){pb(this._axesList,function(m){m.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(v){if(xP(v)){var v2=lq(v,e);var Z=v2[0];var v1=v2[1];if(!zq(Z,i,e)||!zq(v1,i,e)){return}var Ir=this.getCartesian(Z.componentIndex,v1.componentIndex);var Iq=v.getData();var v3=Ir.getAxis("x");var m=Ir.getAxis("y");if(Iq.type==="list"){k(Iq,v3,v);k(Iq,m,v)}}},this);function k(Z,v,m){pb(Z.mapDimension(v.dim,true),function(v1){v.scale.unionExtentFromData(Z,jD(Z,v1))})}};ED.getTooltipAxes=function(i){var k=[];var e=[];pb(this.getCartesians(),function(Z){var v=(i!=null&&i!=="auto")?Z.getAxis(i):Z.getBaseAxis();var m=Z.getOtherAxis(v);eR(k,v)<0&&k.push(v);eR(e,m)<0&&e.push(m)});return{baseAxes:k,otherAxes:e}};function Fn(k,e){var m=k.getExtent();var i=m[0]+m[1];k.toGlobalCoord=k.dim==="x"?function(v){return v+e}:function(v){return i-v+e};k.toLocalCoord=k.dim==="x"?function(v){return v-e}:function(v){return i-v+e}}var p3=["xAxis","yAxis"];function lq(i,e){return Ej(p3,function(k){var m=i.getReferringComponents(k)[0];if(om){if(!m){throw new Error(k+' "'+gw(i.get(k+"Index"),i.get(k+"Id"),0)+'" not found')}}return m})}function xP(e){return e.get("coordinateSystem")==="cartesian2d"}p1.create=function(e,i){var k=[];e.eachComponent("grid",function(Z,m){var v=new p1(Z,e,i);v.name="grid_"+m;v.resize(Z,i,true);Z.coordinateSystem=v;k.push(v)});e.eachSeries(function(m){if(!xP(m)){return}var v3=lq(m,e);var v=v3[0];var v1=v3[1];var v2=v.getCoordSysModel();if(om){if(!v2){throw new Error('Grid "'+gw(v.get("gridIndex"),v.get("gridId"),0)+'" not found')}if(v.getCoordSysModel()!==v1.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var Z=v2.coordinateSystem;m.coordinateSystem=Z.getCartesian(v.componentIndex,v1.componentIndex)});return k};p1.dimensions=p1.prototype.dimensions=Bm.prototype.dimensions;fB.register("cartesian2d",p1);var yI=Math.PI;function v9(e){var i={componentType:e.mainType,componentIndex:e.componentIndex};i[e.mainType+"Index"]=e.componentIndex;return i}var db=function(k,i){this.opt=i;this.axisModel=k;Di(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new Cc();var e=new Cc({position:i.position.slice(),rotation:i.rotation});e.updateTransform();this._transform=e.transform;this._dumbGroup=e};db.prototype={constructor:db,hasBuilder:function(e){return !!wI[e]},add:function(e){wI[e].call(this)},getGroup:function(){return this.group}};var wI={axisLine:function(){var e=this.opt;var v3=this.axisModel;if(!v3.get("axisLine.show")){return}var Is=this.axisModel.axis.getExtent();var v=this._transform;var v2=[Is[0],0];var Z=[Is[1],0];if(v){aY(v2,v2,v);aY(Z,Z,v)}var m=b0({lineCap:"round"},v3.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new zG(dp({anid:"line",shape:{x1:v2[0],y1:v2[1],x2:Z[0],y2:Z[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:true,z2:1})));var Iq=v3.get("axisLine.symbol");var k=v3.get("axisLine.symbolSize");var v1=v3.get("axisLine.symbolOffset")||0;if(typeof v1==="number"){v1=[v1,v1]}if(Iq!=null){if(typeof Iq==="string"){Iq=[Iq,Iq]}if(typeof k==="string"||typeof k==="number"){k=[k,k]}var i=k[0];var Ir=k[1];pb([{rotate:e.rotation+Math.PI/2,offset:v1[0],r:0},{rotate:e.rotation-Math.PI/2,offset:v1[1],r:Math.sqrt((v2[0]-Z[0])*(v2[0]-Z[0])+(v2[1]-Z[1])*(v2[1]-Z[1]))}],function(It,Iu){if(Iq[Iu]!=="none"&&Iq[Iu]!=null){var Iw=uc(Iq[Iu],-i/2,-Ir/2,i,Ir,m.stroke,true);var Iv=It.r+It.offset;var Ix=[v2[0]+Iv*Math.cos(e.rotation),v2[1]-Iv*Math.sin(e.rotation)];Iw.attr({rotation:It.rotate,position:Ix,silent:true});this.group.add(Iw)}},this)}},axisTickLabel:function(){var m=this.axisModel;var k=this.opt;var i=jn(this,m,k);var e=u4(this,m,k);GK(m,e,i)},axisName:function(){var i=this.opt;var Z=this.axisModel;var IC=gw(i.axisName,Z.get("name"));if(!IC){return}var Iu=Z.get("nameLocation");var Iq=i.nameDirection;var v=Z.getModel("nameTextStyle");var Is=Z.get("nameGap")||0;var v2=this.axisModel.axis.getExtent();var v3=v2[0]>v2[1]?-1:1;var k=[Iu==="start"?v2[0]-v3*Is:Iu==="end"?v2[1]+v3*Is:(v2[0]+v2[1])/2,nZ(Iu)?i.labelOffset+Iq*Is:0];var m;var v1=Z.get("nameRotate");if(v1!=null){v1=v1*yI/180}var Ix;if(nZ(Iu)){m=nI(i.rotation,v1!=null?v1:i.rotation,Iq)}else{m=nt(i,Iu,v1||0,v2);Ix=i.axisNameAvailableWidth;if(Ix!=null){Ix=Math.abs(Ix/Math.sin(m.rotation));!isFinite(Ix)&&(Ix=null)}}var Ir=v.getFont();var IB=Z.get("nameTruncate",true)||{};var e=IB.ellipsis;var Iv=gw(i.nameTruncateMaxWidth,IB.maxWidth,Ix);var Iz=(e!=null&&Iv!=null)?he(IC,Iv,Ir,e,{minChar:2,placeholder:IB.placeholder}):IC;var Iy=Z.get("tooltip",true);var Iw=Z.mainType;var IA={componentType:Iw,name:IC,$vars:["name"]};IA[Iw+"Index"]=Z.componentIndex;var It=new iT({anid:"name",__fullText:IC,__truncatedText:Iz,position:k,rotation:m.rotation,silent:a8(Z),z2:1,tooltip:(Iy&&Iy.show)?b0({content:IC,formatter:function(){return IC},formatterParams:IA},Iy):null});pg(It.style,v,{text:Iz,textFont:Ir,textFill:v.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:m.textAlign,textVerticalAlign:m.textVerticalAlign});if(Z.get("triggerEvent")){It.eventData=v9(Z);It.eventData.targetType="axisName";It.eventData.name=IC}this._dumbGroup.add(It);It.updateTransform();this.group.add(It);It.decomposeTransform()}};var nI=db.innerTextLayout=function(Z,i,v){var m=rx(i-Z);var k;var e;if(uP(m)){e=v>0?"top":"bottom";k="center"}else{if(uP(m-yI)){e=v>0?"bottom":"top";k="center"}else{e="middle";if(m>0&&m<yI){k=v>0?"right":"left"}else{k=v>0?"left":"right"}}}return{rotation:m,textAlign:k,textVerticalAlign:e}};function nt(i,v3,v,v2){var m=rx(v-i.rotation);var k;var v1;var Z=v2[0]>v2[1];var e=(v3==="start"&&!Z)||(v3!=="start"&&Z);if(uP(m-yI/2)){v1=e?"bottom":"top";k="center"}else{if(uP(m-yI*1.5)){v1=e?"top":"bottom";k="center"}else{v1="middle";if(m<yI*1.5&&m>yI/2){k=e?"left":"right"}else{k=e?"right":"left"}}}return{rotation:m,textAlign:k,textVerticalAlign:v1}}function a8(i){var e=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||(e&&e.show))}function GK(Ir,Is,e){var It=Ir.get("axisLabel.showMinLabel");var Iq=Ir.get("axisLabel.showMaxLabel");Is=Is||[];e=e||[];var v=Is[0];var v2=Is[1];var v3=Is[Is.length-1];var Z=Is[Is.length-2];var i=e[0];var v1=e[1];var m=e[e.length-1];var k=e[e.length-2];if(It===false){sD(v);sD(i)}else{if(zD(v,v2)){if(It){sD(v2);sD(v1)}else{sD(v);sD(i)}}}if(Iq===false){sD(v3);sD(m)}else{if(zD(Z,v3)){if(Iq){sD(Z);sD(k)}else{sD(v3);sD(m)}}}}function sD(e){e&&(e.ignore=true)}function zD(Z,m,i){var v=Z&&Z.getBoundingRect().clone();var e=m&&m.getBoundingRect().clone();if(!v||!e){return}var k=lP([]);kk(k,k,-Z.rotation);v.applyTransform(l([],k,Z.getLocalTransform()));e.applyTransform(l([],k,m.getLocalTransform()));return v.intersect(e)}function nZ(e){return e==="middle"||e==="center"}function jn(v3,Iv,m){var v1=Iv.axis;if(!Iv.get("axisTick.show")||v1.scale.isBlank()){return}var Iw=Iv.getModel("axisTick");var Iq=Iw.getModel("lineStyle");var Z=Iw.get("length");var Ir=v1.getTicksCoords();var Iu=[];var It=[];var Is=v3._transform;var k=[];for(var v2=0;v2<Ir.length;v2++){var e=Ir[v2].coord;Iu[0]=e;Iu[1]=0;It[0]=e;It[1]=m.tickDirection*Z;if(Is){aY(Iu,Iu,Is);aY(It,It,Is)}var v=new zG(dp({anid:"tick_"+Ir[v2].tickValue,shape:{x1:Iu[0],y1:Iu[1],x2:It[0],y2:It[1]},style:Di(Iq.getLineStyle(),{stroke:Iv.get("axisLine.lineStyle.color")}),z2:2,silent:true}));v3.group.add(v);k.push(v)}return k}function u4(Z,Ir,e){var i=Ir.axis;var v3=gw(e.axisLabelShow,Ir.get("axisLabel.show"));if(!v3||i.scale.isBlank()){return}var Iu=Ir.getModel("axisLabel");var v2=Iu.get("margin");var k=i.getViewLabels();var Is=(gw(e.labelRotate,Iu.get("rotate"))||0)*yI/180;var It=nI(e.rotation,Is,e.labelDirection);var v=Ir.getCategories(true);var Iq=[];var m=a8(Ir);var v1=Ir.get("triggerEvent");pb(k,function(Iw,IA){var Iy=Iw.tickValue;var Iz=Iw.formattedLabel;var Ix=Iw.rawLabel;var IC=Iu;if(v&&v[Iy]&&v[Iy].textStyle){IC=new fx(v[Iy].textStyle,Iu,Ir.ecModel)}var ID=IC.getTextColor()||Ir.get("axisLine.lineStyle.color");var Iv=i.dataToCoord(Iy);var IB=[Iv,e.labelOffset+e.labelDirection*v2];var IE=new iT({anid:"label_"+Iy,position:IB,rotation:It.rotation,silent:m,z2:10});pg(IE.style,IC,{text:Iz,textAlign:IC.getShallow("align",true)||It.textAlign,textVerticalAlign:IC.getShallow("verticalAlign",true)||IC.getShallow("baseline",true)||It.textVerticalAlign,textFill:typeof ID==="function"?ID(i.type==="category"?Ix:i.type==="value"?Iy+"":Iy,IA):ID});if(v1){IE.eventData=v9(Ir);IE.eventData.targetType="axisLabel";IE.eventData.value=Ix}Z._dumbGroup.add(IE);IE.updateTransform();Iq.push(IE);Z.group.add(IE);IE.decomposeTransform()});return Iq}var o3=pb;var up=sy;function il(i,k){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};eU(e,i,k);e.seriesInvolved&&Hq(e,i);return e}function eU(i,e,v){var m=e.getComponent("tooltip");var v1=e.getComponent("axisPointer");var Z=v1.get("link",true)||[];var k=[];o3(v.getCoordinateSystems(),function(It){if(!It.axisPointerEnabled){return}var Iq=GI(It.model);var Ir=i.coordSysAxesInfo[Iq]={};i.coordSysMap[Iq]=It;var Is=It.model;var Iu=Is.getModel("tooltip",m);o3(It.getAxes(),up(v2,false,null));if(It.getTooltipAxes&&m&&Iu.get("show")){var Iw=Iu.get("trigger")==="axis";var Iv=Iu.get("axisPointer.type")==="cross";var v3=It.getTooltipAxes(Iu.get("axisPointer.axis"));if(Iw||Iv){o3(v3.baseAxes,up(v2,Iv?"cross":true,Iw))}if(Iv){o3(v3.otherAxes,up(v2,"cross",false))}}function v2(Iy,IA,Iz){var IE=Iz.model.getModel("axisPointer",v1);var IH=IE.get("show");if(!IH||(IH==="auto"&&!Iy&&!eW(IE))){return}if(IA==null){IA=IE.get("triggerTooltip")}IE=Iy?nB(Iz,Iu,v1,e,Iy,IA):IE;var IB=IE.get("snap");var IG=GI(Iz.model);var ID=IA||IB||Iz.type==="category";var IC=i.axesInfo[IG]={key:IG,axis:Iz,coordSys:It,axisPointerModel:IE,triggerTooltip:IA,involveSeries:ID,snap:IB,useHandle:eW(IE),seriesModels:[]};Ir[IG]=IC;i.seriesInvolved|=ID;var IF=E8(Z,Iz);if(IF!=null){var Ix=k[IF]||(k[IF]={axesInfo:{}});Ix.axesInfo[IG]=IC;Ix.mapper=Z[IF].mapper;IC.linkGroup=Ix}}})}function nB(i,Z,v,v2,e,k){var m=Z.getModel("axisPointer");var v1={};o3(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Is){v1[Is]=C9(m.get(Is))});v1.snap=i.type!=="category"&&!!k;if(m.get("type")==="cross"){v1.type="line"}var Ir=v1.label||(v1.label={});Ir.show==null&&(Ir.show=false);if(e==="cross"){var Iq=m.get("label.show");Ir.show=Iq!=null?Iq:true;if(!k){var v3=v1.lineStyle=m.get("crossStyle");v3&&Di(Ir,v3.textStyle)}}return i.model.getModel("axisPointer",new fx(v1,v,v2))}function Hq(i,e){e.eachSeries(function(k){var v=k.coordinateSystem;var m=k.get("tooltip.trigger",true);var Z=k.get("tooltip.show",true);if(!v||m==="none"||m===false||m==="item"||Z===false||k.get("axisPointer.show",true)===false){return}o3(i.coordSysAxesInfo[GI(v.model)],function(v1){var v2=v1.axis;if(v.getAxis(v2.dim)===v2){v1.seriesModels.push(k);v1.seriesDataCount==null&&(v1.seriesDataCount=0);v1.seriesDataCount+=k.getData().count()}})},this)}function E8(v1,m){var k=m.model;var Z=m.dim;for(var e=0;e<v1.length;e++){var v=v1[e]||{};if(qb(v[Z+"AxisId"],k.id)||qb(v[Z+"AxisIndex"],k.componentIndex)||qb(v[Z+"AxisName"],k.name)){return e}}}function qb(i,e){return i==="all"||(GL(i)&&eR(i,e)>=0)||i===e}function qe(v2){var i=Dy(v2);if(!i){return}var Z=i.axisPointerModel;var e=i.axis.scale;var v=Z.option;var k=Z.get("status");var v1=Z.get("value");if(v1!=null){v1=e.parse(v1)}var m=eW(Z);if(k==null){v.status=m?"show":"hide"}var v3=e.getExtent().slice();v3[0]>v3[1]&&v3.reverse();if(v1==null||v1>v3[1]){v1=v3[1]}if(v1<v3[0]){v1=v3[0]}v.value=v1;if(m){v.status=i.axis.scale.isBlank()?"hide":"show"}}function Dy(e){var i=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[GI(e)]}function sB(i){var e=Dy(i);return e&&e.axisPointerModel}function eW(e){return !!e.get("handle.show")}function GI(e){return e.type+"||"+e.id}var f4=qB({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(i,e,k,m){this.axisPointerClass&&qe(i);f4.superApply(this,"render",arguments);Em(this,i,e,k,m,true)},updateAxisPointer:function(i,e,k,v,m){Em(this,i,e,k,v,false)},remove:function(e,k){var i=this._axisPointer;i&&i.remove(k);f4.superApply(this,"remove",arguments)},dispose:function(e,i){l6(this,i);f4.superApply(this,"dispose",arguments)}});function Em(v,i,e,k,Z,v2){var v1=f4.getAxisPointerClass(v.axisPointerClass);if(!v1){return}var m=sB(i);m?(v._axisPointer||(v._axisPointer=new v1())).render(i,m,k,v2):l6(v,k)}function l6(m,e,k){var i=m._axisPointer;i&&i.dispose(e,k);m._axisPointer=null}var Bv=[];f4.registerAxisPointerClass=function(i,e){if(om){if(Bv[i]){throw new Error("axisPointer "+i+" exists")}}Bv[i]=e};f4.getAxisPointerClass=function(e){return e&&Bv[e]};function ej(Iq,Ir,k){k=k||{};var i=Iq.coordinateSystem;var v=Ir.axis;var Iy={};var v3=v.getAxesOnZeroOf()[0];var e=v.position;var Is=v3?"onZero":e;var Iu=v.dim;var m=i.getRect();var It=[m.x,m.x+m.width,m.y,m.y+m.height];var Iv={left:0,right:1,top:0,bottom:1,onZero:2};var Z=Ir.get("offset")||0;var Iw=Iu==="x"?[It[2]-Z,It[3]+Z]:[It[0]-Z,It[1]+Z];if(v3){var v2=v3.toGlobalCoord(v3.dataToCoord(0));Iw[Iv.onZero]=Math.max(Math.min(v2,Iw[1]),Iw[0])}Iy.position=[Iu==="y"?Iw[Iv[Is]]:It[0],Iu==="x"?Iw[Iv[Is]]:It[3]];Iy.rotation=Math.PI/2*(Iu==="x"?0:1);var v1={top:-1,bottom:1,left:-1,right:1};Iy.labelDirection=Iy.tickDirection=Iy.nameDirection=v1[e];Iy.labelOffset=v3?Iw[Iv[e]]-Iw[Iv.onZero]:0;if(Ir.get("axisTick.inside")){Iy.tickDirection=-Iy.tickDirection}if(gw(k.labelInside,Ir.get("axisLabel.inside"))){Iy.labelDirection=-Iy.labelDirection}var Ix=Ir.get("axisLabel.rotate");Iy.labelRotate=Is==="top"?-Ix:Ix;Iy.z2=1;return Iy}var Gd=["axisLine","axisTickLabel","axisName"];var jG=["splitArea","splitLine"];var oj=f4.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(i,e,m,v2){this.group.removeAll();var k=this._axisGroup;this._axisGroup=new Cc();this.group.add(this._axisGroup);if(!i.get("show")){return}var Z=i.getCoordSysModel();var v=ej(Z,i);var v1=new db(i,v);pb(Gd,v1.add,v1);this._axisGroup.add(v1.getGroup());pb(jG,function(v3){if(i.get(v3+".show")){this["_"+v3](i,Z)}},this);E(k,this._axisGroup,i);oj.superCall(this,"render",i,e,m,v2)},remove:function(){this._splitAreaColors=null},_splitLine:function(Iu,Ix){var v=Iu.axis;if(v.scale.isBlank()){return}var m=Iu.getModel("splitLine");var Iq=m.getModel("lineStyle");var Iy=Iq.get("color");Iy=GL(Iy)?Iy:[Iy];var e=Ix.coordinateSystem.getRect();var Ir=v.isHorizontal();var Iw=0;var v3=v.getTicksCoords({tickModel:m});var Iv=[];var It=[];var v2=Iq.getLineStyle();for(var v1=0;v1<v3.length;v1++){var k=v.toGlobalCoord(v3[v1].coord);if(Ir){Iv[0]=k;Iv[1]=e.y;It[0]=k;It[1]=e.y+e.height}else{Iv[0]=e.x;Iv[1]=k;It[0]=e.x+e.width;It[1]=k}var Is=(Iw++)%Iy.length;var Z=v3[v1].tickValue;this._axisGroup.add(new zG(dp({anid:Z!=null?"line_"+v3[v1].tickValue:null,shape:{x1:Iv[0],y1:Iv[1],x2:It[0],y2:It[1]},style:Di({stroke:Iy[Is]},v2),silent:true})))}},_splitArea:function(v1,Z){var k=v1.axis;if(k.scale.isBlank()){return}var Iz=v1.getModel("splitArea");var Iu=Iz.getModel("areaStyle");var e=Iu.get("color");var IC=Z.coordinateSystem.getRect();var It=k.getTicksCoords({tickModel:Iz,clamp:true});if(!It.length){return}var v=e.length;var IB=this._splitAreaColors;var ID=CN();var m=0;if(IB){for(var IA=0;IA<It.length;IA++){var Iy=IB.get(It[IA].tickValue);if(Iy!=null){m=(Iy+(v-1)*IA)%v;break}}}var Iw=k.toGlobalCoord(It[0].coord);var Is=Iu.getAreaStyle();e=GL(e)?e:[e];for(var IA=1;IA<It.length;IA++){var Iq=k.toGlobalCoord(It[IA].coord);var Ir;var v3;var Ix;var Iv;if(k.isHorizontal()){Ir=Iw;v3=IC.y;Ix=Iq-Ir;Iv=IC.height;Iw=Ir+Ix}else{Ir=IC.x;v3=Iw;Ix=IC.width;Iv=Iq-v3;Iw=v3+Iv}var v2=It[IA-1].tickValue;v2!=null&&ID.set(v2,m);this._axisGroup.add(new EL({anid:v2!=null?"area_"+v2:null,shape:{x:Ir,y:v3,width:Ix,height:Iv},style:Di({fill:e[m]},Is),silent:true}));m=(m+1)%v}this._splitAreaColors=ID}});oj.extend({type:"xAxis"});oj.extend({type:"yAxis"});qB({type:"grid",render:function(i,e){this.group.removeAll();if(i.get("show")){this.group.add(new EL({shape:i.coordinateSystem.getRect(),style:Di({fill:i.get("backgroundColor")},i.getItemStyle()),silent:true,z2:-1}))}}});y6(function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}});G(mn("line","circle","line"));pu(qD("line"));ec(Ca.PROCESSOR.STATISTIC,xv("line"));var wP=nW.extend({type:"series.__base_bar__",getInitialData:function(i,e){return a(this.getSource(),this)},getMarkerPosition:function(v){var k=this.coordinateSystem;if(k){var Z=k.dataToPoint(k.clampData(v));var m=this.getData();var v1=m.getLayout("offset");var i=m.getLayout("size");var e=k.getBaseAxis().isHorizontal()?0:1;Z[e]+=v1+i/2;return Z}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3000,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});wP.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):false},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold");var i=this.get("largeThreshold");if(i>e){e=i}return e}});function EP(e,i,v2,m,k,Z,v1){var v3=v2.getModel("label");var v=v2.getModel("emphasis.label");BH(e,i,v3,v,{labelFetcher:k,labelDataIndex:Z,defaultText:dY(k.getData(),Z),isRectText:true,autoColor:m});my(e);my(i)}function my(i,e){if(i.textPosition==="outside"){i.textPosition=e}}var xF=yS([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var HA={getBarItemStyle:function(k){var i=xF(this,k);if(this.getBorderLineDash){var e=this.getBorderLineDash();e&&(i.lineDash=e)}return i}};var Av=["itemStyle","barBorderWidth"];b0(fx.prototype,HA);BP({type:"bar",render:function(i,e,k){this._updateDrawMode(i);var m=i.get("coordinateSystem");if(m==="cartesian2d"||m==="polar"){this._isLargeDraw?this._renderLarge(i,e,k):this._renderNormal(i,e,k)}else{if(om){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},incrementalPrepareRender:function(i,e,k){this._clear();this._updateDrawMode(i)},incrementalRender:function(m,i,e,k){this._incrementalRenderLarge(m,i)},_updateDrawMode:function(i){var e=i.pipelineContext.large;if(this._isLargeDraw==null||e^this._isLargeDraw){this._isLargeDraw=e;this._clear()}},_renderNormal:function(i,Z,v2){var v3=this.group;var k=i.getData();var m=this._data;var v1=i.coordinateSystem;var e=v1.getBaseAxis();var Iq;if(v1.type==="cartesian2d"){Iq=e.isHorizontal()}else{if(v1.type==="polar"){Iq=e.dim==="angle"}}var v=i.isAnimationEnabled()?i:null;k.diff(m).add(function(Ir){if(!k.hasValue(Ir)){return}var It=k.getItemModel(Ir);var Iu=k0[v1.type](k,Ir,It);var Is=aq[v1.type](k,Ir,It,Iu,Iq,v);k.setItemGraphicEl(Ir,Is);v3.add(Is);Bw(Is,k,Ir,It,Iu,i,Iq,v1.type==="polar")}).update(function(Ir,Iv){var It=m.getItemGraphicEl(Iv);if(!k.hasValue(Ir)){v3.remove(It);return}var Is=k.getItemModel(Ir);var Iu=k0[v1.type](k,Ir,Is);if(It){oU(It,{shape:Iu},v,Ir)}else{It=aq[v1.type](k,Ir,Is,Iu,Iq,v,true)}k.setItemGraphicEl(Ir,It);v3.add(It);Bw(It,k,Ir,Is,Iu,i,Iq,v1.type==="polar")}).remove(function(Ir){var Is=m.getItemGraphicEl(Ir);if(v1.type==="cartesian2d"){Is&&rp(Ir,v,Is)}else{Is&&ua(Ir,v,Is)}}).execute();this._data=k},_renderLarge:function(i,e,k){this._clear();HC(i,this.group)},_incrementalRenderLarge:function(i,e){HC(e,this.group,true)},dispose:V,remove:function(e){this._clear(e)},_clear:function(e){var k=this.group;var i=this._data;if(e&&e.get("animation")&&i&&!this._isLargeDraw){i.eachItemGraphicEl(function(m){if(m.type==="sector"){ua(m.dataIndex,e,m)}else{rp(m.dataIndex,e,m)}})}else{k.removeAll()}this._data=null}});var aq={cartesian2d:function(i,v2,Iq,k,v1,m,Ir){var Z=new EL({shape:b0({},k)});if(m){var v3=Z.shape;var v=v1?"height":"width";var e={};v3[v]=0;e[v]=k[v];yj[Ir?"updateProps":"initProps"](Z,{shape:e},m,v2)}return Z},polar:function(v,v3,Ir,Z,m,v1,Is){var e=Z.startAngle<Z.endAngle;var k=new tA({shape:Di({clockwise:e},Z)});if(v1){var Iq=k.shape;var v2=m?"r":"endAngle";var i={};Iq[v2]=m?0:Z.startAngle;i[v2]=Z[v2];yj[Is?"updateProps":"initProps"](k,{shape:i},v1,v3)}return k}};function rp(i,e,k){k.style.text=null;oU(k,{shape:{width:0}},e,i,function(){k.parent&&k.parent.remove(k)})}function ua(i,e,k){k.style.text=null;oU(k,{shape:{r:k.shape.r0}},e,i,function(){k.parent&&k.parent.remove(k)})}var k0={cartesian2d:function(Z,e,k){var v=Z.getItemLayout(e);var v1=vv(k,v);var m=v.width>0?1:-1;var i=v.height>0?1:-1;return{x:v.x+m*v1/2,y:v.y+i*v1/2,width:v.width-m*v1,height:v.height-i*v1}},polar:function(m,e,i){var k=m.getItemLayout(e);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function Bw(e,Z,Ir,It,v1,k,Iq,Iu){var m=Z.getItemVisual(Ir,"color");var v2=Z.getItemVisual(Ir,"opacity");var v=It.getModel("itemStyle");var i=It.getModel("emphasis.itemStyle").getBarItemStyle();if(!Iu){e.setShape("r",v.get("barBorderRadius")||0)}e.useStyle(Di({fill:m,opacity:v2},v.getBarItemStyle()));var Is=It.getShallow("cursor");Is&&e.attr("cursor",Is);var v3=Iq?(v1.height>0?"bottom":"top"):(v1.width>0?"left":"right");if(!Iu){EP(e.style,i,It,m,k,Ir,v3)}yr(e,i)}function vv(i,k){var e=i.get(Av)||0;return Math.min(e,Math.abs(k.width),Math.abs(k.height))}var ai=mo.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,m){var Z=m.points;var v1=this.__startPoint;var k=this.__valueIdx;for(var v=0;v<Z.length;v+=2){v1[this.__valueIdx]=Z[v+k];e.moveTo(v1[0],v1[1]);e.lineTo(Z[v],Z[v+1])}}});function HC(i,v1,Z){var v=i.getData();var m=[];var e=v.getLayout("valueAxisHorizontal")?1:0;m[1-e]=v.getLayout("valueAxisStart");var k=new ai({shape:{points:v.getLayout("largePoints")},incremental:!!Z,__startPoint:m,__valueIdx:e});v1.add(k);Gm(k,i,v)}function Gm(i,e,m){var v=m.getVisual("borderColor")||m.getVisual("color");var k=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);i.useStyle(k);i.style.fill=null;i.style.stroke=v;i.style.lineWidth=m.getLayout("barWidth")}pu(sy(bA,"bar"));pu(Hu);G({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var xl=function(e,i,Z){i=GL(i)&&{coordDimensions:i}||b0({},i);var v=e.getSource();var k=yA(v,i);var m=new xw(k,e);m.initData(v,Z);return m};var EY={updateSelectedMap:function(e){this._targetList=GL(e)?e.slice():[];this._selectTargetMap=xf(e||[],function(i,k){i.set(k.name,k);return i},CN())},select:function(e,m){var i=m!=null?this._targetList[m]:this._selectTargetMap.get(e);var k=this.get("selectedMode");if(k==="single"){this._selectTargetMap.each(function(v){v.selected=false})}i&&(i.selected=true)},unSelect:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);i&&(i.selected=false)},toggleSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);if(i!=null){this[i.selected?"unSelect":"select"](e,k);return i.selected}},isSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);return i&&i.selected}};var za=B7({type:"series.pie",init:function(e){za.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(e)},mergeOption:function(e){za.superCall(this,"mergeOption",e);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(i,e){return xl(this,["value"])},_createSelectableList:function(){var m=this.getRawData();var Z=m.mapDimension("value");var v=[];for(var k=0,e=m.count();k<e;k++){v.push({name:m.getName(k),value:m.get(Z,k),selected:GE(m,k,"selected")})}return v},getDataParams:function(i){var k=this.getData();var m=za.superCall(this,"getDataParams",i);var e=[];k.each(k.mapDimension("value"),function(v){e.push(v)});m.percent=au(e,i,k.hostModel.get("percentPrecision"));m.$vars.push("percent");return m},_defaultLabelLine:function(i){DE(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,label:{rotate:false,show:true,position:"outer"},labelLine:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});Gu(za,EY);function wR(m,e,Z,v){var v1=e.getData();var k=this.dataIndex;var i=v1.getName(k);var v2=e.get("selectedOffset");v.dispatchAction({type:"pieToggleSelect",from:m,name:i,seriesId:e.id});v1.each(function(v3){BX(v1.getItemGraphicEl(v3),v1.getItemLayout(v3),e.isSelected(v1.getName(v3)),v2,Z)})}function BX(i,v1,e,m,v2){var k=(v1.startAngle+v1.endAngle)/2;var Iq=Math.cos(k);var v3=Math.sin(k);var v=e?m:0;var Z=[Iq*v,v3*v];v2?i.animate().when(200,{position:Z}).start("bounceOut"):i.attr("position",Z)}function Ig(Z,k){Cc.call(this);var v=new tA({z2:2});var m=new Ac();var v1=new iT();this.add(v);this.add(m);this.add(v1);this.updateData(Z,k,true);function i(){m.ignore=m.hoverIgnore;v1.ignore=v1.hoverIgnore}function e(){m.ignore=m.normalIgnore;v1.ignore=v1.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var oy=Ig.prototype;oy.updateData=function(v,v3,v2){var i=this.childAt(0);var k=v.hostModel;var It=v.getItemModel(v3);var v1=v.getItemLayout(v3);var Ir=b0({},v1);Ir.label=null;if(v2){i.setShape(Ir);var e=k.getShallow("animationType");if(e==="scale"){i.shape.r=v1.r0;jE(i,{shape:{r:v1.r}},k,v3)}else{i.shape.endAngle=v1.startAngle;oU(i,{shape:{endAngle:v1.endAngle}},k,v3)}}else{oU(i,{shape:Ir},k,v3)}var Iq=v.getItemVisual(v3,"color");i.useStyle(Di({lineJoin:"bevel",fill:Iq},It.getModel("itemStyle").getItemStyle()));i.hoverStyle=It.getModel("emphasis.itemStyle").getItemStyle();var Is=It.getShallow("cursor");Is&&i.attr("cursor",Is);BX(this,v.getItemLayout(v3),k.isSelected(null,v3),k.get("selectedOffset"),k.get("animation"));function m(){i.stopAnimation(true);i.animateTo({shape:{r:v1.r+k.get("hoverOffset")}},300,"elasticOut")}function Z(){i.stopAnimation(true);i.animateTo({shape:{r:v1.r}},300,"elasticOut")}i.off("mouseover").off("mouseout").off("emphasis").off("normal");if(It.get("hoverAnimation")&&k.isAnimationEnabled()){i.on("mouseover",m).on("mouseout",Z).on("emphasis",m).on("normal",Z)}this._updateLabel(v,v3);yr(this)};oy._updateLabel=function(v1,Iq){var Z=this.childAt(1);var k=this.childAt(2);var m=v1.hostModel;var Is=v1.getItemModel(Iq);var v3=v1.getItemLayout(Iq);var Iu=v3.label;var Ir=v1.getItemVisual(Iq,"color");oU(Z,{shape:{points:Iu.linePoints||[[Iu.x,Iu.y],[Iu.x,Iu.y],[Iu.x,Iu.y]]}},m,Iq);oU(k,{style:{x:Iu.x,y:Iu.y}},m,Iq);k.attr({rotation:Iu.rotation,origin:[Iu.x,Iu.y],z2:10});var It=Is.getModel("label");var v2=Is.getModel("emphasis.label");var v=Is.getModel("labelLine");var i=Is.getModel("emphasis.labelLine");var Ir=v1.getItemVisual(Iq,"color");BH(k.style,k.hoverStyle={},It,v2,{labelFetcher:v1.hostModel,labelDataIndex:Iq,defaultText:v1.getName(Iq),autoColor:Ir,useInsideStyle:!!Iu.inside},{textAlign:Iu.textAlign,textVerticalAlign:Iu.verticalAlign,opacity:v1.getItemVisual(Iq,"opacity")});k.ignore=k.normalIgnore=!It.get("show");k.hoverIgnore=!v2.get("show");Z.ignore=Z.normalIgnore=!v.get("show");Z.hoverIgnore=!i.get("show");Z.setStyle({stroke:Ir,opacity:v1.getItemVisual(Iq,"opacity")});Z.setStyle(v.getModel("lineStyle").getLineStyle());Z.hoverStyle=i.getModel("lineStyle").getLineStyle();var e=v.get("smooth");if(e&&e===true){e=0.4}Z.setShape({smooth:e})};mt(Ig,Cc);var C3=dG.extend({type:"pie",init:function(){var e=new Cc();this._sectorGroup=e},render:function(m,v1,v3,Is){if(Is&&(Is.from===this.uid)){return}var v=m.getData();var Z=this._data;var Iu=this.group;var v2=v1.get("animation");var Iv=!Z;var k=m.get("animationType");var i=sy(wR,this.uid,m,v2,v3);var Ir=m.get("selectedMode");v.diff(Z).add(function(Iw){var Ix=new Ig(v,Iw);if(Iv&&k!=="scale"){Ix.eachChild(function(Iy){Iy.stopAnimation(true)})}Ir&&Ix.on("click",i);v.setItemGraphicEl(Iw,Ix);Iu.add(Ix)}).update(function(Iy,Ix){var Iw=Z.getItemGraphicEl(Ix);Iw.updateData(v,Iy);Iw.off("click");Ir&&Iw.on("click",i);Iu.add(Iw);v.setItemGraphicEl(Iy,Iw)}).remove(function(Iw){var Ix=Z.getItemGraphicEl(Iw);Iu.remove(Ix)}).execute();if(v2&&Iv&&v.count()>0&&k!=="scale"){var Iq=v.getItemLayout(0);var e=Math.max(v3.getWidth(),v3.getHeight())/2;var It=ko(Iu.removeClipPath,Iu);Iu.setClipPath(this._createClipPath(Iq.cx,Iq.cy,e,Iq.startAngle,Iq.clockwise,It,m))}else{Iu.removeClipPath()}this._data=v},dispose:function(){},_createClipPath:function(i,v2,v1,v,m,e,k){var Z=new tA({shape:{cx:i,cy:v2,r0:0,r:v1,startAngle:v,endAngle:v,clockwise:m}});jE(Z,{shape:{endAngle:v+(m?1:-1)*Math.PI*2}},k,e);return Z},containPoint:function(i,v){var v1=v.getData();var Z=v1.getItemLayout(0);if(Z){var m=i[0]-Z.cx;var k=i[1]-Z.cy;var e=Math.sqrt(m*m+k*k);return e<=Z.r&&e>=Z.r0}}});var e1=function(e,i){pb(i,function(k){k.update="updateView";b1(k,function(Z,m){var v={};m.eachComponent({mainType:"series",subType:e,query:Z},function(v1){if(v1[k.method]){v1[k.method](Z.name,Z.dataIndex)}var v2=v1.getData();v2.each(function(v3){var Iq=v2.getName(v3);v[Iq]=v1.isSelected(Iq)||false})});return{name:Z.name,selected:v}})})};var eP=function(e){return{getTargetSeries:function(i){var m={};var k=CN();i.eachSeriesByType(e,function(v){v.__paletteScope=m;k.set(v.uid,v)});return k},reset:function(k,i){var Z=k.getRawData();var v={};var m=k.getData();m.each(function(v1){var v2=m.getRawIndex(v1);v[v2]=v1});Z.each(function(Ir){var v2=v[Ir];var v3=v2!=null&&m.getItemVisual(v2,"color",true);if(!v3){var Iq=Z.getItemModel(Ir);var v1=Iq.get("itemStyle.color")||k.getColorFromPalette(Z.getName(Ir)||(Ir+""),k.__paletteScope,Z.count());Z.setItemVisual(Ir,"color",v1);if(v2!=null){m.setItemVisual(v2,"color",v1)}}else{Z.setItemVisual(Ir,"color",v3)}})}}};function lT(Iv,Iq,v3,e,v1,Is,v2){Iv.sort(function(Iy,i){return Iy.y-i.y});function It(IB,i,IA,Iz){for(var Iy=IB;Iy<i;Iy++){Iv[Iy].y+=IA;if(Iy>IB&&Iy+1<i&&Iv[Iy+1].y>Iv[Iy].y+Iv[Iy].height){Z(Iy,IA/2);return}}Z(i-1,IA/2)}function Z(i,Iz){for(var Iy=i;Iy>=0;Iy--){Iv[Iy].y-=Iz;if(Iy>0&&Iv[Iy].y>Iv[Iy-1].y+Iv[Iy-1].height){break}}}function Ix(IJ,IK,IG,IE,Iy,IC){var Iz=IC>0?IK?Number.MAX_VALUE:0:IK?Number.MAX_VALUE:0;for(var II=0,ID=IJ.length;II<ID;II++){if(IJ[II].position==="center"){continue}var IF=Math.abs(IJ[II].y-IE);var IB=IJ[II].len;var IA=IJ[II].len2;var IH=(IF<Iy+IB)?Math.sqrt((Iy+IB+IA)*(Iy+IB+IA)-IF*IF):Math.abs(IJ[II].x-IG);if(IK&&IH>=Iz){IH=Iz-10}if(!IK&&IH<=Iz){IH=Iz+10}IJ[II].x=IG+IH*IC;Iz=IH}}var m=0;var Iw;var Iu=Iv.length;var k=[];var v=[];for(var Ir=0;Ir<Iu;Ir++){Iw=Iv[Ir].y-m;if(Iw<0){It(Ir,Iu,-Iw,v1)}m=Iv[Ir].y+Iv[Ir].height}if(v2-m<0){Z(Iu-1,m-v2)}for(var Ir=0;Ir<Iu;Ir++){if(Iv[Ir].y>=v3){v.push(Iv[Ir])}else{k.push(Iv[Ir])}}Ix(k,false,Iq,v3,e,v1);Ix(v,true,Iq,v3,e,v1)}function hh(Iq,Z,v,e,v3,m){var v2=[];var k=[];for(var v1=0;v1<Iq.length;v1++){if(Iq[v1].x<Z){v2.push(Iq[v1])}else{k.push(Iq[v1])}}lT(k,Z,v,e,1,v3,m);lT(v2,Z,v,e,-1,v3,m);for(var v1=0;v1<Iq.length;v1++){var Is=Iq[v1].linePoints;if(Is){var Ir=Is[1][0]-Is[2][0];if(Iq[v1].x<Z){Is[2][0]=Iq[v1].x+3}else{Is[2][0]=Iq[v1].x-3}Is[1][1]=Is[2][1]=Iq[v1].y;Is[1][0]=Is[2][0]+Ir}}}var F1=function(m,e,v1,i){var Z=m.getData();var v2=[];var v;var k;var v3=false;Z.each(function(IG){var IP=Z.getItemLayout(IG);var IL=Z.getItemModel(IG);var IA=IL.getModel("label");var Iq=IA.get("position")||IL.get("emphasis.label.position");var IJ=IL.getModel("labelLine");var Iz=IJ.get("length");var It=IJ.get("length2");var IB=(IP.startAngle+IP.endAngle)/2;var ID=Math.cos(IB);var IC=Math.sin(IB);var II;var IH;var Iy;var Iw;v=IP.cx;k=IP.cy;var Ix=Iq==="inside"||Iq==="inner";if(Iq==="center"){II=IP.cx;IH=IP.cy;Iw="center"}else{var IO=(Ix?(IP.r+IP.r0)/2*ID:IP.r*ID)+v;var Iv=(Ix?(IP.r+IP.r0)/2*IC:IP.r*IC)+k;II=IO+ID*3;IH=Iv+IC*3;if(!Ix){var IN=IO+ID*(Iz+e-IP.r);var Iu=Iv+IC*(Iz+e-IP.r);var IM=IN+((ID<0?-1:1)*It);var Is=Iu;II=IM+(ID<0?-5:5);IH=Is;Iy=[[IO,Iv],[IN,Iu],[IM,Is]]}Iw=Ix?"center":(ID>0?"left":"right")}var IF=IA.getFont();var IK=IA.get("rotate")?(ID<0?-IB+Math.PI:-IB):0;var IE=m.getFormattedLabel(IG,"normal")||Z.getName(IG);var Ir=Gv(IE,IF,Iw,"top");v3=!!IK;IP.label={x:II,y:IH,position:Iq,height:Ir.height,len:Iz,len2:It,linePoints:Iy,textAlign:Iw,verticalAlign:"middle",rotation:IK,inside:Ix};if(!Ix){v2.push(IP.label)}});if(!v3&&m.get("avoidLabelOverlap")){hh(v2,v,k,e,v1,i)}};var G5=Math.PI*2;var xH=Math.PI/180;var bd=function(i,e,k,m){e.eachSeriesByType(i,function(IA){var IK=IA.getData();var v3=IK.mapDimension("value");var IJ=IA.get("center");var Iq=IA.get("radius");if(!GL(Iq)){Iq=[0,Iq]}if(!GL(IJ)){IJ=[IJ,IJ]}var ID=k.getWidth();var Iw=k.getHeight();var Iv=Math.min(ID,Iw);var v1=zS(IJ[0],ID);var Z=zS(IJ[1],Iw);var IG=zS(Iq[0],Iv/2);var Iu=zS(Iq[1],Iv/2);var IF=-IA.get("startAngle")*xH;var IE=IA.get("minAngle")*xH;var Iz=0;IK.each(v3,function(IL){!isNaN(IL)&&Iz++});var v=IK.getSum(v3);var Iy=Math.PI/(v||Iz)*2;var IH=IA.get("clockwise");var IC=IA.get("roseType");var Ir=IA.get("stillShowZeroSum");var Is=IK.getDataExtent(v3);Is[0]=0;var IB=G5;var v2=0;var It=IF;var Ix=IH?1:-1;IK.each(v3,function(IN,IL){var IO;if(isNaN(IN)){IK.setItemLayout(IL,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:IH,cx:v1,cy:Z,r0:IG,r:IC?NaN:Iu});return}if(IC!=="area"){IO=(v===0&&Ir)?Iy:(IN*Iy)}else{IO=G5/Iz}if(IO<IE){IO=IE;IB-=IE}else{v2+=IN}var IM=It+Ix*IO;IK.setItemLayout(IL,{angle:IO,startAngle:It,endAngle:IM,clockwise:IH,cx:v1,cy:Z,r0:IG,r:IC?EU(IN,Is,[IG,Iu]):Iu});It=IM});if(IB<G5&&Iz){if(IB<=0.001){var II=G5/Iz;IK.each(v3,function(IN,IL){if(!isNaN(IN)){var IM=IK.getItemLayout(IL);IM.angle=II;IM.startAngle=IF+Ix*IL*II;IM.endAngle=IF+Ix*(IL+1)*II}})}else{Iy=IB/v2;It=IF;IK.each(v3,function(IN,IL){if(!isNaN(IN)){var IM=IK.getItemLayout(IL);var IO=IM.angle===IE?IE:IN*Iy;IM.startAngle=It;IM.endAngle=It+Ix*IO;It+=Ix*IO}})}}F1(IA,Iu,ID,Iw)})};var Eb=function(e){return{seriesType:e,reset:function(m,i){var k=i.findComponents({mainType:"legend"});if(!k||!k.length){return}var v=m.getData();v.filterSelf(function(Z){var v1=v.getName(Z);for(var v2=0;v2<k.length;v2++){if(!k[v2].isSelected(v1)){return false}}return true})}}};e1("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);G(eP("pie"));pu(sy(bd,"pie"));ec(Eb("pie"));nW.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(i,e){return a(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?5000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?10000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{opacity:0.8}}});var fL=4;var jk=HD({shape:{points:null},symbolProxy:null,buildPath:function(Ir,k){var v1=k.points;var Is=k.size;var v2=this.symbolProxy;var Z=v2.shape;var Iq=Ir.getContext?Ir.getContext():Ir;var v3=Iq&&Is[0]<fL;if(v3){return}for(var e=0;e<v1.length;){var v=v1[e++];var m=v1[e++];if(isNaN(v)||isNaN(m)){continue}Z.x=v-Is[0]/2;Z.y=m-Is[1]/2;Z.width=Is[0];Z.height=Is[1];v2.buildPath(Ir,Z,true)}},afterBrush:function(k){var m=this.shape;var v2=m.points;var v1=m.size;var v=v1[0]<fL;if(!v){return}this.setTransform(k);for(var Z=0;Z<v2.length;){var e=v2[Z++];var v3=v2[Z++];if(isNaN(e)||isNaN(v3)){continue}k.fillRect(e-v1[0]/2,v3-v1[1]/2,v1[0],v1[1])}this.restoreTransform(k)},findDataIndex:function(v1,Z){var v=this.shape;var Ir=v.points;var Is=v.size;var v3=Math.max(Is[0],4);var m=Math.max(Is[1],4);for(var Iq=Ir.length/2-1;Iq>=0;Iq--){var k=Iq*2;var e=Ir[k]-v3/2;var v2=Ir[k+1]-m/2;if(v1>=e&&Z>=v2&&v1<=e+v3&&Z<=v2+m){return Iq}}return -1}});function s4(){this.group=new Cc()}var p0=s4.prototype;p0.isPersistent=function(){return !this._incremental};p0.updateData=function(e){this.group.removeAll();var i=new jk({rectHover:true,cursor:"default"});i.setShape({points:e.getLayout("symbolPoints")});this._setCommon(i,e);this.group.add(i);this._incremental=null};p0.updateLayout=function(i){if(this._incremental){return}var e=i.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var k=(v.endIndex-v.startIndex)*2;var m=v.startIndex*4*2;e=new Float32Array(e.buffer,m,k)}v.setShape("points",e)})};p0.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>2000000){if(!this._incremental){this._incremental=new zQ({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};p0.incrementalUpdate=function(i,e){var k;if(this._incremental){k=new jk();this._incremental.addDisplayable(k,true)}else{k=new jk({rectHover:true,cursor:"default",startIndex:i.start,endIndex:i.end});k.incremental=true;this.group.add(k)}k.setShape({points:e.getLayout("symbolPoints")});this._setCommon(k,e,!!this._incremental)};p0._setCommon=function(v1,v,i){var Z=v.hostModel;var m=v.getVisual("symbolSize");v1.setShape("size",(m instanceof Array)?m:[m,m]);v1.symbolProxy=uc(v.getVisual("symbol"),0,0,0,0);v1.setColor=v1.symbolProxy.setColor;var e=v1.shape.size[0]<fL;v1.useStyle(Z.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));var k=v.getVisual("color");if(k){v1.setColor(k)}if(!i){v1.seriesIndex=Z.seriesIndex;v1.on("mousemove",function(v3){v1.dataIndex=null;var v2=v1.findDataIndex(v3.offsetX,v3.offsetY);if(v2>=0){v1.dataIndex=v2+(v1.startIndex||0)}})}};p0.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};p0._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};BP({type:"scatter",render:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.updateData(v);this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateSymbolDraw(v,i);k.incrementalPrepareUpdate(v);this._finished=false},incrementalRender:function(k,i,e){this._symbolDraw.incrementalUpdate(k,i.getData());this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();if(!this._finished||v.count()>10000||!this._symbolDraw.isPersistent()){return{update:true}}else{var k=qD().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)}},_updateSymbolDraw:function(v,i){var k=this._symbolDraw;var m=i.pipelineContext;var e=m.large;if(!k||e!==this._isLargeDraw){k&&k.remove();k=this._symbolDraw=e?new s4():new Fd();this._isLargeDraw=e;this.group.removeAll()}this.group.add(k.group);return k},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null},dispose:function(){}});G(mn("scatter","circle"));pu(qD("scatter"));function sI(i,k,e){BW.call(this,i,k,e);this.type="value";this.angle=0;this.name="";this.model}mt(sI,BW);function nJ(k,e,i){this._model=k;this.dimensions=[];this._indicatorAxes=Ej(k.getIndicatorModels(),function(Z,m){var v1="indicator_"+m;var v=new sI(v1,new CD());v.name=Z.get("name");v.model=Z;Z.axis=v;this.dimensions.push(v1);return v},this);this.resize(k,i);this.cx;this.cy;this.r;this.r0;this.startAngle}nJ.prototype.getIndicatorAxes=function(){return this._indicatorAxes};nJ.prototype.dataToPoint=function(k,i){var e=this._indicatorAxes[i];return this.coordToPoint(e.dataToCoord(k),i)};nJ.prototype.coordToPoint=function(Z,k){var i=this._indicatorAxes[k];var m=i.angle;var e=this.cx+Z*Math.cos(m);var v=this.cy-Z*Math.sin(m);return[e,v]};nJ.prototype.pointToData=function(Ir){var Is=Ir[0]-this.cx;var Iq=Ir[1]-this.cy;var Z=Math.sqrt(Is*Is+Iq*Iq);Is/=Z;Iq/=Z;var v1=Math.atan2(-Iq,Is);var v=Infinity;var k;var m=-1;for(var e=0;e<this._indicatorAxes.length;e++){var v3=this._indicatorAxes[e];var v2=Math.abs(v1-v3.angle);if(v2<v){k=v3;m=e;v=v2}}return[m,+(k&&k.coodToData(Z))]};nJ.prototype.resize=function(Z,v){var i=Z.get("center");var m=v.getWidth();var k=v.getHeight();var v1=Math.min(m,k)/2;this.cx=zS(i[0],m);this.cy=zS(i[1],k);this.startAngle=Z.get("startAngle")*Math.PI/180;var e=Z.get("radius");if(typeof e==="string"||typeof e==="number"){e=[0,e]}this.r0=zS(e[0],v1);this.r=zS(e[1],v1);pb(this._indicatorAxes,function(v3,v2){v3.setExtent(this.r0,this.r);var Iq=(this.startAngle+v2*Math.PI*2/this._indicatorAxes.length);Iq=Math.atan2(Math.sin(Iq),Math.cos(Iq));v3.angle=Iq},this)};nJ.prototype.update=function(e,m){var k=this._indicatorAxes;var v=this._model;pb(k,function(v1){v1.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(v3,v1){if(v3.get("coordinateSystem")!=="radar"||e.getComponent("radar",v3.get("radarIndex"))!==v){return}var v2=v3.getData();pb(k,function(Iq){Iq.scale.unionExtentFromData(v2,v2.mapDimension(Iq.dim))})},this);var Z=v.get("splitNumber");function i(v2){var v1=Math.pow(10,Math.floor(Math.log(v2)/Math.LN10));var v3=v2/v1;if(v3===2){v3=5}else{v3*=2}return v3*v1}pb(k,function(Iv,Iw){var It=FH(Iv.scale,Iv.model);nN(Iv.scale,Iv.model);var Iy=Iv.model;var v3=Iv.scale;var Iz=Iy.getMin();var Iq=Iy.getMax();var v2=v3.getInterval();if(Iz!=null&&Iq!=null){v3.setExtent(+Iz,+Iq);v3.setInterval((Iq-Iz)/Z)}else{if(Iz!=null){var Iu;do{Iu=Iz+v2*Z;v3.setExtent(+Iz,Iu);v3.setInterval(v2);v2=i(v2)}while(Iu<It[1]&&isFinite(Iu)&&isFinite(It[1]))}else{if(Iq!=null){var Is;do{Is=Iq-v2*Z;v3.setExtent(Is,+Iq);v3.setInterval(v2);v2=i(v2)}while(Is>It[0]&&isFinite(Is)&&isFinite(It[0]))}else{var Ir=v3.getTicks().length-1;if(Ir>Z){v2=i(v2)}var v1=Math.round((It[0]+It[1])/2/v2)*v2;var Ix=Math.round(Z/2);v3.setExtent(FQ(v1-Ix*v2),FQ(v1+(Z-Ix)*v2));v3.setInterval(v2)}}}})};nJ.dimensions=[];nJ.create=function(e,k){var i=[];e.eachComponent("radar",function(v){var m=new nJ(v,e,k);i.push(m);v.coordinateSystem=m});e.eachSeriesByType("radar",function(m){if(m.get("coordinateSystem")==="radar"){m.coordinateSystem=i[m.get("radarIndex")||0]}});return i};fB.register("radar",nJ);var r4=bH.valueAxis;function zB(i,e){return Di({show:e},i)}var Hc=p5({type:"radar",optionUpdated:function(){var v=this.get("boundaryGap");var e=this.get("splitNumber");var Z=this.get("scale");var i=this.get("axisLine");var v3=this.get("axisTick");var k=this.get("axisLabel");var m=this.get("name");var Is=this.get("name.show");var Iq=this.get("name.formatter");var v2=this.get("nameGap");var Ir=this.get("triggerEvent");var v1=Ej(this.get("indicator")||[],function(It){if(It.max!=null&&It.max>0&&!It.min){It.min=0}else{if(It.min!=null&&It.min<0&&!It.max){It.max=0}}var Iw=m;if(It.color!=null){Iw=Di({color:It.color},m)}It=v7(C9(It),{boundaryGap:v,splitNumber:e,scale:Z,axisLine:i,axisTick:v3,axisLabel:k,name:It.text,nameLocation:"end",nameGap:v2,nameTextStyle:Iw,triggerEvent:Ir},false);if(!Is){It.name=""}if(typeof Iq==="string"){var Iv=It.name;It.name=Iq.replace("{value}",Iv!=null?Iv:"")}else{if(typeof Iq==="function"){It.name=Iq(It.name,It)}}var Iu=b0(new fx(It,null,this.ecModel),nD);Iu.mainType="radar";Iu.componentIndex=this.componentIndex;return Iu},this);this.getIndicatorModels=function(){return v1}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:v7({lineStyle:{color:"#bbb"}},r4.axisLine),axisLabel:zB(r4.axisLabel,false),axisTick:zB(r4.axisTick,false),splitLine:zB(r4.splitLine,true),splitArea:zB(r4.splitArea,true),indicator:[]}});var EW=["axisLine","axisTickLabel","axisName"];qB({type:"radar",render:function(k,e,i){var m=this.group;m.removeAll();this._buildAxes(k);this._buildSplitLineAndArea(k)},_buildAxes:function(k){var i=k.coordinateSystem;var e=i.getIndicatorAxes();var m=Ej(e,function(v){var Z=new db(v.model,{position:[i.cx,i.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return Z});pb(m,function(v){pb(EW,v.add,v);this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(Iq){var Iy=Iq.coordinateSystem;var IE=Iy.getIndicatorAxes();if(!IE.length){return}var e=Iq.get("shape");var II=Iq.getModel("splitLine");var IA=Iq.getModel("splitArea");var Iv=II.getModel("lineStyle");var Iu=IA.getModel("areaStyle");var ID=II.get("show");var Z=IA.get("show");var v2=Iv.get("color");var IF=Iu.get("color");v2=GL(v2)?v2:[v2];IF=GL(IF)?IF:[IF];var Iw=[];var IG=[];function It(IK,IJ,i){var IL=i%IJ.length;IK[IL]=IK[IL]||[];return IL}if(e==="circle"){var IH=IE[0].getTicksCoords();var v1=Iy.cx;var k=Iy.cy;for(var IC=0;IC<IH.length;IC++){if(ID){var v3=It(Iw,v2,IC);Iw[v3].push(new GN({shape:{cx:v1,cy:k,r:IH[IC].coord}}))}if(Z&&IC<IH.length-1){var v3=It(IG,IF,IC);IG[v3].push(new r6({shape:{cx:v1,cy:k,r0:IH[IC].coord,r:IH[IC+1].coord}}))}}}else{var Is;var v=Ej(IE,function(IK,i){var IJ=IK.getTicksCoords();Is=Is==null?IJ.length-1:Math.min(IJ.length-1,Is);return Ej(IJ,function(IL){return Iy.coordToPoint(IL.coord,i)})});var Ix=[];for(var IC=0;IC<=Is;IC++){var IB=[];for(var Iz=0;Iz<IE.length;Iz++){IB.push(v[Iz][IC])}if(IB[0]){IB.push(IB[0].slice())}else{if(om){console.error("Can't draw value axis "+IC)}}if(ID){var v3=It(Iw,v2,IC);Iw[v3].push(new Ac({shape:{points:IB}}))}if(Z&&Ix){var v3=It(IG,IF,IC-1);IG[v3].push(new ic({shape:{points:IB.concat(Ix)}}))}Ix=IB.slice().reverse()}}var m=Iv.getLineStyle();var Ir=Iu.getAreaStyle();pb(IG,function(IJ,i){this.group.add(rb(IJ,{style:Di({stroke:"none",fill:IF[i%IF.length]},Ir),silent:true}))},this);pb(Iw,function(IJ,i){this.group.add(rb(IJ,{style:Di({fill:"none",stroke:v2[i%v2.length]},m),silent:true}))},this)}});var oX=nW.extend({type:"series.radar",dependencies:["radar"],init:function(e){oX.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(i,e){return xl(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},formatTooltip:function(k){var v=this.getData();var i=this.coordinateSystem;var m=i.getIndicatorAxes();var e=this.getData().getName(k);return mx(e===""?this.name:e)+"<br/>"+Ej(m,function(v1,Z){var v2=v.get(v.mapDimension(v1.dim),k);return mx(v1.name+" : "+v2)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function rf(e){if(!GL(e)){e=[+e,+e]}return e}BP({type:"radar",render:function(m,v2,v3){var e=m.coordinateSystem;var Iq=this.group;var Z=m.getData();var v1=this._data;function i(Iv,Is){var Iw=Iv.getItemVisual(Is,"symbol")||"circle";var It=Iv.getItemVisual(Is,"color");if(Iw==="none"){return}var Iu=rf(Iv.getItemVisual(Is,"symbolSize"));var Ir=uc(Iw,-1,-1,2,2,It);Ir.attr({style:{strokeNoScale:true},z2:100,scale:[Iu[0]/2,Iu[1]/2]});return Ir}function v(Iu,Iv,Ix,Iw,Is,Iy){Ix.removeAll();for(var It=0;It<Iv.length-1;It++){var Ir=i(Iw,Is);if(Ir){Ir.__dimIdx=It;if(Iu[It]){Ir.attr("position",Iu[It]);yj[Iy?"initProps":"updateProps"](Ir,{position:Iv[It]},m,Is)}else{Ir.attr("position",Iv[It])}Ix.add(Ir)}}}function k(Ir){return Ej(Ir,function(Is){return[e.cx,e.cy]})}Z.diff(v1).add(function(Ir){var Iu=Z.getItemLayout(Ir);if(!Iu){return}var It=new ic();var Is=new Ac();var Iw={shape:{points:Iu}};It.shape.points=k(Iu);Is.shape.points=k(Iu);jE(It,Iw,m,Ir);jE(Is,Iw,m,Ir);var Ix=new Cc();var Iv=new Cc();Ix.add(Is);Ix.add(It);Ix.add(Iv);v(Is.shape.points,Iu,Iv,Z,Ir,true);Z.setItemGraphicEl(Ir,Ix)}).update(function(Iu,It){var Ix=v1.getItemGraphicEl(It);var Ir=Ix.childAt(0);var Is=Ix.childAt(1);var Iw=Ix.childAt(2);var Iv={shape:{points:Z.getItemLayout(Iu)}};if(!Iv.shape.points){return}v(Ir.shape.points,Iv.shape.points,Iw,Z,Iu,false);oU(Ir,Iv,m);oU(Is,Iv,m);Z.setItemGraphicEl(Iu,Ix)}).remove(function(Ir){Iq.remove(v1.getItemGraphicEl(Ir))}).execute();Z.eachItemGraphicEl(function(Iv,IF){var IG=Z.getItemModel(IF);var ID=Iv.childAt(0);var IC=Iv.childAt(1);var Is=Iv.childAt(2);var Iw=Z.getItemVisual(IF,"color");Iq.add(Iv);ID.useStyle(Di(IG.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Iw}));ID.hoverStyle=IG.getModel("emphasis.lineStyle").getLineStyle();var IE=IG.getModel("areaStyle");var IA=IG.getModel("emphasis.areaStyle");var It=IE.isEmpty()&&IE.parentModel.isEmpty();var IB=IA.isEmpty()&&IA.parentModel.isEmpty();IB=IB&&It;IC.ignore=It;IC.useStyle(Di(IE.getAreaStyle(),{fill:Iw,opacity:0.7}));IC.hoverStyle=IA.getAreaStyle();var Iz=IG.getModel("itemStyle").getItemStyle(["color"]);var Ir=IG.getModel("emphasis.itemStyle").getItemStyle();var IH=IG.getModel("label");var Iy=IG.getModel("emphasis.label");Is.eachChild(function(II){II.setStyle(Iz);II.hoverStyle=C9(Ir);BH(II.style,II.hoverStyle,IH,Iy,{labelFetcher:Z.hostModel,labelDataIndex:IF,labelDimIndex:II.__dimIdx,defaultText:Z.get(Z.dimensions[II.__dimIdx],IF),autoColor:Iw,isRectText:true})});function Iu(){IC.attr("ignore",IB)}function Ix(){IC.attr("ignore",It)}Iv.off("mouseover").off("mouseout").off("normal").off("emphasis");Iv.on("emphasis",Iu).on("mouseover",Iu).on("normal",Ix).on("mouseout",Ix);yr(Iv)});this._data=Z},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var Cq=function(e){e.eachSeriesByType("radar",function(m){var v2=m.getData();var v1=[];var Z=m.coordinateSystem;if(!Z){return}function k(Iq,i){v1[i]=v1[i]||[];v1[i][v]=Z.dataToPoint(Iq,v)}var v3=Z.getIndicatorAxes();for(var v=0;v<v3.length;v++){v2.each(v2.mapDimension(v3[v].dim),k)}v2.each(function(i){v1[i][0]&&v1[i].push(v1[i][0].slice());v2.setItemLayout(i,v1[i])})})};var kD=function(k){var i=k.polar;if(i){if(!GL(i)){i=[i]}var e=[];pb(i,function(v,m){if(v.indicator){if(v.type&&!v.shape){v.shape=v.type}k.radar=k.radar||[];if(!GL(k.radar)){k.radar=[k.radar]}k.radar.push(v)}else{e.push(v)}});k.polar=e}pb(k.series,function(m){if(m&&m.type==="radar"&&m.polarIndex){m.radarIndex=m.polarIndex}})};G(eP("radar"));G(mn("radar","circle"));pu(Cq);ec(Eb("radar"));y6(kD);var zE=aY;function rF(){bJ.call(this)}Gu(rF,bJ);function Cp(e){this.name=e;this.zoomLimit;bJ.call(this);this._roamTransformable=new rF();this._rawTransformable=new rF();this._center;this._zoom}Cp.prototype={constructor:Cp,type:"view",dimensions:["x","y"],setBoundingRect:function(i,m,k,e){this._rect=new CL(i,m,k,e);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(i,m,k,e){this.transformTo(i,m,k,e);this._viewRect=new CL(i,m,k,e)},transformTo:function(i,Z,m,e){var v=this.getBoundingRect();var k=this._rawTransformable;k.transform=v.calculateTransform(new CL(i,Z,m,e));k.decomposeTransform();this._updateTransform()},setCenter:function(e){if(!e){return}this._center=e;this._updateCenterAndZoom()},setZoom:function(i){i=i||1;var e=this.zoomLimit;if(e){if(e.max!=null){i=Math.min(e.max,i)}if(e.min!=null){i=Math.max(e.min,i)}}this._zoom=i;this._updateCenterAndZoom()},getDefaultCenter:function(){var i=this.getBoundingRect();var e=i.x+i.width/2;var k=i.y+i.height/2;return[e,k]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var m=this._rawTransformable.getLocalTransform();var i=this._roamTransformable;var v=this.getDefaultCenter();var e=this.getCenter();var k=this.getZoom();e=aY([],e,m);v=aY([],v,m);i.origin=e;i.position=[v[0]-e[0],v[1]-e[1]];i.scale=[k,k];this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable;var i=this._rawTransformable;i.parent=e;e.updateTransform();i.updateTransform();zy(this.transform||(this.transform=[]),i.transform||CF());this._rawTransform=i.getLocalTransform();this.invTransform=this.invTransform||[];fI(this.invTransform,this.transform);this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e},dataToPoint:function(m,k,i){var e=k?this._rawTransform:this.transform;i=i||[];return e?zE(i,m,e):yM(i,m)},pointToData:function(e){var i=this.invTransform;return i?zE([],e,i):[e[0],e[1]]},convertToPixel:sy(gO,"dataToPoint"),convertFromPixel:sy(gO,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}};Gu(Cp,bJ);function gO(k,e,Z,v){var i=Z.seriesModel;var m=i?i.coordinateSystem:null;return m===this?m[k](v):null}var gY=[126,25];var DQ=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Ak=0;Ak<DQ.length;Ak++){for(var Hk=0;Hk<DQ[Ak].length;Hk++){DQ[Ak][Hk][0]/=10.5;DQ[Ak][Hk][1]/=-10.5/0.75;DQ[Ak][Hk][0]+=gY[0];DQ[Ak][Hk][1]+=gY[1]}}var oA=function(e,i){if(e==="china"){i.push(new vW("",Ej(DQ,function(k){return{type:"polygon",exterior:k}}),gY))}};var kt={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var bE=function(e,m){if(e==="china"){var k=kt[m.name];if(k){var i=m.center;i[0]+=k[0]/10.5;i[1]+=-k[1]/(10.5/0.75)}}};var hD={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var HF=function(e,k){if(e==="world"){var m=hD[k.name];if(m){var i=k.center;i[0]=m[0];i[1]=m[1]}}};var DP=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var Gl=function(e,i){if(e==="china"&&i.name===""){i.geometries.push({type:"polygon",exterior:DP[0]})}};var hN=fM();var bp={load:function(k,m){var i=hN(m).parsed;if(i){return i}var v1=m.specialAreas||{};var Z=m.geoJSON;var v2;try{v2=Z?bK(Z):[]}catch(v){throw new Error("Invalid geoJson format\n"+v.message)}pb(v2,function(e){var v3=e.name;bE(k,e);HF(k,e);Gl(k,e);var Iq=v1[v3];if(Iq){e.transformTo(Iq.left,Iq.top,Iq.width,Iq.height)}});oA(k,v2);return(hN(m).parsed={regions:v2,boundingRect:HL(v2)})}};function HL(v){var m;for(var k=0;k<v.length;k++){var e=v[k].getBoundingRect();m=m||e.clone();m.union(e)}return m}var hM=fM();var m9={load:function(e,k){var i=hM(k).originRoot;if(i){return{root:i,boundingRect:hM(k).boundingRect}}var m=rg(k);hM(k).originRoot=m.root;hM(k).boundingRect=m.boundingRect;return m},makeGraphic:function(k,Z,v2){var v1=hM(Z);var v=v1.rootMap||(v1.rootMap=CN());var e=v.get(v2);if(e){return e}var m=v1.originRoot;var i=v1.boundingRect;if(!v1.originRootHostKey){v1.originRootHostKey=v2;e=m}else{e=rg(Z,i).root}return v.set(v2,e)},removeGraphic:function(e,k,v){var m=hM(k);var i=m.rootMap;i&&i.removeKey(v);if(v===m.originRootHostKey){m.originRootHostKey=null}}};function rg(i,k){var m=i.svgXML;var Is;var Iq;try{Is=m&&D7(m,{ignoreViewBox:true,ignoreRootClip:true})||{};Iq=Is.root;bM(Iq!=null)}catch(v2){throw new Error("Invalid svg format\n"+v2.message)}var Ir=Is.width;var v1=Is.height;var Z=Is.viewBoxRect;if(!k){k=(Ir==null||v1==null)?Iq.getBoundingRect():new CL(0,0,0,0);if(Ir!=null){k.width=Ir}if(v1!=null){k.height=v1}}if(Z){var v=AS(Z,k.width,k.height);var v3=Iq;Iq=new Cc();Iq.add(v3);v3.scale=v.scale;v3.position=v.position}Iq.setClipPath(new EL({shape:k.plain()}));return{root:Iq,boundingRect:k}}var z4={geoJSON:bp,svg:m9};var p={load:function(m,Z){var v1=[];var v=CN();var e=CN();var k;var i=qs(m);pb(i,function(v2){var v3=z4[v2.type].load(m,v2);pb(v3.regions,function(Ir){var Is=Ir.name;if(Z&&Z.hasOwnProperty(Is)){Ir=Ir.cloneShallow(Is=Z[Is])}v1.push(Ir);v.set(Is,Ir);e.set(Is,Ir.center)});var Iq=v3.boundingRect;if(Iq){k?k.union(Iq):(k=Iq.clone())}});return{regions:v1,regionsMap:v,nameCoordMap:e,boundingRect:k||new CL(0,0,0,0)}},makeGraphic:mS("makeGraphic"),removeGraphic:mS("removeGraphic")};function mS(e){return function(m,v){var i=qs(m);var k=[];pb(i,function(Z){var v1=z4[Z.type][e];v1&&k.push(v1(m,Z,v))});return k}}function ud(e){if(om){console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")}}function qs(i){var e=DW.retrieveMap(i)||[];if(om){if(!e.length){ud(i)}}return e}function yY(e,k,v,i){Cp.call(this,e);this.map=k;var m=p.load(k,v);this._nameCoordMap=m.nameCoordMap;this._regionsMap=m.nameCoordMap;this._invertLongitute=i==null?true:i;this.regions=m.regions;this._rect=m.boundingRect}yY.prototype={constructor:yY,type:"geo",dimensions:["lng","lat"],containCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return true}}return false},transformTo:function(i,v2,m,e){var v=this.getBoundingRect();var k=this._invertLongitute;v=v.clone();if(k){v.y=-v.y-v.height}var v1=this._rawTransformable;v1.transform=v.calculateTransform(new CL(i,v2,m,e));v1.decomposeTransform();if(k){var Z=v1.scale;Z[1]=-Z[1]}v1.updateTransform();this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(m){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(m)){return k[e]}}},addGeoCoord:function(e,i){this._nameCoordMap.set(e,i)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(k,i,e){if(typeof k==="string"){k=this.getGeoCoord(k)}if(k){return Cp.prototype.dataToPoint.call(this,k,i,e)}},convertToPixel:sy(kG,"dataToPoint"),convertFromPixel:sy(kG,"pointToData")};Gu(yY,Cp);function kG(k,e,v1,Z){var m=v1.geoModel;var i=v1.seriesModel;var v=m?m.coordinateSystem:i?(i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return v===this?v[k](Z):null}function gi(Iq,Ir){var m=Iq.get("boundingCoords");if(m!=null){var Z=m[0];var v=m[1];if(isNaN(Z[0])||isNaN(Z[1])||isNaN(v[0])||isNaN(v[1])){if(om){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(Z[0],Z[1],v[0]-Z[0],v[1]-Z[1])}}var Is=this.getBoundingRect();var v1;var i=Iq.get("layoutCenter");var Iu=Iq.get("layoutSize");var v3=Ir.getWidth();var k=Ir.getHeight();var e=Is.width/Is.height*this.aspectScale;var It=false;if(i&&Iu){i=[zS(i[0],v3),zS(i[1],k)];Iu=zS(Iu,Math.min(v3,k));if(!isNaN(i[0])&&!isNaN(i[1])&&!isNaN(Iu)){It=true}else{if(om){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var v2;if(It){var v2={};if(e>1){v2.width=Iu;v2.height=Iu/e}else{v2.height=Iu;v2.width=Iu*e}v2.y=i[1]-v2.height/2;v2.x=i[0]-v2.width/2}else{v1=Iq.getBoxLayoutParams();v1.aspect=e;v2=kX(v1,{width:v3,height:k})}this.setViewRect(v2.x,v2.y,v2.width,v2.height);this.setCenter(Iq.get("center"));this.setZoom(Iq.get("zoom"))}function yL(i,e){pb(e.get("geoCoord"),function(m,k){i.addGeoCoord(k,m)})}var h2={dimensions:yY.prototype.dimensions,create:function(e,m){var k=[];e.eachComponent("geo",function(v2,v){var v1=v2.get("map");var Ir=v2.get("aspectScale");var v3=true;var Z=DW.retrieveMap(v1);if(Z&&Z[0]&&Z[0].type==="svg"){Ir==null&&(Ir=1);v3=false}else{Ir==null&&(Ir=0.75)}var Iq=new yY(v1+v,v1,v2.get("nameMap"),v3);Iq.aspectScale=Ir;Iq.zoomLimit=v2.get("scaleLimit");k.push(Iq);yL(Iq,v2);v2.coordinateSystem=Iq;Iq.model=v2;Iq.resize=gi;Iq.resize(v2,m)});e.eachSeries(function(v){var v1=v.get("coordinateSystem");if(v1==="geo"){var Z=v.get("geoIndex")||0;v.coordinateSystem=k[Z]}});var i={};e.eachSeriesByType("map",function(v){if(!v.getHostGeoModel()){var Z=v.getMapType();i[Z]=i[Z]||[];i[Z].push(v)}});pb(i,function(v2,v){var v1=Ej(v2,function(v3){return v3.get("nameMap")});var Z=new yY(v,v,aa(v1));Z.zoomLimit=gw.apply(null,Ej(v2,function(v3){return v3.get("scaleLimit")}));k.push(Z);Z.resize=gi;Z.aspectScale=v2[0].get("aspectScale");Z.resize(v2[0],m);pb(v2,function(v3){v3.coordinateSystem=Z;yL(Z,v3)})});return k},getFilledRegions:function(k,v,v2){var e=(k||[]).slice();var v1=CN();for(var m=0;m<e.length;m++){v1.set(e[m].name,e[m])}var Z=p.load(v,v2);pb(Z.regions,function(v3){var i=v3.name;!v1.get(i)&&e.push({name:i})});return e}};wC("geo",h2);var la=nW.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],init:function(e){la.superApply(this,"init",arguments);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e){return xl(this,["value"])},mergeOption:function(e){la.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){var m=this.getRawData();var Z=m.mapDimension("value");var v=[];for(var k=0,e=m.count();k<e;k++){v.push({name:m.getName(k),value:m.get(Z,k),selected:GE(m,k,"selected")})}v=h2.getFilledRegions(v,this.getMapType(),this.option.nameMap);return v},getHostGeoModel:function(){var e=this.option.geoIndex;return e!=null?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(i,e){},getRawValue:function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},getRegionModel:function(i){var e=this.getData();return e.getItemModel(e.indexOfName(i))},formatTooltip:function(Iq){var m=this.getData();var v=j9(this.getRawValue(Iq));var e=m.getName(Iq);var v3=this.seriesGroup;var v1=[];for(var Z=0;Z<v3.length;Z++){var k=v3[Z].originalData.indexOfName(e);var v2=m.mapDimension("value");if(!isNaN(v3[Z].originalData.get(v2,k))){v1.push(mx(v3[Z].name))}}return v1.join(", ")+"<br />"+mx(e+" : "+v)},getTooltipPosition:function(i){if(i!=null){var e=this.getData().getName(i);var m=this.coordinateSystem;var k=m.getRegion(e);return k&&m.dataToPoint(k.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});Gu(la,EY);var jf="\0_ec_interaction_mutex";function hu(m,i,k){var e=aZ(m);e[i]=k}function bl(v,k,m){var i=aZ(v);var e=i[k];if(e===m){i[k]=null}}function iN(i,e){return !!aZ(i)[e]}function aZ(e){return e[jf]||(e[jf]={})}b1({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function ad(v){this.pointerChecker;this._zr=v;this._opt={};var k=ko;var Z=k(EM,this);var v1=k(uA,this);var m=k(zv,this);var i=k(aE,this);var e=k(Hl,this);Gg.call(this);this.setPointerChecker=function(v2){this.pointerChecker=v2};this.enable=function(v3,v2){this.disable();this._opt=Di(C9(v2)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(v3==null){v3=true}if(v3===true||(v3==="move"||v3==="pan")){v.on("mousedown",Z);v.on("mousemove",v1);v.on("mouseup",m)}if(v3===true||(v3==="scale"||v3==="zoom")){v.on("mousewheel",i);v.on("pinch",e)}};this.disable=function(){v.off("mousedown",Z);v.off("mousemove",v1);v.off("mouseup",m);v.off("mousewheel",i);v.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}Gu(ad,Gg);function EM(k){if(dR(k)||(k.target&&k.target.draggable)){return}var i=k.offsetX;var m=k.offsetY;if(this.pointerChecker&&this.pointerChecker(k,i,m)){this._x=i;this._y=m;this._dragging=true}}function uA(v1){if(dR(v1)||!cz("moveOnMouseMove",v1,this._opt)||!this._dragging||v1.gestureEvent==="pinch"||iN(this._zr,"globalPan")){return}var i=v1.offsetX;var v2=v1.offsetY;var Z=this._x;var v=this._y;var m=i-Z;var k=v2-v;this._x=i;this._y=v2;this._opt.preventDefaultMouseMove&&GV(v1.event);Fb(this,"pan","moveOnMouseMove",v1,{dx:m,dy:k,oldX:Z,oldY:v,newX:i,newY:v2})}function zv(i){if(!dR(i)){this._dragging=false}}function aE(v1){var v=cz("zoomOnMouseWheel",v1,this._opt);var v3=cz("moveOnMouseWheel",v1,this._opt);var k=v1.wheelDelta;var Iq=Math.abs(k);var Is=v1.offsetX;var Ir=v1.offsetY;if(k===0||(!v&&!v3)){return}if(v){var v2=Iq>3?1.4:Iq>1?1.2:1.1;var m=k>0?v2:1/v2;jR(this,"zoom","zoomOnMouseWheel",v1,{scale:m,originX:Is,originY:Ir})}if(v3){var Z=Math.abs(k);var i=(k>0?1:-1)*(Z>3?0.4:Z>1?0.15:0.05);jR(this,"scrollMove","moveOnMouseWheel",v1,{scrollDelta:i,originX:Is,originY:Ir})}}function Hl(i){if(iN(this._zr,"globalPan")){return}var k=i.pinchScale>1?1.1:1/1.1;jR(this,"zoom",null,i,{scale:k,originX:i.pinchX,originY:i.pinchY})}function jR(i,k,v,Z,m){if(i.pointerChecker&&i.pointerChecker(Z,m.originX,m.originY)){GV(Z.event);Fb(i,k,v,Z,m)}}function Fb(i,k,v,Z,m){m.isAvailableBehavior=ko(cz,null,v,Z);i.trigger(k,m)}function cz(m,v,k){var i=k[m];return !m||(i&&(!we(i)||v.event[i+"Key"]))}function FV(v,i,e){var k=v.target;var m=k.position;m[0]+=i;m[1]+=e;k.dirty()}function zJ(Is,e,Ir,v3){var v1=Is.target;var Z=Is.zoomLimit;var v2=v1.position;var i=v1.scale;var v=Is.zoom=Is.zoom||1;v*=e;if(Z){var k=Z.min||0;var Iq=Z.max||Infinity;v=Math.max(Math.min(Iq,v),k)}var m=v/Is.zoom;Is.zoom=v;v2[0]-=(Ir-v2[0])*(m-1);v2[1]-=(v3-v2[1])*(m-1);i[0]*=m;i[1]*=m;v1.dirty()}var eN={axisPointer:1,tooltip:1,brush:1};function CW(Z,v,i){var k=v.getComponentByElement(Z.topTarget);var m=k&&k.coordinateSystem;return k&&k!==i&&!eN[k.mainType]&&(m&&m.model!==i)}function jT(i,m){var k=i.getItemStyle();var e=i.get("areaColor");if(e!=null){k.fill=e}return k}function fc(k,e,v,m,i){v.off("click");v.off("mousedown");if(e.get("selectedMode")){v.on("mousedown",function(){k._mouseDownFlag=true});v.on("click",function(v2){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var Z=v2.target;while(!Z.__regions){Z=Z.parent}if(!Z){return}var v1={type:(e.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:Ej(Z.__regions,function(v3){return{name:v3.name,from:i.uid}})};v1[e.mainType+"Id"]=e.id;m.dispatchAction(v1);fa(e,v)})}}function fa(e,i){i.eachChild(function(k){pb(k.__regions,function(m){k.trigger(e.isSelected(m.name)?"emphasis":"normal")})})}function Cn(i,e){var k=new Cc();this.uid=ma("ec_map_draw");this._controller=new ad(i.getZr());this._controllerHost={target:e?k:null};this.group=k;this._updateGroup=e;this._mouseDownFlag;this._mapName;this._initialized;k.add(this._regionsGroup=new Cc());k.add(this._backgroundGroup=new Cc())}Cn.prototype={constructor:Cn,draw:function(Is,v2,v3,k,Ir){var v=Is.mainType==="geo";var v1=Is.getData&&Is.getData();v&&v2.eachComponent({mainType:"series",subType:"map"},function(Iy){if(!v1&&Iy.getHostGeoModel()===Is){v1=Iy.getData()}});var Z=Is.coordinateSystem;this._updateBackground(Z);var Iu=this._regionsGroup;var It=this.group;var m=Z.scale;var i={position:Z.position,scale:m};if(!Iu.childAt(0)||Ir){It.attr(i)}else{oU(It,i,Is)}Iu.removeAll();var Iv=["itemStyle"];var Ix=["emphasis","itemStyle"];var e=["label"];var Iw=["emphasis","label"];var Iq=CN();pb(Z.regions,function(ID){var IA=Iq.get(ID.name)||Iq.set(ID.name,new Cc());var IK=new jt({shape:{paths:[]}});IA.add(IK);var IP=Is.getRegionModel(ID.name)||Is;var Iz=IP.getModel(Iv);var Iy=IP.getModel(Ix);var IH=jT(Iz,m);var IB=jT(Iy,m);var IJ=IP.getModel(e);var IL=IP.getModel(Iw);var IM;if(v1){IM=v1.indexOfName(ID.name);var IE=v1.getItemVisual(IM,"color",true);if(IE){IH.fill=IE}}pb(ID.geometries,function(IT){if(IT.type!=="polygon"){return}IK.shape.paths.push(new ic({shape:{points:IT.exterior}}));for(var IS=0;IS<(IT.interiors?IT.interiors.length:0);IS++){IK.shape.paths.push(new ic({shape:{points:IT.interiors[IS]}}))}});IK.setStyle(IH);IK.style.strokeNoScale=true;IK.culling=true;var IO=IJ.get("show");var IC=IL.get("show");var II=v1&&isNaN(v1.get(v1.mapDimension("value"),IM));var IQ=v1&&v1.getItemLayout(IM);if((v||II&&(IO||IC))||(IQ&&IQ.showLabel)){var IF=!v?IM:ID.name;var IR;if(!v1||IM>=0){IR=Is}var IN=new iT({position:ID.center.slice(),scale:[1/m[0],1/m[1]],z2:10,silent:true});BH(IN.style,IN.hoverStyle={},IJ,IL,{labelFetcher:IR,labelDataIndex:IF,defaultText:ID.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});IA.add(IN)}if(v1){v1.setItemGraphicEl(IM,IA)}else{var IP=Is.getRegionModel(ID.name);IK.eventData={componentType:"geo",componentIndex:Is.componentIndex,geoIndex:Is.componentIndex,name:ID.name,region:(IP&&IP.option)||{}}}var IG=IA.__regions||(IA.__regions=[]);IG.push(ID);yr(IA,IB,{hoverSilentOnTouch:!!Is.get("selectedMode")});Iu.add(IA)});this._updateController(Is,v2,v3);fc(this,Is,Iu,v3,k);fa(Is,Iu)},remove:function(){this._regionsGroup.removeAll();this._backgroundGroup.removeAll();this._controller.dispose();this._mapName&&p.removeGraphic(this._mapName,this.uid);this._mapName=null;this._controllerHost={}},_updateBackground:function(i){var e=i.map;if(this._mapName!==e){pb(p.makeGraphic(e,this.uid),function(k){this._backgroundGroup.add(k)},this)}this._mapName=e},_updateController:function(i,e,v){var Z=i.coordinateSystem;var k=this._controller;var v2=this._controllerHost;v2.zoomLimit=i.get("scaleLimit");v2.zoom=Z.getZoom();k.enable(i.get("roam")||false);var v1=i.mainType;function m(){var v3={type:"geoRoam",componentType:v1};v3[v1+"Id"]=i.id;return v3}k.off("pan").on("pan",function(v3){this._mouseDownFlag=false;FV(v2,v3.dx,v3.dy);v.dispatchAction(b0(m(),{dx:v3.dx,dy:v3.dy}))},this);k.off("zoom").on("zoom",function(v3){this._mouseDownFlag=false;zJ(v2,v3.scale,v3.originX,v3.originY);v.dispatchAction(b0(m(),{zoom:v3.scale,originX:v3.originX,originY:v3.originY}));if(this._updateGroup){var Iq=this.group.scale;this._regionsGroup.traverse(function(Ir){if(Ir.type==="text"){Ir.attr("scale",[1/Iq[0],1/Iq[1]])}})}},this);k.setPointerChecker(function(Iq,v3,Ir){return Z.getViewRectAfterRoam().contain(v3,Ir)&&!CW(Iq,v,i)})}};BP({type:"map",render:function(i,e,m,Z){if(Z&&Z.type==="mapToggleSelect"&&Z.from===this.uid){return}var v=this.group;v.removeAll();if(i.getHostGeoModel()){return}if(!(Z&&Z.type==="geoRoam"&&Z.componentType==="series"&&Z.seriesId===i.id)){if(i.needsDrawMap){var k=this._mapDraw||new Cn(m,true);v.add(k.group);k.draw(i,e,m,this,Z);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&v.add(k.group)}i.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(i,e,m)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(i,e,k){var m=i.originalData;var v=this.group;m.each(m.mapDimension("value"),function(Ix,Iy){if(isNaN(Ix)){return}var Iu=m.getItemLayout(Iy);if(!Iu||!Iu.point){return}var Iz=Iu.point;var Ir=Iu.offset;var Z=new GN({style:{fill:i.getData().getVisual("color")},shape:{cx:Iz[0]+Ir*9,cy:Iz[1],r:3},silent:true,z2:!Ir?10:8});if(!Ir){var Iv=i.mainSeries.getData();var v1=m.getName(Iy);var v3=Iv.indexOfName(v1);var IB=m.getItemModel(Iy);var IC=IB.getModel("label");var Iw=IB.getModel("emphasis.label");var IA=Iv.getItemGraphicEl(v3);var It=kd(i.getFormattedLabel(Iy,"normal"),v1);var v2=kd(i.getFormattedLabel(Iy,"emphasis"),It);var Iq=function(){var ID=pg({},Iw,{text:Iw.get("show")?v2:null},{isRectText:true,useInsideStyle:false},true);Z.style.extendFrom(ID);Z.__mapOriginalZ2=Z.z2;Z.z2+=1};var Is=function(){pg(Z.style,IC,{text:IC.get("show")?It:null,textPosition:IC.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});if(Z.__mapOriginalZ2!=null){Z.z2=Z.__mapOriginalZ2;Z.__mapOriginalZ2=null}};IA.on("mouseover",Iq).on("mouseout",Is).on("emphasis",Iq).on("normal",Is);Is()}v.add(Z)})}});function bD(v2,Iq,v){var i=v2.getZoom();var e=v2.getCenter();var Is=Iq.zoom;var Ir=v2.dataToPoint(e);if(Iq.dx!=null&&Iq.dy!=null){Ir[0]-=Iq.dx;Ir[1]-=Iq.dy;var e=v2.pointToData(Ir);v2.setCenter(e)}if(Is!=null){if(v){var m=v.min||0;var v3=v.max||Infinity;Is=Math.max(Math.min(i*Is,v3),m)/i}v2.scale[0]*=Is;v2.scale[1]*=Is;var k=v2.position;var v1=(Iq.originX-k[0])*(Is-1);var Z=(Iq.originY-k[1])*(Is-1);k[0]-=v1;k[1]-=Z;v2.updateTransform();var e=v2.pointToData(Ir);v2.setCenter(e);v2.setZoom(Is*i)}return{center:v2.getCenter(),zoom:v2.getZoom()}}b1({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(k,e){var i=k.componentType||"series";e.eachComponent({mainType:i,query:k},function(m){var Z=m.coordinateSystem;if(Z.type!=="geo"){return}var v=bD(Z,k,m.get("scaleLimit"));m.setCenter&&m.setCenter(v.center);m.setZoom&&m.setZoom(v.zoom);if(i==="series"){pb(m.seriesGroup,function(v1){v1.setCenter(v.center);v1.setZoom(v.zoom)})}})});var G1=function(e){var i={};e.eachSeriesByType("map",function(Z){var m=Z.getMapType();if(Z.getHostGeoModel()||i[m]){return}var v={};pb(Z.seriesGroup,function(v2){var v3=v2.coordinateSystem;var v1=v2.originalData;if(v2.get("showLegendSymbol")&&e.getComponent("legend")){v1.each(v1.mapDimension("value"),function(It,Ir){var Is=v1.getName(Ir);var Iu=v3.getRegion(Is);if(!Iu||isNaN(It)){return}var Iv=v[Is]||0;var Iq=v3.dataToPoint(Iu.center);v[Is]=Iv+1;v1.setItemLayout(Ir,{point:Iq,offset:Iv})})}});var k=Z.getData();k.each(function(v1){var v2=k.getName(v1);var v3=k.getItemLayout(v1)||{};v3.showLabel=!v[v2];k.setItemLayout(v1,v3)});i[m]=true})};var gW=function(e){e.eachSeriesByType("map",function(m){var v=m.get("color");var Z=m.getModel("itemStyle");var i=Z.get("areaColor");var k=Z.get("color")||v[m.seriesIndex%v.length];m.getData().setVisual({areaColor:i,color:k})})};function pI(e,k){var i={};pb(e,function(m){m.each(m.mapDimension("value"),function(v1,v){var Z="ec-"+m.getName(v);i[Z]=i[Z]||[];if(!isNaN(v1)){i[Z].push(v1)}})});return e[0].map(e[0].mapDimension("value"),function(Iq,Ir){var v2="ec-"+e[0].getName(Ir);var Z=0;var m=Infinity;var v3=-Infinity;var v1=i[v2].length;for(var v=0;v<v1;v++){m=Math.min(m,i[v2][v]);v3=Math.max(v3,i[v2][v]);Z+=i[v2][v]}var Is;if(k==="min"){Is=m}else{if(k==="max"){Is=v3}else{if(k==="average"){Is=Z/v1}else{Is=Z}}}return v1===0?NaN:Is})}var et=function(e){var i={};e.eachSeriesByType("map",function(k){var v=k.getHostGeoModel();var m=v?"o"+v.id:"i"+k.getMapType();(i[m]=i[m]||[]).push(k)});pb(i,function(v,m){var Z=pI(Ej(v,function(v1){return v1.getData()}),v[0].get("mapValueCalculation"));for(var k=0;k<v.length;k++){v[k].originalData=v[k].getData()}for(var k=0;k<v.length;k++){v[k].seriesGroup=v;v[k].needsDrawMap=k===0&&!v[k].getHostGeoModel();v[k].setData(Z.cloneShallow());v[k].mainSeries=v[0]}})};var kA=function(e){var i=[];pb(e.series,function(k){if(k&&k.type==="map"){i.push(k);k.map=k.map||k.mapType;Di(k,k.mapLocation)}})};pu(G1);G(gW);ec(Ca.PROCESSOR.STATISTIC,et);y6(kA);e1("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var o2=pb;var jF="\0__link_datas";var tq="\0__link_mainData";function BO(k){var i=k.mainData;var e=k.datas;if(!e){e={main:i};k.datasAttr={main:"data"}}k.datas=k.mainData=null;jj(i,e,k);o2(e,function(m){o2(i.TRANSFERABLE_METHODS,function(v){m.wrapMethod(v,sy(H2,k))})});i.wrapMethod("cloneShallow",sy(qN,k));o2(i.CHANGABLE_METHODS,function(m){i.wrapMethod(m,sy(GH,k))});bM(e[i.dataType]===i)}function H2(k,i){if(mj(this)){var e=b0({},this[jF]);e[this.dataType]=i;jj(i,e,k)}else{jo(i,this.dataType,this[tq],k)}return i}function GH(i,e){i.struct&&i.struct.update(this);return e}function qN(i,e){o2(e[jF],function(m,k){m!==e&&jo(m.cloneShallow(),k,e,i)});return e}function qa(i){var e=this[tq];return(i==null||e==null)?e:e[jF][i]}function mj(e){return e[tq]===e}function jj(i,e,k){i[jF]={};o2(e,function(v,m){jo(v,m,i,k)})}function jo(m,i,e,k){e[jF][i]=m;m[tq]=e;m.dataType=i;if(k.struct){m[k.structAttr]=k.struct;k.struct[k.datasAttr[i]]=m}m.getLinkedData=qa}var ks=function(e,i){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=i};ks.prototype={constructor:ks,isRemoved:function(){return this.dataIndex<0},eachNode:function(v,k,v2){if(typeof v==="function"){v2=k;k=v;v=null}v=v||{};if(we(v)){v={order:v}}var e=v.order||"preorder";var v1=this[v.attr||"children"];var m;e==="preorder"&&(m=k.call(v2,this));for(var Z=0;!m&&Z<v1.length;Z++){v1[Z].eachNode(v,k,v2)}e==="postorder"&&k.call(v2,this)},updateDepthAndHeight:function(m){var e=0;this.depth=m;for(var k=0;k<this.children.length;k++){var v=this.children[k];v.updateDepthAndHeight(m+1);if(v.height>e){e=v.height}}this.height=e+1},getNodeById:function(Z){if(this.getId()===Z){return this}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].getNodeById(Z);if(k){return k}}},contains:function(Z){if(Z===this){return true}for(var v=0,m=this.children,e=m.length;v<e;v++){var k=m[v].contains(Z);if(k){return k}}},getAncestors:function(e){var i=[];var k=e?this:this.parentNode;while(k){i.push(k);k=k.parentNode}i.reverse();return i},getValue:function(i){var e=this.hostTree.data;return e.get(e.getDimension(i||"value"),this.dataIndex)},setLayout:function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(m){if(this.dataIndex<0){return}var k=this.hostTree;var e=k.data.getItemModel(this.dataIndex);var v=this.getLevelModel();var i;if(!v&&(this.children.length===0||(this.children.length!==0&&this.isExpand===false))){i=this.getLeavesModel()}return e.getModel(m,(v||i||k.hostModel).getModel(m))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,i){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,i)},getVisual:function(i,e){return this.hostTree.data.getItemVisual(this.dataIndex,i,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(i){var e=i.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}};function nC(i,k,e){this.root;this.data;this._nodes=[];this.hostModel=i;this.levelModels=Ej(k||[],function(m){return new fx(m,i,i.ecModel)});this.leavesModel=new fx(e||{},i,i.ecModel)}nC.prototype={constructor:nC,type:"tree",eachNode:function(i,e,k){this.root.eachNode(i,e,k)},getNodeByDataIndex:function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){var v=this.data;var k=this._nodes;for(var m=0,e=k.length;m<e;m++){k[m].dataIndex=-1}for(var m=0,e=v.count();m<e;m++){k[v.getRawIndex(m)].dataIndex=m}},clearLayouts:function(){this.data.clearItemLayouts()}};nC.createTree=function(v1,k,Z){var v3=new nC(k,Z.levels,Z.leaves);var m=[];var v2=1;i(v1);function i(Ir,Iq){var Iv=Ir.value;v2=Math.max(v2,GL(Iv)?Iv.length:1);m.push(Ir);var Iu=new ks(Ir.name,v3);Iq?bi(Iu,Iq):(v3.root=Iu);v3._nodes.push(Iu);var It=Ir.children;if(It){for(var Is=0;Is<It.length;Is++){i(It[Is],Iu)}}}v3.root.updateDepthAndHeight(0);var e=yA(m,{coordDimensions:["value"],dimensionsCount:v2});var v=new xw(e,k);v.initData(m);BO({mainData:v,struct:v3,structAttr:"tree"});v3.update();return v3};function bi(k,i){var e=i.children;if(k.parentNode===i){return}e.push(k);k.parentNode=i}nW.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(Z){var i={name:Z.name,children:Z.data};var v2=Z.leaves||{};var m={};m.leaves=v2;var e=nC.createTree(i,this,m);var k=0;e.eachNode("preorder",function(v3){if(v3.depth>k){k=v3.depth}});var v1=Z.expandAndCollapse;var v=(v1&&Z.initialTreeDepth>=0)?Z.initialTreeDepth:k;e.root.eachNode("preorder",function(Iq){var v3=Iq.hostTree.data.getRawDataItem(Iq.dataIndex);Iq.isExpand=(v3&&v3.collapsed!=null)?!v3.collapsed:Iq.depth<=v});return e.data},getOrient:function(){var e=this.get("orient");if(e==="horizontal"){e="LR"}else{if(e==="vertical"){e="TB"}}return e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(m){var e=this.getData().tree;var i=e.root.children[0];var v=e.getNodeByDataIndex(m);var Z=v.getValue();var k=v.name;while(v&&(v!==i)){k=v.parentNode.name+"."+k;v=v.parentNode}return mx(k+((isNaN(Z)||Z==null)?"":" : "+Z))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:false,nodeScaleRatio:0.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:true,color:"#555"},leaves:{label:{show:true}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function nF(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var k=[e];var Z;var v;while(Z=k.pop()){v=Z.children;if(Z.isExpand&&v.length){var v2=v.length;for(var m=v2-1;m>=0;m--){var v1=v[m];v1.hierNode={defaultAncestor:null,ancestor:v1,prelim:0,modifier:0,change:0,shift:0,i:m,thread:null};k.push(v1)}}}}function C8(m,k){var i=m.isExpand?m.children:[];var v=m.parentNode.children;var e=m.hierNode.i?v[m.hierNode.i-1]:null;if(i.length){dB(m);var Z=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e);m.hierNode.modifier=m.hierNode.prelim-Z}else{m.hierNode.prelim=Z}}else{if(e){m.hierNode.prelim=e.hierNode.prelim+k(m,e)}}m.parentNode.hierNode.defaultAncestor=BE(m,e,m.parentNode.hierNode.defaultAncestor||v[0],k)}function af(e){var i=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:i},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Cb(e){return arguments.length?e:Fa}function j4(e,k){var i={};e-=Math.PI/2;i.x=k*Math.cos(e);i.y=k*Math.sin(e);return i}function wn(e,i){return kX(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function dB(k){var i=k.children;var Z=i.length;var e=0;var v=0;while(--Z>=0){var m=i[Z];m.hierNode.prelim+=e;m.hierNode.modifier+=e;v+=m.hierNode.change;e+=m.hierNode.shift+v}}function BE(m,k,v3,v){if(k){var Ir=m;var It=m;var e=It.parentNode.children[0];var v2=k;var Is=Ir.hierNode.modifier;var v1=It.hierNode.modifier;var Iq=e.hierNode.modifier;var Z=v2.hierNode.modifier;while(v2=yh(v2),It=Ff(It),v2&&It){Ir=yh(Ir);e=Ff(e);Ir.hierNode.ancestor=m;var i=v2.hierNode.prelim+Z-It.hierNode.prelim-v1+v(v2,It);if(i>0){xp(vw(v2,m,v3),m,i);v1+=i;Is+=i}Z+=v2.hierNode.modifier;v1+=It.hierNode.modifier;Is+=Ir.hierNode.modifier;Iq+=e.hierNode.modifier}if(v2&&!yh(Ir)){Ir.hierNode.thread=v2;Ir.hierNode.modifier+=Z-Is}if(It&&!Ff(e)){e.hierNode.thread=It;e.hierNode.modifier+=v1-Iq;v3=m}}return v3}function yh(i){var e=i.children;return e.length&&i.isExpand?e[e.length-1]:i.hierNode.thread}function Ff(i){var e=i.children;return e.length&&i.isExpand?e[0]:i.hierNode.thread}function vw(k,i,e){return k.hierNode.ancestor.parentNode===i.parentNode?k.hierNode.ancestor:e}function xp(k,i,e){var m=e/(i.hierNode.i-k.hierNode.i);i.hierNode.change-=m;i.hierNode.shift+=e;i.hierNode.modifier+=e;i.hierNode.prelim+=e;k.hierNode.change+=m}function Fa(i,e){return i.parentNode===e.parentNode?1:2}BP({type:"tree",init:function(e,i){this._oldTree;this._mainGroup=new Cc();this._controller=new ad(i.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)},render:function(i,Z,v1,v3){var k=i.getData();var e=i.layoutInfo;var Iq=this._mainGroup;var v=i.get("layout");if(v==="radial"){Iq.attr("position",[e.x+e.width/2,e.y+e.height/2])}else{Iq.attr("position",[e.x,e.y])}this._updateViewCoordSys(i);this._updateController(i,Z,v1);var m=this._data;var v2={expandAndCollapse:i.get("expandAndCollapse"),layout:v,orient:i.getOrient(),curvature:i.get("lineStyle.curveness"),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),useNameLabel:true,fadeIn:true};k.diff(m).add(function(Ir){if(sv(k,Ir)){gN(k,Ir,null,Iq,i,v2)}}).update(function(Is,Ir){var It=m.getItemGraphicEl(Ir);if(!sv(k,Is)){It&&fA(m,Ir,It,Iq,i,v2);return}gN(k,Is,It,Iq,i,v2)}).remove(function(Ir){var Is=m.getItemGraphicEl(Ir);if(Is){fA(m,Ir,Is,Iq,i,v2)}}).execute();this._nodeScaleRatio=i.get("nodeScaleRatio");this._updateNodeAndLinkScale(i);if(v2.expandAndCollapse===true){k.eachItemGraphicEl(function(Is,Ir){Is.off("click").on("click",function(){v1.dispatchAction({type:"treeExpandAndCollapse",seriesId:i.id,dataIndex:Ir})})})}this._data=k},_updateViewCoordSys:function(i){var Z=i.getData();var m=[];Z.each(function(v1){var v2=Z.getItemLayout(v1);if(v2&&!isNaN(v2.x)&&!isNaN(v2.y)){m.push([+v2.x,+v2.y])}});var k=[];var e=[];oK(m,k,e);if(e[0]-k[0]===0){e[0]+=1;k[0]-=1}if(e[1]-k[1]===0){e[1]+=1;k[1]-=1}var v=i.coordinateSystem=new Cp();v.zoomLimit=i.get("scaleLimit");v.setBoundingRect(k[0],k[1],e[0]-k[0],e[1]-k[1]);v.setCenter(i.get("center"));v.setZoom(i.get("zoom"));this.group.attr({position:v.position,scale:v.scale});this._viewCoordSys=v},_updateController:function(k,e,m){var i=this._controller;var Z=this._controllerHost;var v=this.group;i.setPointerChecker(function(v3,v1,Iq){var v2=v.getBoundingRect();v2.applyTransform(v.transform);return v2.contain(v1,Iq)&&!CW(v3,m,k)});i.enable(k.get("roam"));Z.zoomLimit=k.get("scaleLimit");Z.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(v1){FV(Z,v1.dx,v1.dy);m.dispatchAction({seriesId:k.id,type:"treeRoam",dx:v1.dx,dy:v1.dy})},this).on("zoom",function(v1){zJ(Z,v1.scale,v1.originX,v1.originY);m.dispatchAction({seriesId:k.id,type:"treeRoam",zoom:v1.scale,originX:v1.originX,originY:v1.originY});this._updateNodeAndLinkScale(k)},this)},_updateNodeAndLinkScale:function(e){var m=e.getData();var i=this._getNodeGlobalScale(e);var k=[i,i];m.eachItemGraphicEl(function(Z,v){Z.attr("scale",k)})},_getNodeGlobalScale:function(k){var m=k.coordinateSystem;if(m.type!=="view"){return 1}var v1=this._nodeScaleRatio;var i=m.scale;var e=(i&&i[0])||1;var Z=m.getZoom();var v=(Z-1)*v1+1;return v/e},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},remove:function(){this._mainGroup.removeAll();this._data=null}});function sv(k,e){var i=k.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&k.getItemVisual(e,"symbol")!=="none"}function ih(k,i,e){e.itemModel=i;e.itemStyle=i.getModel("itemStyle").getItemStyle();e.hoverItemStyle=i.getModel("emphasis.itemStyle").getItemStyle();e.lineStyle=i.getModel("lineStyle").getLineStyle();e.labelModel=i.getModel("label");e.hoverLabelModel=i.getModel("emphasis.label");if(k.isExpand===false&&k.children.length!==0){e.symbolInnerColor=e.itemStyle.fill}else{e.symbolInnerColor="#fff"}return e}function gN(IE,ID,Iz,v1,Ir,v3){var Iw=!Iz;var It=IE.tree.getNodeByDataIndex(ID);var Iu=It.getModel();var v3=ih(It,Iu,v3);var e=IE.tree.root;var Is=It.parentNode===e?It:It.parentNode||It;var Z=IE.getItemGraphicEl(Is.dataIndex);var v2=Is.getLayout();var IC=Z?{x:Z.position[0],y:Z.position[1],rawX:Z.__radialOldRawX,rawY:Z.__radialOldRawY}:v2;var Iq=It.getLayout();if(Iw){Iz=new lQ(IE,ID,v3);Iz.attr("position",[IC.x,IC.y])}else{Iz.updateData(IE,ID,v3)}Iz.__radialOldRawX=Iz.__radialRawX;Iz.__radialOldRawY=Iz.__radialRawY;Iz.__radialRawX=Iq.rawX;Iz.__radialRawY=Iq.rawY;v1.add(Iz);IE.setItemGraphicEl(ID,Iz);oU(Iz,{position:[Iq.x,Iq.y]},Ir);var IA=Iz.getSymbolPath();if(v3.layout==="radial"){var Ix=e.children[0];var Iv=Ix.getLayout();var i=Ix.children.length;var IB;var m;if(Iq.x===Iv.x&&It.isExpand===true){var Iy={};Iy.x=(Ix.children[0].getLayout().x+Ix.children[i-1].getLayout().x)/2;Iy.y=(Ix.children[0].getLayout().y+Ix.children[i-1].getLayout().y)/2;IB=Math.atan2(Iy.y-Iv.y,Iy.x-Iv.x);if(IB<0){IB=Math.PI*2+IB}m=Iy.x<Iv.x;if(m){IB=IB-Math.PI}}else{IB=Math.atan2(Iq.y-Iv.y,Iq.x-Iv.x);if(IB<0){IB=Math.PI*2+IB}if(It.children.length===0||(It.children.length!==0&&It.isExpand===false)){m=Iq.x<Iv.x;if(m){IB=IB-Math.PI}}else{m=Iq.x>Iv.x;if(!m){IB=IB-Math.PI}}}var k=m?"left":"right";IA.setStyle({textPosition:k,textRotation:-IB,textOrigin:"center",verticalAlign:"middle"})}if(It.parentNode&&It.parentNode!==e){var v=Iz.__edge;if(!v){v=Iz.__edge=new gZ({shape:kK(v3,IC,IC),style:Di({opacity:0,strokeNoScale:true},v3.lineStyle)})}oU(v,{shape:kK(v3,v2,Iq),style:{opacity:1}},Ir);v1.add(v)}}function fA(v,v2,Z,Ir,m,v3){var k=v.tree.getNodeByDataIndex(v2);var v1=v.tree.root;var Is=k.getModel();var v3=ih(k,Is,v3);var e=k.parentNode===v1?k:k.parentNode||k;var Iq;while(Iq=e.getLayout(),Iq==null){e=e.parentNode===v1?e:e.parentNode||e}oU(Z,{position:[Iq.x+1,Iq.y+1]},m,function(){Ir.remove(Z);v.setItemGraphicEl(v2,null)});Z.fadeOut(null,{keepLabel:true});var i=Z.__edge;if(i){oU(i,{shape:kK(v3,Iq,Iq),style:{opacity:0}},m,function(){Ir.remove(i)})}}function kK(Iv,Iw,k){var v3;var v;var v1;var m;var Z=Iv.orient;var i;var e;var Iu;var Is;if(Iv.layout==="radial"){i=Iw.rawX;Iu=Iw.rawY;e=k.rawX;Is=k.rawY;var It=j4(i,Iu);var Ir=j4(i,Iu+(Is-Iu)*Iv.curvature);var Iq=j4(e,Is+(Iu-Is)*Iv.curvature);var v2=j4(e,Is);return{x1:It.x,y1:It.y,x2:v2.x,y2:v2.y,cpx1:Ir.x,cpy1:Ir.y,cpx2:Iq.x,cpy2:Iq.y}}else{i=Iw.x;Iu=Iw.y;e=k.x;Is=k.y;if(Z==="LR"||Z==="RL"){v3=i+(e-i)*Iv.curvature;v=Iu;v1=e+(i-e)*Iv.curvature;m=Is}if(Z==="TB"||Z==="BT"){v3=i;v=Iu+(Is-Iu)*Iv.curvature;v1=e;m=Is+(Iu-Is)*Iv.curvature}}return{x1:i,y1:Iu,x2:e,y2:Is,cpx1:v3,cpy1:v,cpx2:v1,cpy2:m}}b1({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(m){var v=i.dataIndex;var k=m.getData().tree;var Z=k.getNodeByDataIndex(v);Z.isExpand=!Z.isExpand})});b1({type:"treeRoam",event:"treeRoam",update:"none"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(k){var v=k.coordinateSystem;var m=bD(v,i);k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom)})});function lL(e,v3,v1){var k=[e];var Z=[];var v2;while(v2=k.pop()){Z.push(v2);if(v2.isExpand){var v=v2.children;if(v.length){for(var m=0;m<v.length;m++){k.push(v[m])}}}}while(v2=Z.pop()){v3(v2,v1)}}function si(e,v1){var k=[e];var Z;while(Z=k.pop()){v1(Z);if(Z.isExpand){var v=Z.children;if(v.length){for(var m=v.length-1;m>=0;m--){k.push(v[m])}}}}}var jO=function(e,i){e.eachSeriesByType("tree",function(k){qc(k,i)})};function qc(v3,v){var v2=wn(v3,v);v3.layoutInfo=v2;var Iu=v3.get("layout");var Iq=0;var Z=0;var v1=null;if(Iu==="radial"){Iq=2*Math.PI;Z=Math.min(v2.height,v2.width)/2;v1=Cb(function(IB,IA){return(IB.parentNode===IA.parentNode?1:2)/IB.depth})}else{Iq=v2.width;Z=v2.height;v1=Cb()}var e=v3.getData().tree.root;var Ir=e.children[0];if(Ir){nF(e);lL(Ir,C8,v1);e.hierNode.modifier=-Ir.hierNode.prelim;si(Ir,af);var i=Ir;var Iv=Ir;var k=Ir;si(Ir,function(IB){var IA=IB.getLayout().x;if(IA<i.getLayout().x){i=IB}if(IA>Iv.getLayout().x){Iv=IB}if(IB.depth>k.depth){k=IB}});var Iw=i===Iv?1:v1(i,Iv)/2;var Iy=Iw-i.getLayout().x;var It=0;var Is=0;var Iz=0;var Ix=0;if(Iu==="radial"){It=Iq/(Iv.getLayout().x+Iw+Iy);Is=Z/((k.depth-1)||1);si(Ir,function(IA){Iz=(IA.getLayout().x+Iy)*It;Ix=(IA.depth-1)*Is;var IB=j4(Iz,Ix);IA.setLayout({x:IB.x,y:IB.y,rawX:Iz,rawY:Ix},true)})}else{var m=v3.getOrient();if(m==="RL"||m==="LR"){Is=Z/(Iv.getLayout().x+Iw+Iy);It=Iq/((k.depth-1)||1);si(Ir,function(IA){Ix=(IA.getLayout().x+Iy)*Is;Iz=m==="LR"?(IA.depth-1)*It:Iq-(IA.depth-1)*It;IA.setLayout({x:Iz,y:Ix},true)})}else{if(m==="TB"||m==="BT"){It=Iq/(Iv.getLayout().x+Iw+Iy);Is=Z/((k.depth-1)||1);si(Ir,function(IA){Iz=(IA.getLayout().x+Iy)*It;Ix=m==="TB"?(IA.depth-1)*Is:Z-(IA.depth-1)*Is;IA.setLayout({x:Iz,y:Ix},true)})}}}}}G(mn("tree","circle"));pu(jO);function uW(v,k,i){if(v&&eR(k,v.type)>=0){var e=i.getData().tree.root;var m=v.targetNode;if(typeof m==="string"){m=e.getNodeById(m)}if(m&&e.contains(m)){return{node:m}}var Z=v.targetNodeId;if(Z!=null&&(m=e.getNodeById(Z))){return{node:m}}}}function tQ(e){var i=[];while(e){e=e.parentNode;e&&i.push(e)}return i.reverse()}function wO(k,i){var e=tQ(k);return eR(e,i)>=0}function dN(m,k){var i=[];while(m){var e=m.dataIndex;i.push({name:m.name,dataIndex:e,value:k.getRawValue(e)});m=m.parentNode}i.reverse();return i}nW.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true},upperLabel:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(m,e){var i={name:m.name,children:m.data};u8(i);var v=m.levels||[];v=m.levels=xn(v,e);var k={};k.levels=v;return nC.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(i){var v=this.getData();var m=this.getRawValue(i);var k=GL(m)?j9(m[0]):j9(m);var e=v.getName(i);return mx(e+": "+k)},getDataParams:function(e){var k=nW.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=dN(i,this);return k},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{};b0(this.layoutInfo,e)},mapIdToIndex:function(k){var e=this._idIndexMap;if(!e){e=this._idIndexMap=CN();this._idIndexMapCount=0}var i=e.get(k);if(i==null){e.set(k,i=this._idIndexMapCount++)}return i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function u8(i){var k=0;pb(i.children,function(v){u8(v);var m=v.value;GL(m)&&(m=m[0]);k+=m});var e=i.value;if(GL(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}GL(i.value)?(i.value[0]=e):(i.value=e)}function xn(m,i){var k=i.get("color");if(!k){return}m=m||[];var e;pb(m,function(v2){var Z=new fx(v2);var v1=Z.get("color");if(Z.get("itemStyle.color")||(v1&&v1!=="none")){e=true}});if(!e){var v=m[0]||(m[0]={});v.color=k.slice()}return m}var zm=8;var BF=8;var EK=5;function kN(e){this.group=new Cc();e.add(this.group)}kN.prototype={constructor:kN,render:function(e,m,v,v1){var k=e.getModel("breadcrumb");var i=this.group;i.removeAll();if(!k.get("show")||!v){return}var Z=k.getModel("itemStyle");var v2=Z.getModel("textStyle");var v3={pos:{left:k.get("left"),right:k.get("right"),top:k.get("top"),bottom:k.get("bottom")},box:{width:m.getWidth(),height:m.getHeight()},emptyItemWidth:k.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(v,v3,v2);this._renderContent(e,v3,Z,v2,v1);AC(i,v3.pos,v3.box)},_prepare:function(v,k,e){for(var i=v;i;i=i.parentNode){var v1=i.getModel().get("name");var Z=e.getTextRect(v1);var m=Math.max(Z.width+zm*2,k.emptyItemWidth);k.totalWidth+=m+BF;k.renderList.push({node:i,text:v1,width:m})}},_renderContent:function(v1,Iy,Is,Iu,It){var k=0;var v2=Iy.emptyItemWidth;var Iw=v1.get("breadcrumb.height");var Z=mC(Iy.pos,Iy.box);var Iq=Iy.totalWidth;var e=Iy.renderList;for(var v3=e.length-1;v3>=0;v3--){var Ix=e[v3];var v=Ix.node;var Ir=Ix.width;var Iv=Ix.text;if(Iq>Z.width){Iq-=Ir-v2;Ir=v2;Iv=null}var m=new ic({shape:{points:bf(k,0,Ir,Iw,v3===e.length-1,v3===0)},style:Di(Is.getItemStyle(),{lineJoin:"bevel",text:Iv,textFill:Iu.getTextColor(),textFont:Iu.getFont()}),z:10,onclick:sy(It,v)});this.group.add(m);gJ(m,v1,v);k+=Ir+BF}},remove:function(){this.group.removeAll()}};function bf(e,v1,v,Z,k,i){var m=[[k?e:e-EK,v1],[e+v,v1],[e+v,v1+Z],[k?e:e-EK,v1+Z]];!i&&m.splice(2,0,[e+v+EK,v1+Z/2]);!k&&m.push([e,v1+Z/2]);return m}function gJ(i,e,k){i.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:k&&k.dataIndex,name:k&&k.name},treePathInfo:k&&dN(k,e)}}function ta(){var k=[];var i={};var e;return{add:function(v,v1,Z,m,v2){if(we(m)){v2=m;m=0}if(i[v.id]){return false}i[v.id]=1;k.push({el:v,target:v1,time:Z,delay:m,easing:v2});return true},done:function(m){e=m;return this},start:function(){var v2=k.length;for(var Z=0,m=k.length;Z<m;Z++){var v1=k[Z];v1.el.animateTo(v1.target,v1.time,v1.delay,v1.easing,v)}return this;function v(){v2--;if(!v2){k.length=0;i={};e&&e()}}}}}var pF=ko;var ro=Cc;var A4=EL;var o1=pb;var t0=3;var Fr=["label"];var dV=["emphasis","label"];var Hz=["upperLabel"];var me=["emphasis","upperLabel"];var lM=10;var rn=1;var DD=2;var ia=yS([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var AW=function(e){var i=ia(e);i.stroke=i.fill=i.lineWidth=null;return i};BP({type:"treemap",init:function(i,e){this._containerGroup;this._storage=A3();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(v,v2,Iq,Is){var e=v2.findComponents({mainType:"series",subType:"treemap",query:Is});if(eR(e,v)<0){return}this.seriesModel=v;this.api=Iq;this.ecModel=v2;var Ir=["treemapZoomToNode","treemapRootToNode"];var v3=uW(Is,Ir,v);var It=Is&&Is.type;var m=v.layoutInfo;var v1=!this._oldTree;var k=this._storage;var i=(It==="treemapRootToNode"&&v3&&k)?{rootNodeGroup:k.nodeGroup[v3.node.getRawIndex()],direction:Is.direction}:null;var Z=this._giveContainerGroup(m);var Iu=this._doRender(Z,v,i);(!v1&&(!It||It==="treemapZoomToNode"||It==="treemapRootToNode"))?this._doAnimation(Z,Iu,v,i):Iu.renderFinally();this._resetController(Iq);this._renderBreadcrumb(v,Iq,v3)},_giveContainerGroup:function(e){var i=this._containerGroup;if(!i){i=this._containerGroup=new ro();this._initEvents(i);this.group.add(i)}i.attr("position",[e.x,e.y]);return i},_doRender:function(Iq,Z,v){var m=Z.getData().tree;var e=this._oldTree;var It=A3();var v1=A3();var v2=this._storage;var k=[];var Iu=sy(a2,Z,v1,v2,v,It,k);i(m.root?[m.root]:[],(e&&e.root)?[e.root]:[],Iq,m===e||!e,0);var Is=Ir(v2);this._oldTree=m;this._storage=v1;return{lastsForAnimation:It,willDeleteEls:Is,renderFinally:v3};function i(IB,IA,Ix,Iv,Iz){if(Iv){IA=IB;o1(IB,function(ID,IC){!ID.isRemoved()&&Iy(IC,IC)})}else{(new GB(IA,IB,Iw,Iw)).add(Iy).update(Iy).remove(sy(Iy,null)).execute()}function Iw(IC){return IC.getId()}function Iy(ID,IG){var IC=ID!=null?IB[ID]:null;var IF=IG!=null?IA[IG]:null;var IE=Iu(IC,IF,Ix,Iz);IE&&i(IC&&IC.viewChildren||[],IF&&IF.viewChildren||[],IE,Iv,Iz+1)}}function Ir(Iw){var Iv=A3();Iw&&o1(Iw,function(Ix,Iy){var Iz=Iv[Iy];o1(Ix,function(IA){IA&&(Iz.push(IA),IA.__tmWillDelete=1)})});return Iv}function v3(){o1(Is,function(Iv){o1(Iv,function(Iw){Iw.parent&&Iw.parent.remove(Iw)})});o1(k,function(Iv){Iv.invisible=true;Iv.dirty()})}},_doAnimation:function(v1,Z,e,m){if(!e.get("animation")){return}var k=e.get("animationDurationUpdate");var v=e.get("animationEasing");var i=ta();o1(Z.willDeleteEls,function(v2,v3){o1(v2,function(It,Iq){if(It.invisible){return}var Is=It.parent;var Iv;if(m&&m.direction==="drillDown"){Iv=Is===m.rootNodeGroup?{shape:{x:0,y:0,width:Is.__tmNodeWidth,height:Is.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var Iu=0;var Ir=0;if(!Is.__tmWillDelete){Iu=Is.__tmNodeWidth/2;Ir=Is.__tmNodeHeight/2}Iv=v3==="nodeGroup"?{position:[Iu,Ir],style:{opacity:0}}:{shape:{x:Iu,y:Ir,width:0,height:0},style:{opacity:0}}}Iv&&i.add(It,Iv,k,v)})});o1(this._storage,function(v2,v3){o1(v2,function(Ir,Iq){var Is=Z.lastsForAnimation[v3][Iq];var It={};if(!Is){return}if(v3==="nodeGroup"){if(Is.old){It.position=Ir.position.slice();Ir.attr("position",Is.old)}}else{if(Is.old){It.shape=b0({},Ir.shape);Ir.setShape(Is.old)}if(Is.fadein){Ir.setStyle("opacity",0);It.style={opacity:1}}else{if(Ir.style.opacity!==1){It.style={opacity:1}}}}i.add(Ir,It,k,v)})},this);this._state="animating";i.done(pF(function(){this._state="ready";Z.renderFinally()},this)).start()},_resetController:function(i){var e=this._controller;if(!e){e=this._controller=new ad(i.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",pF(this._onPan,this));e.on("zoom",pF(this._onZoom,this))}var k=new CL(0,0,i.getWidth(),i.getHeight());e.setPointerChecker(function(v,m,Z){return k.contain(m,Z)})},_clearController:function(){var e=this._controller;if(e){e.dispose();e=null}},_onPan:function(m){if(this._state!=="animating"&&(Math.abs(m.dx)>t0||Math.abs(m.dy)>t0)){var k=this.seriesModel.getData().tree.root;if(!k){return}var i=k.getLayout();if(!i){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+m.dx,y:i.y+m.dy,width:i.width,height:i.height}})}},_onZoom:function(Iq){var v1=Iq.originX;var Z=Iq.originY;if(this._state!=="animating"){var v=this.seriesModel.getData().tree.root;if(!v){return}var k=v.getLayout();if(!k){return}var v2=new CL(k.x,k.y,k.width,k.height);var v3=this.seriesModel.layoutInfo;v1-=v3.x;Z-=v3.y;var i=CF();vp(i,i,[-v1,-Z]);q0(i,i,[Iq.scale,Iq.scale]);vp(i,i,[v1,Z]);v2.applyTransform(i);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:v2.x,y:v2.y,width:v2.width,height:v2.height}})}},_initEvents:function(e){e.on("click",function(Z){if(this._state!=="ready"){return}var i=this.seriesModel.get("nodeClick",true);if(!i){return}var v2=this.findTarget(Z.offsetX,Z.offsetY);if(!v2){return}var v=v2.node;if(v.getLayout().isLeafRoot){this._rootToNode(v2)}else{if(i==="zoomToNode"){this._zoomToNode(v2)}else{if(i==="link"){var k=v.hostTree.data.getItemModel(v.dataIndex);var m=k.get("link",true);var v1=k.get("target",true)||"blank";m&&window.open(m,v1)}}}},this)},_renderBreadcrumb:function(e,k,m){if(!m){m=e.get("leafDepth",true)!=null?{node:e.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!m){m={node:e.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new kN(this.group))).render(e,k,m.node,pF(i,this));function i(v){if(this._state!=="animating"){wO(e.getViewRoot(),v)?this._rootToNode({node:v}):this._zoomToNode({node:v})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=A3();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,m){var k;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(v2){var v1=this._storage.background[v2.getRawIndex()];if(v1){var v=v1.transformCoordToLocal(e,m);var Z=v1.shape;if(Z.x<=v[0]&&v[0]<=Z.x+Z.width&&Z.y<=v[1]&&v[1]<=Z.y+Z.height){k={node:v2,offsetX:v[0],offsetY:v[1]}}else{return false}}},this);return k}});function A3(){return{nodeGroup:[],background:[],content:[]}}function a2(Iy,v,v3,Iq,Ix,Is,Iv,IA,v2,IK){if(!Iv){return}var IE=Iv.getLayout();if(!IE||!IE.isInView){return}var IM=IE.width;var Iw=IE.height;var IL=IE.borderWidth;var Iu=IE.invisible;var k=Iv.getRawIndex();var IJ=IA&&IA.getRawIndex();var i=Iv.viewChildren;var IB=IE.upperHeight;var IH=i&&i.length;var e=Iv.getModel("itemStyle");var Ir=Iv.getModel("emphasis.itemStyle");var It=m("nodeGroup",ro);if(!It){return}v2.add(It);It.attr("position",[IE.x||0,IE.y||0]);It.__tmNodeWidth=IM;It.__tmNodeHeight=Iw;if(IE.isAboveViewRoot){return It}var v1=m("background",A4,IK,rn);v1&&Z(It,v1,IH&&IE.upperHeight);if(!IH){var IC=m("content",A4,IK,DD);IC&&IG(It,IC)}return It;function Z(IQ,IO,IN){IO.dataIndex=Iv.dataIndex;IO.seriesIndex=Iy.seriesIndex;IO.setShape({x:0,y:0,width:IM,height:Iw});var IP=Iv.getVisual("borderColor",true);var IR=Ir.get("borderColor");Iz(IO,function(){var IU=AW(e);IU.fill=IP;var IS=ia(Ir);IS.fill=IR;if(IN){var IT=IM-2*IL;II(IU,IS,IP,IT,IB,{x:IL,y:0,width:IT,height:IB})}else{IU.text=IS.text=null}IO.setStyle(IU);yr(IO,IS)});IQ.add(IO)}function IG(IR,IQ){IQ.dataIndex=Iv.dataIndex;IQ.seriesIndex=Iy.seriesIndex;var IN=Math.max(IM-2*IL,0);var IP=Math.max(Iw-2*IL,0);IQ.culling=true;IQ.setShape({x:IL,y:IL,width:IN,height:IP});var IO=Iv.getVisual("color",true);Iz(IQ,function(){var IT=AW(e);IT.fill=IO;var IS=ia(Ir);II(IT,IS,IO,IN,IP);IQ.setStyle(IT);yr(IQ,IS)});IR.add(IQ)}function Iz(IO,IN){if(!Iu){IN();if(!IO.__tmWillVisible){IO.invisible=false}}else{!IO.invisible&&Is.push(IO)}}function II(IN,IP,IV,IO,IW,IT){var IQ=Iv.getModel();var IU=gw(Iy.getFormattedLabel(Iv.dataIndex,"normal",null,null,IT?"upperLabel":"label"),IQ.get("name"));if(!IT&&IE.isLeafRoot){var IS=Iy.get("drillDownIcon",true);IU=IS?IS+" "+IU:IU}var IY=IQ.getModel(IT?Hz:Fr);var IX=IQ.getModel(IT?me:dV);var IR=IY.getShallow("show");BH(IN,IP,IY,IX,{defaultText:IR?IU:null,autoColor:IV,isRectText:true});IT&&(IN.textRect=C9(IT));IN.truncate=(IR&&IY.get("ellipsis"))?{outerWidth:IO,outerHeight:IW,minChar:2}:null}function m(IQ,IO,IS,IR){var IP=IJ!=null&&v3[IQ][IJ];var IN=Ix[IQ];if(IP){v3[IQ][IJ]=null;IF(IN,IP,IQ)}else{if(!Iu){IP=new IO({z:th(IS,IR)});IP.__tmDepth=IS;IP.__tmStorageName=IQ;ID(IN,IP,IQ)}}return(v[IQ][k]=IP)}function IF(IN,IP,IO){var IQ=IN[k]={};IQ.old=IO==="nodeGroup"?IP.position.slice():b0({},IP.shape)}function ID(IP,IS,IR){var IT=IP[k]={};var IO=Iv.parentNode;if(IO&&(!Iq||Iq.direction==="drillDown")){var IN=0;var IU=0;var IQ=Ix.background[IO.getRawIndex()];if(!Iq&&IQ&&IQ.old){IN=IQ.old.width;IU=IQ.old.height}IT.old=IR==="nodeGroup"?[0,IU]:{x:IN,y:IU,width:0,height:0}}IT.fadein=IR!=="nodeGroup"}}function th(k,i){var e=k*lM+i;return(e-1)/e}var vM=function(){};var fT=["treemapZoomToNode","treemapRender","treemapMove"];for(var Ah=0;Ah<fT.length;Ah++){b1({type:fT[Ah],update:"updateView"},vM)}b1({type:"treemapRootToNode",update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"treemap",query:k},i);function i(Z,v){var v1=["treemapZoomToNode","treemapRootToNode"];var v2=uW(k,v1,Z);if(v2){var m=Z.getViewRoot();if(m){k.direction=wO(m,v2.node)?"rollUp":"drillDown"}Z.resetViewRoot(v2.node)}}});var oZ=pb;var tF=tM;var ol=-1;var mJ=function(m){var e=m.mappingMethod;var v=m.type;var i=this.option=C9(m);this.type=v;this.mappingMethod=e;this._normalizeData=su[e];var k=sK[v];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[e];if(e==="piecewise"){hx(i);ou(i)}else{if(e==="category"){i.categories?eX(i):hx(i,true)}else{bM(e!=="linear"||i.dataExtent);hx(i)}}};mJ.prototype={constructor:mJ,mapValueToVisual:function(e){var i=this._normalizeData(e);return this._doMap(i,e)},getNormalizer:function(){return ko(this._normalizeData,this)}};var sK=mJ.visualHandlers={color:{applyVisual:bO("color"),getColorMapper:function(){var e=this.option;return ko(e.mappingMethod==="category"?function(k,i){!i&&(k=this._normalizeData(k));return ss.call(this,k)}:function(v,m,i){var k=!!i;!m&&(v=this._normalizeData(v));i=Q(v,e.parsedVisual,i);return k?i:wr(i,"rgba")},this)},_doMap:{linear:function(e){return wr(Q(e,this.option.parsedVisual),"rgba")},category:ss,piecewise:function(k,i){var e=uf.call(this,i);if(e==null){e=wr(Q(k,this.option.parsedVisual),"rgba")}return e},fixed:so}},colorHue:u3(function(e,i){return lz(e,i)}),colorSaturation:u3(function(e,i){return lz(e,null,i)}),colorLightness:u3(function(e,i){return lz(e,null,null,i)}),colorAlpha:u3(function(e,i){return im(e,i)}),opacity:{applyVisual:bO("opacity"),_doMap:pP([0,1])},liftZ:{applyVisual:bO("liftZ"),_doMap:{linear:so,category:so,piecewise:so,fixed:so}},symbol:{applyVisual:function(k,e,v){var m=this.mapValueToVisual(k);if(we(m)){v("symbol",m)}else{if(tF(m)){for(var i in m){if(m.hasOwnProperty(i)){v(i,m[i])}}}}},_doMap:{linear:yc,category:ss,piecewise:function(k,i){var e=uf.call(this,i);if(e==null){e=yc.call(this,k)}return e},fixed:so}},symbolSize:{applyVisual:bO("symbolSize"),_doMap:pP([0,1])}};function ou(i){var e=i.pieceList;i.hasSpecialVisual=false;pb(e,function(m,k){m.originIndex=k;if(m.visual!=null){i.hasSpecialVisual=true}})}function eX(v){var e=v.categories;var v1=v.visual;var Z=v.categoryMap={};oZ(e,function(v2,i){Z[v2]=i});if(!GL(v1)){var m=[];if(tM(v1)){oZ(v1,function(i,v3){var v2=Z[v3];m[v2!=null?v2:ol]=i})}else{m[ol]=v1}v1=EC(v,m)}for(var k=e.length-1;k>=0;k--){if(v1[k]==null){delete Z[e[k]];e.pop()}}}function hx(k,e){var m=k.visual;var i=[];if(tM(m)){oZ(m,function(Z){i.push(Z)})}else{if(m!=null){i.push(m)}}var v={color:1,symbol:1};if(!e&&i.length===1&&!v.hasOwnProperty(k.type)){i[1]=i[0]}EC(k,i)}function u3(e){return{applyVisual:function(k,i,m){k=this.mapValueToVisual(k);m("color",e(i("color"),k))},_doMap:pP([0,1])}}function yc(i){var e=this.option.visual;return e[Math.round(EU(i,[0,1],[0,e.length-1],true))]||{}}function bO(e){return function(k,i,m){m(e,this.mapValueToVisual(k))}}function ss(i){var e=this.option.visual;return e[(this.option.loop&&i!==ol)?i%e.length:i]}function so(){return this.option.visual[0]}function pP(e){return{linear:function(i){return EU(i,e,this.option.visual,true)},category:ss,piecewise:function(m,k){var i=uf.call(this,k);if(i==null){i=EU(m,e,this.option.visual,true)}return i},fixed:so}}function uf(v){var i=this.option;var e=i.pieceList;if(i.hasSpecialVisual){var m=mJ.findPieceIndex(v,e);var k=e[m];if(k&&k.visual){return k.visual[this.type]}}}function EC(i,e){i.visual=e;if(i.type==="color"){i.parsedVisual=Ej(e,function(k){return eY(k)})}return e}var su={linear:function(e){return EU(e,this.option.dataExtent,[0,1],true)},piecewise:function(k){var e=this.option.pieceList;var i=mJ.findPieceIndex(k,e,true);if(i!=null){return EU(i,[0,e.length-1],[0,1],true)}},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e==null?ol:e},fixed:V};mJ.listVisualTypes=function(){var e=[];pb(sK,function(k,i){e.push(i)});return e};mJ.addVisualHandler=function(e,i){sK[e]=i};mJ.isValidType=function(e){return sK.hasOwnProperty(e)};mJ.eachVisual=function(i,k,e){if(tM(i)){pb(i,k,e)}else{k.call(e,i)}};mJ.mapVisual=function(i,v,e){var m;var k=GL(i)?[]:tM(i)?{}:(m=true,null);mJ.eachVisual(i,function(Z,v2){var v1=v.call(e,Z,v2);m?(k=v1):(k[v2]=v1)});return k};mJ.retrieveVisuals=function(k){var i={};var e;k&&oZ(sK,function(m,v){if(k.hasOwnProperty(v)){i[v]=k[v];e=true}});return e?i:null};mJ.prepareVisualTypes=function(i){if(tF(i)){var e=[];oZ(i,function(m,k){e.push(k)});i=e}else{if(GL(i)){i=i.slice()}else{return[]}}i.sort(function(m,k){return(k==="color"&&m!=="color"&&m.indexOf("color")===0)?1:-1});return i};mJ.dependsOn=function(i,e){return e==="color"?!!(i&&i.indexOf(e)===0):i===e};mJ.findPieceIndex=function(Iq,e,Z){var v2;var It=Infinity;for(var m=0,v3=e.length;m<v3;m++){var v1=e[m].value;if(v1!=null){if(v1===Iq||(typeof v1==="string"&&v1===Iq+"")){return m}Z&&v(v1,m)}}for(var m=0,v3=e.length;m<v3;m++){var Is=e[m];var k=Is.interval;var Ir=Is.close;if(k){if(k[0]===-Infinity){if(n8(Ir[1],Iq,k[1])){return m}}else{if(k[1]===Infinity){if(n8(Ir[0],k[0],Iq)){return m}}else{if(n8(Ir[0],k[0],Iq)&&n8(Ir[1],Iq,k[1])){return m}}}Z&&v(k[0],m);Z&&v(k[1],m)}}if(Z){return Iq===Infinity?e.length-1:Iq===-Infinity?0:v2}function v(Iv,i){var Iu=Math.abs(Iv-Iq);if(Iu<It){It=Iu;v2=i}}};function n8(k,i,e){return k?i<=e:i<e}var In=GL;var d7="itemStyle";var yb={seriesType:"treemap",reset:function(v,i,Z,v2){var e=v.getData().tree;var k=e.root;var v1=v.getModel(d7);if(k.isRemoved()){return}var m=Ej(e.levelModels,function(v3){return v3?v3.get(d7):null});g2(k,{},m,v1,v.getViewRoot().getAncestors(),v)}};function g2(v,Iw,i,Iv,It,v1){var k=v.getModel();var Iq=v.getLayout();if(!Iq||Iq.invisible||!Iq.isInView){return}var Ir=v.getModel(d7);var Is=i[v.depth];var Z=rL(Ir,Iw,Is,Iv);var m=Ir.get("borderColor");var v3=Ir.get("borderColorSaturation");var v2;if(v3!=null){v2=Ih(Z,v);m=F3(v3,v2)}v.setVisual("borderColor",m);var Iu=v.viewChildren;if(!Iu||!Iu.length){v2=Ih(Z,v);v.setVisual("color",v2)}else{var e=ys(v,k,Iq,Ir,Z,Iu);pb(Iu,function(Iz,Ix){if(Iz.depth>=It.length||Iz===It[Iz.depth]){var Iy=mR(k,Z,Iz,Ix,e,v1);g2(Iz,Iy,i,Iv,It,v1)}})}}function rL(v,e,m,i){var k=b0({},e);pb(["color","colorAlpha","colorSaturation"],function(Z){var v1=v.get(Z,true);v1==null&&m&&(v1=m[Z]);v1==null&&(v1=e[Z]);v1==null&&(v1=i.get(Z));v1!=null&&(k[Z]=v1)});return k}function Ih(m){var i=zd(m,"color");if(i){var k=zd(m,"colorAlpha");var e=zd(m,"colorSaturation");if(e){i=lz(i,null,null,e)}if(k){i=im(i,k)}return i}}function F3(i,e){return e!=null?lz(e,null,null,i):null}function zd(k,e){var i=k[e];if(i!=null&&i!=="none"){return i}}function ys(v,m,v3,Ir,v1,Is){if(!Is||!Is.length){return}var i=k6(m,"color")||(v1.color!=null&&v1.color!=="none"&&(k6(m,"colorAlpha")||k6(m,"colorSaturation")));if(!i){return}var v2=m.get("visualMin");var Iq=m.get("visualMax");var It=v3.dataExtent.slice();v2!=null&&v2<It[0]&&(It[0]=v2);Iq!=null&&Iq>It[1]&&(It[1]=Iq);var Z=m.get("colorMappingBy");var k={type:i.name,dataExtent:It,visual:i.range};if(k.type==="color"&&(Z==="index"||Z==="id")){k.mappingMethod="category";k.loop=true}else{k.mappingMethod="linear"}var e=new mJ(k);e.__drColorMappingBy=Z;return e}function k6(k,i){var e=k.get(i);return(In(e)&&e.length)?{name:i,range:e}:null}function mR(m,Z,i,v3,e,v1){var k=b0({},Z);if(e){var v2=e.type;var v=v2==="color"&&e.__drColorMappingBy;var Iq=v==="index"?v3:v==="id"?v1.mapIdToIndex(i.getId()):i.getValue(m.get("visualDimension"));k[v2]=e.mapValueToVisual(Iq)}return k}var AP=Math.max;var jw=Math.min;var bB=gw;var t6=pb;var gs=["itemStyle","borderWidth"];var j6=["itemStyle","gapWidth"];var E7=["upperLabel","show"];var uq=["upperLabel","height"];var eT={seriesType:"treemap",reset:function(Ix,IC,It,Iy){var Ir=It.getWidth();var i=It.getHeight();var v=Ix.option;var Iw=kX(Ix.getBoxLayoutParams(),{width:It.getWidth(),height:It.getHeight()});var Iv=v.size||[];var Iq=zS(bB(Iw.width,Iv[0]),Ir);var Iu=zS(bB(Iw.height,Iv[1]),i);var e=Iy&&Iy.type;var Is=["treemapZoomToNode","treemapRootToNode"];var v3=uW(Iy,Is,Ix);var Z=(e==="treemapRender"||e==="treemapMove")?Iy.rootRect:null;var v2=Ix.getViewRoot();var v1=tQ(v2);if(e!=="treemapMove"){var IA=e==="treemapZoomToNode"?U(Ix,v3,v2,Iq,Iu):Z?[Z.width,Z.height]:[Iq,Iu];var IB=v.sort;if(IB&&IB!=="asc"&&IB!=="desc"){IB="desc"}var m={squareRatio:v.squareRatio,sort:IB,leafDepth:v.leafDepth};v2.hostTree.clearLayouts();var k={x:0,y:0,width:IA[0],height:IA[1],area:IA[0]*IA[1]};v2.setLayout(k);rm(v2,m,false,0);var k=v2.getLayout();t6(v1,function(IF,IE){var ID=(v1[IE+1]||v2).getValue();IF.setLayout(b0({dataExtent:[ID,ID],borderWidth:0,upperHeight:0},k))})}var Iz=Ix.getData().tree.root;Iz.setLayout(HQ(Iw,Z,v3),true);Ix.setLayoutInfo(Iw);wv(Iz,new CL(-Iw.x,-Iw.y,Ir,i),v1,v2,0)}};function rm(Is,v,IA,IF){var Ir;var v3;if(Is.isRemoved()){return}var ID=Is.getLayout();Ir=ID.width;v3=ID.height;var Iq=Is.getModel();var IG=Iq.get(gs);var Iv=Iq.get(j6)/2;var Ix=pA(Iq);var Iu=Math.max(IG,Ix);var IE=IG-Iv;var e=Iu-Iv;var Iq=Is.getModel();Is.setLayout({borderWidth:IG,upperHeight:Iu,upperLabelHeight:Ix},true);Ir=AP(Ir-2*IE,0);v3=AP(v3-IE-e,0);var IC=Ir*v3;var It=q3(Is,Iq,IC,v,IA,IF);if(!It.length){return}var k={x:IE,y:e,width:Ir,height:v3};var v2=jw(Ir,v3);var m=Infinity;var v1=[];v1.area=0;for(var Iz=0,IB=It.length;Iz<IB;){var Z=It[Iz];v1.push(Z);v1.area+=Z.getLayout().area;var Iy=iR(v1,v2,v.squareRatio);if(Iy<=m){Iz++;m=Iy}else{v1.area-=v1.pop().getLayout().area;vH(v1,v2,k,Iv,false);v2=jw(k.width,k.height);v1.length=v1.area=0;m=Infinity}}if(v1.length){vH(v1,v2,k,Iv,true)}if(!IA){var Iw=Iq.get("childrenVisibleMin");if(Iw!=null&&IC<Iw){IA=true}}for(var Iz=0,IB=It.length;Iz<IB;Iz++){rm(It[Iz],v,IA,IF+1)}}function q3(v,m,It,Iu,v2,v1){var Is=v.children||[];var Iq=Iu.sort;Iq!=="asc"&&Iq!=="desc"&&(Iq=null);var Ir=Iu.leafDepth!=null&&Iu.leafDepth<=v1;if(v2&&!Ir){return(v.viewChildren=[])}Is=q7(Is,function(i){return !i.isRemoved()});fD(Is,Iq);var k=gg(m,Is,Iq);if(k.sum===0){return(v.viewChildren=[])}k.sum=dd(m,It,k.sum,Iq,Is);if(k.sum===0){return(v.viewChildren=[])}for(var Z=0,v3=Is.length;Z<v3;Z++){var e=Is[Z].getValue()/k.sum*It;Is[Z].setLayout({area:e})}if(Ir){Is.length&&v.setLayout({isLeafRoot:true},true);Is.length=0}v.viewChildren=Is;v.setLayout({dataExtent:k.dataExtent},true);return Is}function dd(e,Ir,Z,v2,v){if(!v2){return Z}var Iq=e.get("visibleMin");var v1=v.length;var m=v1;for(var k=v1-1;k>=0;k--){var v3=v[v2==="asc"?v1-k-1:k].getValue();if(v3/Z*Ir<Iq){m=k;Z-=v3}}v2==="asc"?v.splice(0,v1-m):v.splice(m,v1-m);return Z}function fD(e,i){if(i){e.sort(function(m,k){var v=i==="asc"?m.getValue()-k.getValue():k.getValue()-m.getValue();return v===0?(i==="asc"?m.dataIndex-k.dataIndex:k.dataIndex-m.dataIndex):v})}return e}function gg(v3,m,v2){var v=0;for(var k=0,e=m.length;k<e;k++){v+=m[k].getValue()}var v1=v3.get("visualDimension");var Z;if(!m||!m.length){Z=[NaN,NaN]}else{if(v1==="value"&&v2){Z=[m[m.length-1].getValue(),m[0].getValue()];v2==="asc"&&Z.reverse()}else{var Z=[Infinity,-Infinity];t6(m,function(Iq){var i=Iq.getValue(v1);i<Z[0]&&(Z[0]=i);i>Z[1]&&(Z[1]=i)})}}return{sum:v,dataExtent:Z}}function iR(Ir,v3,v2){var k=0;var Iq=Infinity;for(var v=0,e,v1=Ir.length;v<v1;v++){e=Ir[v].getLayout().area;if(e){e<Iq&&(Iq=e);e>k&&(k=e)}}var m=Ir.area*Ir.area;var Z=v3*v3*v2;return m?AP((Z*k)/m,m/(Z*Iq)):Infinity}function vH(Iq,Ir,e,Ix,Iv){var Iy=Ir===e.width?0:1;var IA=1-Iy;var Z=["x","y"];var v3=["width","height"];var Is=e[Z[Iy]];var IB=Ir?Iq.area/Ir:0;if(Iv||IB>e[v3[IA]]){IB=e[v3[IA]]}for(var Iz=0,v1=Iq.length;Iz<v1;Iz++){var Iw=Iq[Iz];var Iu={};var v2=IB?Iw.getLayout().area/IB:0;var m=Iu[v3[IA]]=AP(IB-2*Ix,0);var It=e[Z[Iy]]+e[v3[Iy]]-Is;var k=(Iz===v1-1||It<v2)?It:v2;var v=Iu[v3[Iy]]=AP(k-2*Ix,0);Iu[Z[IA]]=e[Z[IA]]+jw(Ix,m/2);Iu[Z[Iy]]=Is+jw(Ix,v/2);Is+=k;Iw.setLayout(Iu,true)}e[Z[IA]]+=IB;e[v3[IA]]-=IB}function U(It,v2,Z,Iq,Is){var m=(v2||{}).node;var Iv=[Iq,Is];if(!m||m===Z){return Iv}var v3;var Ir=Iq*Is;var Iy=Ir*It.option.zoomToNodeRatio;while(v3=m.parentNode){var k=0;var v=v3.children;for(var Iw=0,Ix=v.length;Iw<Ix;Iw++){k+=v[Iw].getValue()}var v1=m.getValue();if(v1===0){return Iv}Iy*=k/v1;var e=v3.getModel();var IA=e.get(gs);var Iu=Math.max(IA,pA(e,IA));Iy+=4*IA*IA+(3*IA+Iu)*Math.pow(Iy,0.5);Iy>y1&&(Iy=y1);m=v3}Iy<Ir&&(Iy=Ir);var Iz=Math.pow(Iy/Ir,0.5);return[Iq*Iz,Is*Iz]}function HQ(i,v1,m){if(v1){return{x:v1.x,y:v1.y}}var v3={x:0,y:0};if(!m){return v3}var v=m.node;var k=v.getLayout();if(!k){return v3}var Z=[k.width/2,k.height/2];var e=v;while(e){var v2=e.getLayout();Z[0]+=v2.x;Z[1]+=v2.y;e=e.parentNode}return{x:i.width/2-Z[0],y:i.height/2-Z[1]}}function wv(i,v,k,v1,Z){var v2=i.getLayout();var v3=k[Z];var m=v3&&v3===i;if((v3&&!m)||(Z===k.length&&i!==v1)){return}i.setLayout({isInView:true,invisible:!m&&!v.intersect(v2),isAboveViewRoot:m},true);var e=new CL(v.x-v2.x,v.y-v2.y,v.width,v.height);t6(i.viewChildren||[],function(Iq){wv(Iq,e,k,v1,Z+1)})}function pA(e){return e.get(E7)?e.get(uq):0}G(yb);pu(eT);function ir(e){return"_EC_"+e}var hA=function(e){this._directed=e||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var Df=hA.prototype;Df.type="graph";Df.isDirected=function(){return this._directed};Df.addNode=function(m,e){m=m||(""+e);var k=this._nodesMap;if(k[ir(m)]){if(om){console.error("Graph nodes have duplicate name or id")}return}var i=new sR(m,e);i.hostGraph=this;this.nodes.push(i);k[ir(m)]=i;return i};Df.getNodeByIndex=function(e){var i=this.data.getRawIndex(e);return this.nodes[i]};Df.getNodeById=function(e){return this._nodesMap[ir(e)]};Df.addEdge=function(v,m,k){var v1=this._nodesMap;var e=this._edgesMap;if(typeof v==="number"){v=this.nodes[v]}if(typeof m==="number"){m=this.nodes[m]}if(!sR.isInstance(v)){v=v1[ir(v)]}if(!sR.isInstance(m)){m=v1[ir(m)]}if(!v||!m){return}var i=v.id+"-"+m.id;if(e[i]){return}var Z=new iV(v,m,k);Z.hostGraph=this;if(this._directed){v.outEdges.push(Z);m.inEdges.push(Z)}v.edges.push(Z);if(v!==m){m.edges.push(Z)}this.edges.push(Z);e[i]=Z;return Z};Df.getEdgeByIndex=function(e){var i=this.edgeData.getRawIndex(e);return this.edges[i]};Df.getEdge=function(k,i){if(sR.isInstance(k)){k=k.id}if(sR.isInstance(i)){i=i.id}var e=this._edgesMap;if(this._directed){return e[k+"-"+i]}else{return e[k+"-"+i]||e[i+"-"+k]}};Df.eachNode=function(k,Z){var m=this.nodes;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0){k.call(Z,m[v],v)}}};Df.eachEdge=function(k,Z){var m=this.edges;var e=m.length;for(var v=0;v<e;v++){if(m[v].dataIndex>=0&&m[v].node1.dataIndex>=0&&m[v].node2.dataIndex>=0){k.call(Z,m[v],v)}}};Df.breadthFirstTraverse=function(Z,v,Is,k){if(!sR.isInstance(v)){v=this._nodesMap[ir(v)]}if(!v){return}var It=Is==="out"?"outEdges":(Is==="in"?"inEdges":"edges");for(var v3=0;v3<this.nodes.length;v3++){this.nodes[v3].__visited=false}if(Z.call(k,v,null)){return}var Iq=[v];while(Iq.length){var m=Iq.shift();var v2=m[It];for(var v3=0;v3<v2.length;v3++){var Ir=v2[v3];var v1=Ir.node1===m?Ir.node2:Ir.node1;if(!v1.__visited){if(Z.call(k,v1,m)){return}Iq.push(v1);v1.__visited=true}}}};Df.update=function(){var v1=this.data;var Z=this.edgeData;var m=this.nodes;var k=this.edges;for(var v=0,e=m.length;v<e;v++){m[v].dataIndex=-1}for(var v=0,e=v1.count();v<e;v++){m[v1.getRawIndex(v)].dataIndex=v}Z.filterSelf(function(i){var v2=k[Z.getRawIndex(i)];return v2.node1.dataIndex>=0&&v2.node2.dataIndex>=0});for(var v=0,e=k.length;v<e;v++){k[v].dataIndex=-1}for(var v=0,e=Z.count();v<e;v++){k[Z.getRawIndex(v)].dataIndex=v}};Df.clone=function(){var Z=new hA(this._directed);var m=this.nodes;var k=this.edges;for(var v=0;v<m.length;v++){Z.addNode(m[v].id,m[v].dataIndex)}for(var v=0;v<k.length;v++){var v1=k[v];Z.addEdge(v1.node1.id,v1.node2.id,v1.dataIndex)}return Z};function sR(i,e){this.id=i==null?"":i;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=e==null?-1:e}sR.prototype={constructor:sR,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.data.getItemModel(this.dataIndex);return e.getModel(k)}};function iV(k,i,e){this.node1=k;this.node2=i;this.dataIndex=e==null?-1:e}iV.prototype.getModel=function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.edgeData.getItemModel(this.dataIndex);return e.getModel(k)};var HT=function(i,e){return{getValue:function(m){var k=this[i][e];return k.get(k.getDimension(m||"value"),this.dataIndex)},setVisual:function(k,m){this.dataIndex>=0&&this[i][e].setItemVisual(this.dataIndex,k,m)},getVisual:function(m,k){return this[i][e].getItemVisual(this.dataIndex,m,k)},setLayout:function(m,k){this.dataIndex>=0&&this[i][e].setItemLayout(this.dataIndex,m,k)},getLayout:function(){return this[i][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][e].getRawIndex(this.dataIndex)}}};Gu(sR,HT("hostGraph","data"));Gu(iV,HT("hostGraph","edgeData"));hA.Node=sR;hA.Edge=iV;Ab(sR);Ab(iV);var BN=function(Iv,v,Iu,Z,Ir){var k=new hA(Z);for(var Ix=0;Ix<Iv.length;Ix++){k.addNode(gw(Iv[Ix].id,Iv[Ix].name,Ix),Ix)}var v1=[];var v2=[];var It=0;for(var Ix=0;Ix<v.length;Ix++){var Is=v[Ix];var Iw=Is.source;var IA=Is.target;if(k.addEdge(Iw,IA,It)){v2.push(Is);v1.push(gw(Is.id,Iw+" > "+IA));It++}}var Iq=Iu.get("coordinateSystem");var e;if(Iq==="cartesian2d"||Iq==="polar"){e=a(Iv,Iu)}else{var Iz=fB.get(Iq);var v3=(Iz&&Iz.type!=="view")?(Iz.dimensions||[]):[];if(eR(v3,"value")<0){v3.concat(["value"])}var Iy=yA(Iv,{coordDimensions:v3});e=new xw(Iy,Iu);e.initData(Iv)}var m=new xw(["value"],Iu);m.initData(v2,v1);Ir&&Ir(e,m);BO({mainData:e,struct:k,structAttr:"graph",datas:{node:e,edge:m},datasAttr:{node:"data",edge:"edgeData"}});k.update();return k};var uX=B7({type:"series.graph",init:function(e){uX.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeOption:function(e){uX.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(e){uX.superApply(this,"mergeDefaultAndTheme",arguments);DE(e,["edgeLabel"],["show"])},getInitialData:function(Z,e){var m=Z.edges||Z.links||[];var k=Z.data||Z.nodes||[];var i=this;if(k&&m){return BN(k,m,this,true,v).data}function v(Iq,It){Iq.wrapMethod("getItemModel",function(Iu){var Iw=i._categoriesModels;var Ix=Iu.getShallow("category");var Iv=Iw[Ix];if(Iv){Iv.parentModel=Iu.parentModel;Iu.parentModel=Iv}return Iu});var Ir=i.getModel("edgeLabel");var v3=new fx({label:Ir.option},Ir.parentModel,e);var Is=i.getModel("emphasis.edgeLabel");var v2=new fx({emphasis:{label:Is.option}},Is.parentModel,e);It.wrapMethod("getItemModel",function(Iu){Iu.customizeGetParent(v1);return Iu});function v1(Iu){Iu=this.parsePath(Iu);return(Iu&&Iu[0]==="label")?v3:(Iu&&Iu[0]==="emphasis"&&Iu[1]==="label")?v2:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(v2,m,v3){if(v3==="edge"){var e=this.getData();var v=this.getDataParams(v2,v3);var k=e.graph.getEdgeByIndex(v2);var i=e.getName(k.node1.dataIndex);var Z=e.getName(k.node2.dataIndex);var v1=[];i!=null&&v1.push(i);Z!=null&&v1.push(Z);v1=mx(v1.join(" > "));if(v.value){v1+=" : "+mx(v.value)}return v1}else{return uX.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var i=Ej(this.option.categories||[],function(k){return k.value!=null?k:b0({value:0},k)});var e=new xw(["value"],this);e.initData(i);this._categoriesData=e;this._categoriesModels=e.mapArray(function(k){return e.getItemModel(k,true)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return uX.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{label:{show:true}}}});var u5=zG.prototype;var cV=gZ.prototype;function BD(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var Hx=HD({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,i){(BD(i)?u5:cV).buildPath(e,i)},pointAt:function(e){return BD(this.shape)?u5.pointAt.call(this,e):cV.pointAt.call(this,e)},tangentAt:function(i){var e=this.shape;var k=BD(e)?[e.x2-e.x1,e.y2-e.y1]:cV.tangentAt.call(this,i);return wJ(k,k)}});var wM=["fromSymbol","toSymbol"];function jv(e){return"_"+e+"Type"}function Eo(m,v1,i){var k=v1.getItemVisual(i,"color");var Z=v1.getItemVisual(i,m);var v=v1.getItemVisual(i,m+"Size");if(!Z||Z==="none"){return}if(!GL(v)){v=[v,v]}var e=uc(Z,-v[0]/2,-v[1]/2,v[0],v[1],k);e.name=m;return e}function Hs(i){var e=new Hx({name:"line"});FL(e.shape,i);return e}function FL(e,i){var v=i[0];var k=i[1];var m=i[2];e.x1=v[0];e.y1=v[1];e.x2=k[0];e.y2=k[1];e.percent=1;if(m){e.cpx1=m[0];e.cpy1=m[1]}else{e.cpx1=NaN;e.cpy1=NaN}}function jS(){var Iy=this;var e=Iy.childOfName("fromSymbol");var IA=Iy.childOfName("toSymbol");var v2=Iy.childOfName("label");if(!e&&!IA&&v2.ignore){return}var k=1;var v3=this.parent;while(v3){if(v3.scale){k/=v3.scale[0]}v3=v3.parent}var Ir=Iy.childOfName("line");if(!this.__dirty&&!Ir.__dirty){return}var i=Ir.shape.percent;var Ix=Ir.pointAt(0);var Iw=Ir.pointAt(i);var Iz=BR([],Iw,Ix);wJ(Iz,Iz);if(e){e.attr("position",Ix);var Iq=Ir.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(Iq[1],Iq[0]));e.attr("scale",[k*i,k*i])}if(IA){IA.attr("position",Iw);var Iq=Ir.tangentAt(1);IA.attr("rotation",-Math.PI/2-Math.atan2(Iq[1],Iq[0]));IA.attr("scale",[k*i,k*i])}if(!v2.ignore){v2.attr("position",Iw);var v;var Z;var It;var Is=5*k;if(v2.__position==="end"){v=[Iz[0]*Is+Iw[0],Iz[1]*Is+Iw[1]];Z=Iz[0]>0.8?"left":(Iz[0]<-0.8?"right":"center");It=Iz[1]>0.8?"top":(Iz[1]<-0.8?"bottom":"middle")}else{if(v2.__position==="middle"){var m=i/2;var Iq=Ir.tangentAt(m);var Iu=[Iq[1],-Iq[0]];var v1=Ir.pointAt(m);if(Iu[1]>0){Iu[0]=-Iu[0];Iu[1]=-Iu[1]}v=[v1[0]+Iu[0]*Is,v1[1]+Iu[1]*Is];Z="center";It="bottom";var Iv=-Math.atan2(Iq[1],Iq[0]);if(Iw[0]<Ix[0]){Iv=Math.PI+Iv}v2.attr("rotation",Iv)}else{v=[-Iz[0]*Is+Ix[0],-Iz[1]*Is+Ix[1]];Z=Iz[0]>0.8?"right":(Iz[0]<-0.8?"left":"center");It=Iz[1]>0.8?"bottom":(Iz[1]<-0.8?"top":"middle")}}v2.attr({style:{textVerticalAlign:v2.__verticalAlign||It,textAlign:v2.__textAlign||Z},position:v,scale:[k,k]})}}function mO(k,e,i){Cc.call(this);this._createLine(k,e,i)}var lK=mO.prototype;lK.beforeUpdate=jS;lK._createLine=function(v1,e,v){var k=v1.hostModel;var Z=v1.getItemLayout(e);var i=Hs(Z);i.shape.percent=0;jE(i,{shape:{percent:1}},k,e);this.add(i);var m=new iT({name:"label"});this.add(m);pb(wM,function(v2){var v3=Eo(v2,v1,e);this.add(v3);this[jv(v2)]=v1.getItemVisual(e,v2)},this);this._updateCommonStl(v1,e,v)};lK.updateData=function(v1,e,m){var k=v1.hostModel;var i=this.childOfName("line");var Z=v1.getItemLayout(e);var v={shape:{}};FL(v.shape,Z);oU(i,v,k,e);pb(wM,function(v3){var Ir=v1.getItemVisual(e,v3);var v2=jv(v3);if(this[v2]!==Ir){this.remove(this.childOfName(v3));var Iq=Eo(v3,v1,e);this.add(Iq)}this[v2]=Ir},this);this._updateCommonStl(v1,e,m)};lK._updateCommonStl=function(Iv,It,Is){var Iu=Iv.hostModel;var v3=this.childOfName("line");var k=Is&&Is.lineStyle;var Iq=Is&&Is.hoverLineStyle;var v2=Is&&Is.labelModel;var Iy=Is&&Is.hoverLabelModel;if(!Is||Iv.hasItemOption){var Ix=Iv.getItemModel(It);k=Ix.getModel("lineStyle").getLineStyle();Iq=Ix.getModel("emphasis.lineStyle").getLineStyle();v2=Ix.getModel("label");Iy=Ix.getModel("emphasis.label")}var Z=Iv.getItemVisual(It,"color");var v=kc(Iv.getItemVisual(It,"opacity"),k.opacity,1);v3.useStyle(Di({strokeNoScale:true,fill:"none",stroke:Z,opacity:v},k));v3.hoverStyle=Iq;pb(wM,function(IC){var ID=this.childOfName(IC);if(ID){ID.setColor(Z);ID.setStyle({opacity:v})}},this);var Iz=v2.getShallow("show");var m=Iy.getShallow("show");var v1=this.childOfName("label");var Ir;var IB;if(Iz||m){Ir=Z||"#000";IB=Iu.getFormattedLabel(It,"normal",Iv.dataType);if(IB==null){var IA=Iu.getRawValue(It);IB=IA==null?Iv.getName(It):isFinite(IA)?FQ(IA):IA}}var i=Iz?IB:null;var Iw=m?kd(Iu.getFormattedLabel(It,"emphasis",Iv.dataType),IB):null;var e=v1.style;if(i!=null||Iw!=null){pg(v1.style,v2,{text:i},{autoColor:Ir});v1.__textAlign=e.textAlign;v1.__verticalAlign=e.textVerticalAlign;v1.__position=v2.get("position")||"middle"}if(Iw!=null){v1.hoverStyle={text:Iw,textFill:Iy.getTextColor(true),fontStyle:Iy.getShallow("fontStyle"),fontWeight:Iy.getShallow("fontWeight"),fontSize:Iy.getShallow("fontSize"),fontFamily:Iy.getShallow("fontFamily")}}else{v1.hoverStyle={text:null}}v1.ignore=!Iz&&!m;yr(this)};lK.highlight=function(){this.trigger("emphasis")};lK.downplay=function(){this.trigger("normal")};lK.updateLayout=function(i,e){this.setLinePoints(i.getItemLayout(e))};lK.setLinePoints=function(i){var e=this.childOfName("line");FL(e.shape,i);e.dirty()};mt(mO,Cc);function hy(e){this._ctor=e||mO;this.group=new Cc()}var fX=hy.prototype;fX.isPersistent=function(){return true};fX.updateData=function(v){var e=this;var m=e.group;var k=e._lineData;e._lineData=v;if(!k){m.removeAll()}var i=d9(v);v.diff(k).add(function(Z){re(e,v,Z,i)}).update(function(v1,Z){sO(e,k,v,Z,v1,i)}).remove(function(Z){m.remove(k.getItemGraphicEl(Z))}).execute()};function re(i,Z,e,k){var v=Z.getItemLayout(e);if(!e7(v)){return}var m=new i._ctor(Z,e,k);Z.setItemGraphicEl(e,m);i.group.add(m)}function sO(e,v,v1,m,Z,k){var i=v.getItemGraphicEl(m);if(!e7(v1.getItemLayout(Z))){e.group.remove(i);return}if(!i){i=new e._ctor(v1,Z,k)}else{i.updateData(v1,Z,k)}v1.setItemGraphicEl(Z,i);e.group.add(i)}fX.updateLayout=function(){var e=this._lineData;if(!e){return}e.eachItemGraphicEl(function(k,i){k.updateLayout(e,i)},this)};fX.incrementalPrepareUpdate=function(e){this._seriesScope=d9(e);this._lineData=null;this.group.removeAll()};fX.incrementalUpdate=function(v,Z){function i(v1){if(!v1.isGroup){v1.incremental=v1.useHoverLayer=true}}for(var e=v.start;e<v.end;e++){var m=Z.getItemLayout(e);if(e7(m)){var k=new this._ctor(Z,e,this._seriesScope);k.traverse(i);this.group.add(k);Z.setItemGraphicEl(e,k)}}};function d9(i){var e=i.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}fX.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};fX._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};function wL(e){return isNaN(e[0])||isNaN(e[1])}function e7(e){return !wL(e[0])&&!wL(e[1])}var Bt=[];var Bs=[];var Bq=[];var q4=ky;var ry=cl;var kb=Math.abs;function vY(m,e,v2){var Iv=m[0];var Iu=m[1];var Ir=m[2];var v3=Infinity;var Iw;var v1=v2*v2;var k=0.1;for(var It=0.1;It<=0.9;It+=0.1){Bt[0]=q4(Iv[0],Iu[0],Ir[0],It);Bt[1]=q4(Iv[1],Iu[1],Ir[1],It);var Iq=kb(ry(Bt,e)-v1);if(Iq<v3){v3=Iq;Iw=It}}for(var v=0;v<32;v++){var Z=Iw+k;Bs[0]=q4(Iv[0],Iu[0],Ir[0],Iw);Bs[1]=q4(Iv[1],Iu[1],Ir[1],Iw);Bq[0]=q4(Iv[0],Iu[0],Ir[0],Z);Bq[1]=q4(Iv[1],Iu[1],Ir[1],Z);var Iq=ry(Bs,e)-v1;if(kb(Iq)<0.01){break}var Is=ry(Bq,e)-v1;k/=2;if(Iq<0){if(Is>=0){Iw=Iw+k}else{Iw=Iw-k}}else{if(Is>=0){Iw=Iw-k}else{Iw=Iw+k}}}return Iw}var m4=function(v1,i){var Z=[];var v3=EH;var v2=[[],[],[]];var m=[[],[]];var k=[];i/=2;function e(v){var Iq=v.getVisual("symbolSize");if(Iq instanceof Array){Iq=(Iq[0]+Iq[1])/2}return Iq}v1.eachEdge(function(Iu,v){var Iw=Iu.getLayout();var Is=Iu.getVisual("fromSymbol");var Ir=Iu.getVisual("toSymbol");if(!Iw.__original){Iw.__original=[uV(Iw[0]),uV(Iw[1])];if(Iw[2]){Iw.__original.push(uV(Iw[2]))}}var Iq=Iw.__original;if(Iw[2]!=null){yM(v2[0],Iq[0]);yM(v2[1],Iq[2]);yM(v2[2],Iq[1]);if(Is&&Is!=="none"){var Iv=e(Iu.node1);var It=vY(v2,Iq[0],Iv*i);v3(v2[0][0],v2[1][0],v2[2][0],It,Z);v2[0][0]=Z[3];v2[1][0]=Z[4];v3(v2[0][1],v2[1][1],v2[2][1],It,Z);v2[0][1]=Z[3];v2[1][1]=Z[4]}if(Ir&&Ir!=="none"){var Iv=e(Iu.node2);var It=vY(v2,Iq[1],Iv*i);v3(v2[0][0],v2[1][0],v2[2][0],It,Z);v2[1][0]=Z[1];v2[2][0]=Z[2];v3(v2[0][1],v2[1][1],v2[2][1],It,Z);v2[1][1]=Z[1];v2[2][1]=Z[2]}yM(Iw[0],v2[0]);yM(Iw[1],v2[2]);yM(Iw[2],v2[1])}else{yM(m[0],Iq[0]);yM(m[1],Iq[1]);BR(k,m[1],m[0]);wJ(k,k);if(Is&&Is!=="none"){var Iv=e(Iu.node1);Ba(m[0],m[0],k,Iv*i)}if(Ir&&Ir!=="none"){var Iv=e(Iu.node2);Ba(m[1],m[1],k,-Iv*i)}yM(Iw[0],m[0]);yM(Iw[1],m[1])}})};var kM=["itemStyle","opacity"];var Eg=["lineStyle","opacity"];function ff(i,e){return i.getVisual("opacity")||i.getModel().get(e)}function a6(m,k,v){var i=m.getGraphicEl();var e=ff(m,k);if(v!=null){e==null&&(e=1);e*=v}i.downplay&&i.downplay();i.traverse(function(Z){if(Z.type!=="group"){Z.setStyle("opacity",e)}})}function HW(m,k){var e=ff(m,k);var i=m.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}})}BP({type:"graph",init:function(e,m){var k=new Fd();var i=new hy();var v=this.group;this._controller=new ad(m.getZr());this._controllerHost={target:v};v.add(k.group);v.add(i.group);this._symbolDraw=k;this._lineDraw=i;this._firstRender=true},render:function(k,v1,v2){var v=k.coordinateSystem;this._model=k;this._nodeScaleRatio=k.get("nodeScaleRatio");var e=this._symbolDraw;var Iq=this._lineDraw;var It=this.group;if(v.type==="view"){var Ir={position:v.position,scale:v.scale};if(this._firstRender){It.attr(Ir)}else{oU(It,Ir,k)}}m4(k.getGraph(),this._getNodeGlobalScale(k));var Z=k.getData();e.updateData(Z);var v3=k.getEdgeData();Iq.updateData(v3);this._updateNodeAndLinkScale();this._updateController(k,v1,v2);clearTimeout(this._layoutTimeout);var Is=k.forceLayout;var Iv=k.get("force.layoutAnimation");if(Is){this._startForceLayoutIteration(Is,Iv)}Z.eachItemGraphicEl(function(Iz,Ix){var Iy=Z.getItemModel(Ix);Iz.off("drag").off("dragend");var Iw=Iy.get("draggable");if(Iw){Iz.on("drag",function(){if(Is){Is.warmUp();!this._layouting&&this._startForceLayoutIteration(Is,Iv);Is.setFixed(Ix);Z.setItemLayout(Ix,Iz.position)}},this).on("dragend",function(){if(Is){Is.setUnfixed(Ix)}},this)}Iz.setDraggable(Iw&&Is);Iz.off("mouseover",Iz.__focusNodeAdjacency);Iz.off("mouseout",Iz.__unfocusNodeAdjacency);if(Iy.get("focusNodeAdjacency")){Iz.on("mouseover",Iz.__focusNodeAdjacency=function(){v2.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,dataIndex:Iz.dataIndex})});Iz.on("mouseout",Iz.__unfocusNodeAdjacency=function(){v2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}},this);Z.graph.eachEdge(function(Ix){var Iw=Ix.getGraphicEl();Iw.off("mouseover",Iw.__focusNodeAdjacency);Iw.off("mouseout",Iw.__unfocusNodeAdjacency);if(Ix.getModel().get("focusNodeAdjacency")){Iw.on("mouseover",Iw.__focusNodeAdjacency=function(){v2.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,edgeDataIndex:Ix.dataIndex})});Iw.on("mouseout",Iw.__unfocusNodeAdjacency=function(){v2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}});var Iu=k.get("layout")==="circular"&&k.get("circular.rotateLabel");var m=Z.getLayout("cx");var i=Z.getLayout("cy");Z.eachItemGraphicEl(function(Iz,Iy){var Ix=Iz.getSymbolPath();if(Iu){var IC=Z.getItemLayout(Iy);var Iw=Math.atan2(IC[1]-i,IC[0]-m);if(Iw<0){Iw=Math.PI*2+Iw}var IB=IC[0]<m;if(IB){Iw=Iw-Math.PI}var IA=IB?"left":"right";Ix.setStyle({textRotation:-Iw,textPosition:IA,textOrigin:"center"});Ix.hoverStyle&&(Ix.hoverStyle.textPosition=IA)}else{Ix.setStyle({textRotation:0})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(k,v,Z,v3){var m=this._model.getData();var Iq=m.graph;var v1=v3.dataIndex;var v2=v3.edgeDataIndex;var i=Iq.getNodeByIndex(v1);var e=Iq.getEdgeByIndex(v2);if(!i&&!e){return}Iq.eachNode(function(Ir){a6(Ir,kM,0.1)});Iq.eachEdge(function(Ir){a6(Ir,Eg,0.1)});if(i){HW(i,kM);pb(i.edges,function(Ir){if(Ir.dataIndex<0){return}HW(Ir,Eg);HW(Ir.node1,kM);HW(Ir.node2,kM)})}if(e){HW(e,Eg);HW(e.node1,kM);HW(e.node2,kM)}},unfocusNodeAdjacency:function(i,e,k,v){var m=this._model.getData().graph;m.eachNode(function(Z){a6(Z,kM)});m.eachEdge(function(Z){a6(Z,Eg)})},_startForceLayoutIteration:function(m,k){var e=this;(function i(){m.step(function(v){e.updateLayout(e._model);(e._layouting=!v)&&(k?(e._layoutTimeout=setTimeout(i,16)):i())})})()},_updateController:function(k,e,m){var i=this._controller;var Z=this._controllerHost;var v=this.group;i.setPointerChecker(function(v3,v1,Iq){var v2=v.getBoundingRect();v2.applyTransform(v.transform);return v2.contain(v1,Iq)&&!CW(v3,m,k)});if(k.coordinateSystem.type!=="view"){i.disable();return}i.enable(k.get("roam"));Z.zoomLimit=k.get("scaleLimit");Z.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(v1){FV(Z,v1.dx,v1.dy);m.dispatchAction({seriesId:k.id,type:"graphRoam",dx:v1.dx,dy:v1.dy})}).on("zoom",function(v1){zJ(Z,v1.scale,v1.originX,v1.originY);m.dispatchAction({seriesId:k.id,type:"graphRoam",zoom:v1.scale,originX:v1.originX,originY:v1.originY});this._updateNodeAndLinkScale();m4(k.getGraph(),this._getNodeGlobalScale(k));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var e=this._model;var m=e.getData();var i=this._getNodeGlobalScale(e);var k=[i,i];m.eachItemGraphicEl(function(Z,v){Z.attr("scale",k)})},_getNodeGlobalScale:function(k){var m=k.coordinateSystem;if(m.type!=="view"){return 1}var v1=this._nodeScaleRatio;var i=m.scale;var e=(i&&i[0])||1;var Z=m.getZoom();var v=(Z-1)*v1+1;return v/e},updateLayout:function(e){m4(e.getGraph(),this._getNodeGlobalScale(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});b1({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){});b1({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});var bF={type:"graphRoam",event:"graphRoam",update:"none"};b1(bF,function(i,e){e.eachComponent({mainType:"series",query:i},function(k){var v=k.coordinateSystem;var m=bD(v,i);k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom)})});var cR=function(e){var i=e.findComponents({mainType:"legend"});if(!i||!i.length){return}e.eachSeriesByType("graph",function(v1){var k=v1.getCategoriesData();var Z=v1.getGraph();var v=Z.data;var m=k.mapArray(k.getName);v.filterSelf(function(v2){var v3=v.getItemModel(v2);var Ir=v3.getShallow("category");if(Ir!=null){if(typeof Ir==="number"){Ir=m[Ir]}for(var Iq=0;Iq<i.length;Iq++){if(!i[Iq].isSelected(Ir)){return false}}}return true})},this)};var gq=function(e){var i={};e.eachSeriesByType("graph",function(v){var k=v.getCategoriesData();var Z=v.getData();var m={};k.each(function(v1){var v3=k.getName(v1);m["ec-"+v3]=v1;var Iq=k.getItemModel(v1);var v2=Iq.get("itemStyle.color")||v.getColorFromPalette(v3,i);k.setItemVisual(v1,"color",v2)});if(k.count()){Z.each(function(v1){var v2=Z.getItemModel(v1);var v3=v2.getShallow("category");if(v3!=null){if(typeof v3==="string"){v3=m["ec-"+v3]}if(!Z.getItemVisual(v1,"color",true)){Z.setItemVisual(v1,"color",k.getItemVisual(v3,"color"))}}})}})};function lx(e){if(!(e instanceof Array)){e=[e,e]}return e}var hV=function(e){e.eachSeriesByType("graph",function(k){var v1=k.getGraph();var v=k.getEdgeData();var v2=lx(k.get("edgeSymbol"));var Z=lx(k.get("edgeSymbolSize"));var m="lineStyle.color".split(".");var i="lineStyle.opacity".split(".");v.setVisual("fromSymbol",v2&&v2[0]);v.setVisual("toSymbol",v2&&v2[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("color",k.get(m));v.setVisual("opacity",k.get(i));v.each(function(v3){var Is=v.getItemModel(v3);var It=v1.getEdgeByIndex(v3);var Iv=lx(Is.getShallow("symbol",true));var Iu=lx(Is.getShallow("symbolSize",true));var Iq=Is.get(m);var Ir=Is.get(i);switch(Iq){case"source":Iq=It.node1.getVisual("color");break;case"target":Iq=It.node2.getVisual("color");break}Iv[0]&&It.setVisual("fromSymbol",Iv[0]);Iv[1]&&It.setVisual("toSymbol",Iv[1]);Iu[0]&&It.setVisual("fromSymbolSize",Iu[0]);Iu[1]&&It.setVisual("toSymbolSize",Iu[1]);It.setVisual("color",Iq);It.setVisual("opacity",Ir)})})};function zl(e){var i=e.coordinateSystem;if(i&&i.type!=="view"){return}var k=e.getGraph();k.eachNode(function(v){var m=v.getModel();v.setLayout([+m.get("x"),+m.get("y")])});Gp(k)}function Gp(e){e.eachEdge(function(m){var i=m.getModel().get("lineStyle.curveness")||0;var Z=uV(m.node1.getLayout());var v=uV(m.node2.getLayout());var k=[Z,v];if(+i){k.push([(Z[0]+v[0])/2-(Z[1]-v[1])*i,(Z[1]+v[1])/2-(v[0]-Z[0])*i])}m.setLayout(k)})}var gx=function(e,i){e.eachSeriesByType("graph",function(v){var v3=v.get("layout");var Z=v.coordinateSystem;if(Z&&Z.type!=="view"){var v2=v.getData();var k=[];pb(Z.dimensions,function(It){k=k.concat(v2.mapDimension(It,true))});for(var Iq=0;Iq<v2.count();Iq++){var Ir=[];var Is=false;for(var v1=0;v1<k.length;v1++){var m=v2.get(k[v1],Iq);if(!isNaN(m)){Is=true}Ir.push(m)}if(Is){v2.setItemLayout(Iq,Z.dataToPoint(Ir))}else{v2.setItemLayout(Iq,[NaN,NaN])}}Gp(v2.graph)}else{if(!v3||v3==="none"){zl(v)}}})};function kL(v){var v1=v.coordinateSystem;if(v1&&v1.type!=="view"){return}var Iq=v1.getBoundingRect();var i=v.getData();var Ir=i.graph;var m=0;var v3=i.getSum("value");var v2=Math.PI*2/(v3||i.count());var Z=Iq.width/2+Iq.x;var k=Iq.height/2+Iq.y;var e=Math.min(Iq.width,Iq.height)/2;Ir.eachNode(function(Is){var It=Is.getValue("value");m+=v2*(v3?It:1)/2;Is.setLayout([e*Math.cos(m)+Z,e*Math.sin(m)+k]);m+=v2*(v3?It:1)/2});i.setLayout({cx:Z,cy:k});Ir.eachEdge(function(Iu){var It=Iu.getModel().get("lineStyle.curveness")||0;var Iy=uV(Iu.node1.getLayout());var Iw=uV(Iu.node2.getLayout());var Ix;var Iv=(Iy[0]+Iw[0])/2;var Is=(Iy[1]+Iw[1])/2;if(+It){It*=3;Ix=[Z*It+Iv*(1-It),k*It+Is*(1-It)]}Iu.setLayout([Iy,Iw,Ix])})}var s2=function(e){e.eachSeriesByType("graph",function(i){if(i.get("layout")==="circular"){kL(i)}})};var vD=Ba;function DO(m,v2,e){var Iq=e.rect;var v=Iq.width;var Ir=Iq.height;var k=[Iq.x+v/2,Iq.y+Ir/2];var Is=e.gravity==null?0.1:e.gravity;for(var v3=0;v3<m.length;v3++){var Z=m[v3];if(!Z.p){Z.p=Hd(v*(Math.random()-0.5)+k[0],Ir*(Math.random()-0.5)+k[1])}Z.pp=uV(Z.p);Z.edges=null}var v1=0.6;return{warmUp:function(){v1=0.5},setFixed:function(i){m[i].fixed=true},setUnfixed:function(i){m[i].fixed=false},step:function(Iu){var Ix=[];var IF=m.length;for(var Iy=0;Iy<v2.length;Iy++){var IA=v2[Iy];var IB=IA.n1;var Iz=IA.n2;BR(Ix,Iz.p,IB.p);var IC=ez(Ix)-IA.d;var ID=Iz.w/(IB.w+Iz.w);if(isNaN(ID)){ID=0}wJ(Ix,Ix);!IB.fixed&&vD(IB.p,IB.p,Ix,ID*IC*v1);!Iz.fixed&&vD(Iz.p,Iz.p,Ix,-(1-ID)*IC*v1)}for(var Iy=0;Iy<IF;Iy++){var It=m[Iy];if(!It.fixed){BR(Ix,k,It.p);vD(It.p,It.p,Ix,Is*v1)}}for(var Iy=0;Iy<IF;Iy++){var IB=m[Iy];for(var Iv=Iy+1;Iv<IF;Iv++){var Iz=m[Iv];BR(Ix,Iz.p,IB.p);var IC=ez(Ix);if(IC===0){GR(Ix,Math.random()-0.5,Math.random()-0.5);IC=1}var Iw=(IB.rep+Iz.rep)/IC/IC;!IB.fixed&&vD(IB.pp,IB.pp,Ix,Iw);!Iz.fixed&&vD(Iz.pp,Iz.pp,Ix,-Iw)}}var IE=[];for(var Iy=0;Iy<IF;Iy++){var It=m[Iy];if(!It.fixed){BR(IE,It.p,It.pp);vD(It.p,It.p,IE,v1);yM(It.pp,It.p)}}v1=v1*0.992;Iu&&Iu(m,v2,v1<0.01)}}}var yz=function(e){e.eachSeriesByType("graph",function(Iv){var v2=Iv.coordinateSystem;if(v2&&v2.type!=="view"){return}if(Iv.get("layout")==="force"){var v3=Iv.preservedPoints||{};var Iy=Iv.getGraph();var k=Iy.data;var Iu=Iy.edgeData;var Ir=Iv.getModel("force");var It=Ir.get("initLayout");if(Iv.preservedPoints){k.each(function(Iz){var IA=k.getId(Iz);k.setItemLayout(Iz,v3[IA]||[NaN,NaN])})}else{if(!It||It==="none"){zl(Iv)}else{if(It==="circular"){kL(Iv)}}}var Z=k.getDataExtent("value");var Is=Iu.getDataExtent("value");var Ix=Ir.get("repulsion");var v=Ir.get("edgeLength");if(!GL(Ix)){Ix=[Ix,Ix]}if(!GL(v)){v=[v,v]}v=[v[1],v[0]];var i=k.mapArray("value",function(IC,IA){var Iz=k.getItemLayout(IA);var IB=EU(IC,Z,Ix);if(isNaN(IB)){IB=(Ix[0]+Ix[1])/2}return{w:IB,rep:IB,fixed:k.getItemModel(IA).get("fixed"),p:(!Iz||isNaN(Iz[0])||isNaN(Iz[1]))?null:Iz}});var v1=Iu.mapArray("value",function(IB,Iz){var IA=Iy.getEdgeByIndex(Iz);var IC=EU(IB,Is,v);if(isNaN(IC)){IC=(v[0]+v[1])/2}return{n1:i[IA.node1.dataIndex],n2:i[IA.node2.dataIndex],d:IC,curveness:IA.getModel().get("lineStyle.curveness")||0}});var v2=Iv.coordinateSystem;var Iw=v2.getBoundingRect();var Iq=DO(i,v1,{rect:Iw,gravity:Ir.get("gravity")});var m=Iq.step;Iq.step=function(Iz){for(var IB=0,IA=i.length;IB<IA;IB++){if(i[IB].fixed){yM(i[IB].p,Iy.getNodeByIndex(IB).getLayout())}}m(function(ID,IG,IC){for(var IH=0,IF=ID.length;IH<IF;IH++){if(!ID[IH].fixed){Iy.getNodeByIndex(IH).setLayout(ID[IH].p)}v3[k.getId(IH)]=ID[IH].p}for(var IH=0,IF=IG.length;IH<IF;IH++){var II=IG[IH];var IE=Iy.getEdgeByIndex(IH);var IL=II.n1.p;var IK=II.n2.p;var IJ=IE.getLayout();IJ=IJ?IJ.slice():[];IJ[0]=IJ[0]||[];IJ[1]=IJ[1]||[];yM(IJ[0],IL);yM(IJ[1],IK);if(+II.curveness){IJ[2]=[(IL[0]+IK[0])/2-(IL[1]-IK[1])*II.curveness,(IL[1]+IK[1])/2-(IK[0]-IL[0])*II.curveness]}IE.setLayout(IJ)}Iz&&Iz(IC)})};Iv.forceLayout=Iq;Iv.preservedPoints=v3;Iq.step()}else{Iv.forceLayout=null}})};function rW(i,m,e){var k=i.getBoxLayoutParams();k.aspect=e;return kX(k,{width:m.getWidth(),height:m.getHeight()})}var aP=function(e,k){var i=[];e.eachSeriesByType("graph",function(v2){var Iw=v2.get("coordinateSystem");if(!Iw||Iw==="view"){var Iq=v2.getData();var Ir=Iq.mapArray(function(Ix){var Iy=Iq.getItemModel(Ix);return[+Iy.get("x"),+Iy.get("y")]});var v3=[];var Iv=[];oK(Ir,v3,Iv);if(Iv[0]-v3[0]===0){Iv[0]+=1;v3[0]-=1}if(Iv[1]-v3[1]===0){Iv[1]+=1;v3[1]-=1}var v=(Iv[0]-v3[0])/(Iv[1]-v3[1]);var It=rW(v2,k,v);if(isNaN(v)){v3=[It.x,It.y];Iv=[It.x+It.width,It.y+It.height]}var m=Iv[0]-v3[0];var Iu=Iv[1]-v3[1];var Is=It.width;var v1=It.height;var Z=v2.coordinateSystem=new Cp();Z.zoomLimit=v2.get("scaleLimit");Z.setBoundingRect(v3[0],v3[1],m,Iu);Z.setViewRect(It.x,It.y,Is,v1);Z.setCenter(v2.get("center"));Z.setZoom(v2.get("zoom"));i.push(Z)}});return i};ec(cR);G(mn("graph","circle",null));G(gq);G(hV);pu(gx);pu(s2);pu(yz);wC("graphView",{create:aP});var J=nW.extend({type:"series.gauge",getInitialData:function(i,e){var k=i.data||[];if(!GL(k)){k=[k]}i.data=k;return xl(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var xV=mo.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(v3,v){var Z=Math.cos;var m=Math.sin;var e=v.r;var i=v.width;var k=v.angle;var v2=v.x-Z(k)*i*(i>=e/3?1:2);var v1=v.y-m(k)*i*(i>=e/3?1:2);k=v.angle-Math.PI/2;v3.moveTo(v2,v1);v3.lineTo(v.x+Z(k)*i,v.y+m(k)*i);v3.lineTo(v.x+Z(v.angle)*e,v.y+m(v.angle)*e);v3.lineTo(v.x-Z(k)*i,v.y-m(k)*i);v3.lineTo(v2,v1);return}});function lV(v,v1){var i=v.get("center");var k=v1.getWidth();var v2=v1.getHeight();var v3=Math.min(k,v2);var Z=zS(i[0],v1.getWidth());var m=zS(i[1],v1.getHeight());var e=zS(v.get("radius"),v3/2);return{cx:Z,cy:m,r:e}}function gm(e,i){if(i){if(typeof i==="string"){e=i.replace("{value}",e!=null?e:"")}else{if(typeof i==="function"){e=i(e)}}}return e}var G3=Math.PI*2;var sY=dG.extend({type:"gauge",render:function(k,i,v){this.group.removeAll();var m=k.get("axisLine.lineStyle.color");var e=lV(k,v);this._renderMain(k,i,v,m,e)},dispose:function(){},_renderMain:function(v3,IA,v1,v2,Z){var v=this.group;var m=v3.getModel("axisLine");var Ir=m.getModel("lineStyle");var Iy=v3.get("clockwise");var Iv=-v3.get("startAngle")/180*Math.PI;var It=-v3.get("endAngle")/180*Math.PI;var Iq=(It-Iv)%G3;var Ix=Iv;var Is=Ir.get("width");for(var Iw=0;Iw<v2.length;Iw++){var e=Math.min(Math.max(v2[Iw][0],0),1);var It=Iv+Iq*e;var Iu=new tA({shape:{startAngle:Ix,endAngle:It,cx:Z.cx,cy:Z.cy,clockwise:Iy,r0:Z.r-Is,r:Z.r},silent:true});Iu.setStyle({fill:v2[Iw][1]});Iu.setStyle(Ir.getLineStyle(["color","borderWidth","borderColor"]));v.add(Iu);Ix=It}var k=function(IC){if(IC<=0){return v2[0][1]}for(var IB=0;IB<v2.length;IB++){if(v2[IB][0]>=IC&&(IB===0?0:v2[IB-1][0])<IC){return v2[IB][1]}}return v2[IB-1][1]};if(!Iy){var Iz=Iv;Iv=It;It=Iz}this._renderTicks(v3,IA,v1,k,Z,Iv,It,Iy);this._renderPointer(v3,IA,v1,k,Z,Iv,It,Iy);this._renderTitle(v3,IA,v1,k,Z);this._renderDetail(v3,IA,v1,k,Z)},_renderTicks:function(ID,IQ,IA,m,Ix,IH,IE,IK){var Iv=this.group;var k=Ix.cx;var e=Ix.cy;var IC=Ix.r;var IM=+ID.get("min");var Iu=+ID.get("max");var IP=ID.getModel("splitLine");var IN=ID.getModel("axisTick");var Iw=ID.getModel("axisLabel");var v3=ID.get("splitNumber");var v1=IN.get("splitNumber");var IJ=zS(IP.get("length"),IC);var Iy=zS(IN.get("length"),IC);var IL=IH;var Ir=(IE-IH)/v3;var IO=Ir/v1;var IB=IP.getModel("lineStyle").getLineStyle();var Iq=IN.getModel("lineStyle").getLineStyle();for(var II=0;II<=v3;II++){var v2=Math.cos(IL);var Z=Math.sin(IL);if(IP.get("show")){var It=new zG({shape:{x1:v2*IC+k,y1:Z*IC+e,x2:v2*(IC-IJ)+k,y2:Z*(IC-IJ)+e},style:IB,silent:true});if(IB.stroke==="auto"){It.setStyle({stroke:m(II/v3)})}Iv.add(It)}if(Iw.get("show")){var Is=gm(FQ(II/v3*(Iu-IM)+IM),Iw.get("formatter"));var v=Iw.get("distance");var IF=m(II/v3);Iv.add(new iT({style:pg({},Iw,{text:Is,x:v2*(IC-IJ-v)+k,y:Z*(IC-IJ-v)+e,textVerticalAlign:Z<-0.4?"top":(Z>0.4?"bottom":"middle"),textAlign:v2<-0.4?"left":(v2>0.4?"right":"center")},{autoColor:IF}),silent:true}))}if(IN.get("show")&&II!==v3){for(var IG=0;IG<=v1;IG++){var v2=Math.cos(IL);var Z=Math.sin(IL);var Iz=new zG({shape:{x1:v2*IC+k,y1:Z*IC+e,x2:v2*(IC-Iy)+k,y2:Z*(IC-Iy)+e},silent:true,style:Iq});if(Iq.stroke==="auto"){Iz.setStyle({stroke:m((II+IG/v1)/v3)})}Iv.add(Iz);IL+=IO}IL-=IO}else{IL+=Ir}}},_renderPointer:function(k,v1,v2,Iu,m,Iq,i,e){var It=this.group;var Z=this._data;if(!k.get("pointer.show")){Z&&Z.eachItemGraphicEl(function(Iv){It.remove(Iv)});return}var Ir=[+k.get("min"),+k.get("max")];var Is=[Iq,i];var v=k.getData();var v3=v.mapDimension("value");v.diff(Z).add(function(Iv){var Iw=new xV({shape:{angle:Iq}});jE(Iw,{shape:{angle:EU(v.get(v3,Iv),Ir,Is,true)}},k);It.add(Iw);v.setItemGraphicEl(Iv,Iw)}).update(function(Iw,Iv){var Ix=Z.getItemGraphicEl(Iv);oU(Ix,{shape:{angle:EU(v.get(v3,Iw),Ir,Is,true)}},k);It.add(Ix);v.setItemGraphicEl(Iw,Ix)}).remove(function(Iv){var Iw=Z.getItemGraphicEl(Iv);It.remove(Iw)}).execute();v.eachItemGraphicEl(function(Iy,Iv){var Ix=v.getItemModel(Iv);var Iw=Ix.getModel("pointer");Iy.setShape({x:m.cx,y:m.cy,width:zS(Iw.get("width"),m.r),r:zS(Iw.get("length"),m.r)});Iy.useStyle(Ix.getModel("itemStyle").getItemStyle());if(Iy.style.fill==="auto"){Iy.setStyle("fill",Iu(EU(v.get(v3,Iv),Ir,[0,1],true)))}yr(Iy,Ix.getModel("emphasis.itemStyle").getItemStyle())});this._data=v},_renderTitle:function(k,Z,v1,It,m){var v=k.getData();var v2=v.mapDimension("value");var e=k.getModel("title");if(e.get("show")){var i=e.get("offsetCenter");var Iq=m.cx+zS(i[0],m.r);var v3=m.cy+zS(i[1],m.r);var Is=+k.get("min");var Iu=+k.get("max");var Ir=k.getData().get(v2,0);var Iv=It(EU(Ir,[Is,Iu],[0,1],true));this.group.add(new iT({silent:true,style:pg({},e,{x:Iq,y:v3,text:v.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:Iv,forceRich:true})}))}},_renderDetail:function(k,Z,v1,Iu,m){var v2=k.getModel("detail");var Is=+k.get("min");var Iv=+k.get("max");if(v2.get("show")){var i=v2.get("offsetCenter");var Iq=m.cx+zS(i[0],m.r);var v3=m.cy+zS(i[1],m.r);var e=zS(v2.get("width"),m.r);var It=zS(v2.get("height"),m.r);var v=k.getData();var Ir=v.get(v.mapDimension("value"),0);var Iw=Iu(EU(Ir,[Is,Iv],[0,1],true));this.group.add(new iT({silent:true,style:pg({},v2,{x:Iq,y:v3,text:gm(Ir,v2.get("formatter")),textWidth:isNaN(e)?null:e,textHeight:isNaN(It)?null:It,textAlign:"center",textVerticalAlign:"middle"},{autoColor:Iw,forceRich:true})}))}}});var iw=B7({type:"series.funnel",init:function(e){iw.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(e)},getInitialData:function(i,e){return xl(this,["value"])},_defaultLabelLine:function(i){DE(i,"labelLine",["show"]);var e=i.labelLine;var k=i.emphasis.labelLine;e.show=e.show&&i.label.show;k.show=k.show&&i.emphasis.label.show},getDataParams:function(e){var k=this.getData();var m=iw.superCall(this,"getDataParams",e);var v=k.mapDimension("value");var i=k.getSum(v);m.percent=!i?0:+(k.get(v,e)/i*100).toFixed(2);m.$vars.push("percent");return m},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}}}});function ah(v,k){Cc.call(this);var m=new ic();var v1=new Ac();var Z=new iT();this.add(m);this.add(v1);this.add(Z);this.updateData(v,k,true);function i(){v1.ignore=v1.hoverIgnore;Z.ignore=Z.hoverIgnore}function e(){v1.ignore=v1.normalIgnore;Z.ignore=Z.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var I=ah.prototype;var nd=["itemStyle","opacity"];I.updateData=function(k,v2,Z){var v1=this.childAt(0);var e=k.hostModel;var Iq=k.getItemModel(v2);var m=k.getItemLayout(v2);var v=k.getItemModel(v2).get(nd);v=v==null?1:v;v1.useStyle({});if(Z){v1.setShape({points:m.points});v1.setStyle({opacity:0});jE(v1,{style:{opacity:v}},e,v2)}else{oU(v1,{style:{opacity:v},shape:{points:m.points}},e,v2)}var i=Iq.getModel("itemStyle");var v3=k.getItemVisual(v2,"color");v1.setStyle(Di({lineJoin:"round",fill:v3},i.getItemStyle(["opacity"])));v1.hoverStyle=i.getModel("emphasis").getItemStyle();this._updateLabel(k,v2);yr(this)};I._updateLabel=function(Z,v3){var v=this.childAt(1);var i=this.childAt(2);var k=Z.hostModel;var Ir=Z.getItemModel(v3);var v2=Z.getItemLayout(v3);var It=v2.label;var Iq=Z.getItemVisual(v3,"color");oU(v,{shape:{points:It.linePoints||It.linePoints}},k,v3);oU(i,{style:{x:It.x,y:It.y}},k,v3);i.attr({rotation:It.rotation,origin:[It.x,It.y],z2:10});var Is=Ir.getModel("label");var v1=Ir.getModel("emphasis.label");var m=Ir.getModel("labelLine");var e=Ir.getModel("emphasis.labelLine");var Iq=Z.getItemVisual(v3,"color");BH(i.style,i.hoverStyle={},Is,v1,{labelFetcher:Z.hostModel,labelDataIndex:v3,defaultText:Z.getName(v3),autoColor:Iq,useInsideStyle:!!It.inside},{textAlign:It.textAlign,textVerticalAlign:It.verticalAlign});i.ignore=i.normalIgnore=!Is.get("show");i.hoverIgnore=!v1.get("show");v.ignore=v.normalIgnore=!m.get("show");v.hoverIgnore=!e.get("show");v.setStyle({stroke:Iq});v.setStyle(m.getModel("lineStyle").getLineStyle());v.hoverStyle=e.getModel("lineStyle").getLineStyle()};mt(ah,Cc);var xE=dG.extend({type:"funnel",render:function(i,e,k){var m=i.getData();var Z=this._data;var v=this.group;m.diff(Z).add(function(v1){var v2=new ah(m,v1);m.setItemGraphicEl(v1,v2);v.add(v2)}).update(function(v3,v2){var v1=Z.getItemGraphicEl(v2);v1.updateData(m,v3);v.add(v1);m.setItemGraphicEl(v3,v1)}).remove(function(v1){var v2=Z.getItemGraphicEl(v1);v.remove(v2)}).execute();this._data=m},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function rV(e,i){return kX(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function ny(Z,v){var v3=Z.mapDimension("value");var k=Z.mapArray(v3,function(i){return i});var v2=[];var v1=v==="ascending";for(var m=0,e=Z.count();m<e;m++){v2[m]=m}if(typeof v==="function"){v2.sort(v)}else{if(v!=="none"){v2.sort(function(Iq,i){return v1?k[Iq]-k[i]:k[i]-k[Iq]})}}return v2}function zu(e){e.each(function(Iv){var Ix=e.getItemModel(Iv);var Iy=Ix.getModel("label");var v2=Iy.get("position");var v=Ix.getModel("labelLine");var v3=e.getItemLayout(Iv);var Iw=v3.points;var Iq=v2==="inner"||v2==="inside"||v2==="center";var m;var v1;var Z;var It;if(Iq){v1=(Iw[0][0]+Iw[1][0]+Iw[2][0]+Iw[3][0])/4;Z=(Iw[0][1]+Iw[1][1]+Iw[2][1]+Iw[3][1])/4;m="center";It=[[v1,Z],[v1,Z]]}else{var k;var Is;var i;var Iu=v.get("length");if(v2==="left"){k=(Iw[3][0]+Iw[0][0])/2;Is=(Iw[3][1]+Iw[0][1])/2;i=k-Iu;v1=i-5;m="right"}else{k=(Iw[1][0]+Iw[2][0])/2;Is=(Iw[1][1]+Iw[2][1])/2;i=k+Iu;v1=i+5;m="left"}var Ir=Is;It=[[k,Is],[i,Ir]];Z=Ir}v3.label={linePoints:It,x:v1,y:Z,verticalAlign:"middle",textAlign:m,inside:Iq}})}var hF=function(e,i,k){e.eachSeriesByType("funnel",function(Iv){var IF=Iv.getData();var v=IF.mapDimension("value");var ID=Iv.get("sort");var IA=rV(Iv,i);var v2=ny(IF,ID);var Iq=[zS(Iv.get("minSize"),IA.width),zS(Iv.get("maxSize"),IA.width)];var Iw=IF.getDataExtent(v);var Ix=Iv.get("min");var IB=Iv.get("max");if(Ix==null){Ix=Math.min(Iw[0],0)}if(IB==null){IB=Iw[1]}var m=Iv.get("funnelAlign");var Iu=Iv.get("gap");var Iy=(IA.height-Iu*(IF.count()-1))/IF.count();var v3=IA.y;var Is=function(IH,IG){var IK=IF.get(v,IH)||0;var IJ=EU(IK,[Ix,IB],Iq,true);var II;switch(m){case"left":II=IA.x;break;case"center":II=IA.x+(IA.width-IJ)/2;break;case"right":II=IA.x+IA.width-IJ;break}return[[II,IG],[II+IJ,IG]]};if(ID==="ascending"){Iy=-Iy;Iu=-Iu;v3+=IA.height;v2=v2.reverse()}for(var IC=0;IC<v2.length;IC++){var Ir=v2[IC];var IE=v2[IC+1];var Iz=IF.getItemModel(Ir);var It=Iz.get("itemStyle.height");if(It==null){It=Iy}else{It=zS(It,IA.height);if(ID==="ascending"){It=-It}}var v1=Is(Ir,v3);var Z=Is(IE,v3+It);v3+=It+Iu;IF.setItemLayout(Ir,{points:v1.concat(Z.slice().reverse())})}zu(IF)})};G(eP("funnel"));pu(hF);ec(Eb("funnel"));var oh=function(e){iH(e);o7(e)};function iH(e){if(e.parallel){return}var i=false;pb(e.series,function(k){if(k&&k.type==="parallel"){i=true}});if(i){e.parallel=[{}]}}function o7(e){var i=mr(e.parallelAxis);pb(i,function(v){if(!tM(v)){return}var k=v.parallelIndex||0;var m=mr(e.parallel)[k];if(m&&m.parallelAxisDefault){v7(v,m.parallelAxisDefault,false)}})}var yQ=function(m,v,k,e,i){BW.call(this,m,v,k);this.type=e||"value";this.axisIndex=i};yQ.prototype={constructor:yQ,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};mt(yQ,BW);var nx=function(v2,m,Ir,e,Iq,Z){m[0]=rz(m[0],Ir);m[1]=rz(m[1],Ir);v2=v2||0;var k=Ir[1]-Ir[0];if(Iq!=null){Iq=rz(Iq,[0,k])}if(Z!=null){Z=Math.max(Z,Iq!=null?Iq:0)}if(e==="all"){Iq=Z=Math.abs(m[1]-m[0]);e=0}var v3=fO(m,e);m[e]+=v2;var i=Iq||0;var v1=Ir.slice();v3.sign<0?(v1[0]+=i):(v1[1]-=i);m[e]=rz(m[e],v1);var v=fO(m,e);if(Iq!=null&&(v.sign!==v3.sign||v.span<Iq)){m[1-e]=m[e]+v3.sign*Iq}var v=fO(m,e);if(Z!=null&&v.span>Z){m[1-e]=m[e]+v.sign*Z}return m};function fO(i,k){var e=i[k]-i[1-k];return{span:Math.abs(e),sign:e>0?-1:e<0?1:k?-1:1}}function rz(e,i){return Math.min(i[1],Math.max(i[0],e))}var t4=pb;var ju=Math.min;var AN=Math.max;var v4=Math.floor;var oS=Math.ceil;var FP=FQ;var yH=Math.PI;function d2(i,e,k){this._axesMap=CN();this._axesLayout={};this.dimensions=i.dimensions;this._rect;this._model=i;this._init(i,e,k)}d2.prototype={type:"parallel",constructor:d2,_init:function(k,e,m){var v=k.dimensions;var i=k.parallelAxisIndex;t4(v,function(Ir,Z){var v3=i[Z];var v2=e.getComponent("parallelAxis",v3);var Iq=this._axesMap.set(Ir,new yQ(Ir,ns(v2),[0,0],v2.get("type"),v3));var v1=Iq.type==="category";Iq.onBand=v1&&v2.get("boundaryGap");Iq.inverse=v2.get("inverse");v2.axis=Iq;Iq.model=v2;Iq.coordinateSystem=v2.coordinateSystem=this},this)},update:function(e,i){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var v1=this._makeLayoutInfo();var k=v1.axisBase;var Z=v1.layoutBase;var v=v1.pixelDimIndex;var m=e[1-v];var i=e[v];return m>=k&&m<=k+v1.axisLength&&i>=Z&&i<=Z+v1.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(i,e){e.eachSeries(function(k){if(!i.contains(k,e)){return}var m=k.getData();t4(this.dimensions,function(Z){var v=this._axesMap.get(Z);v.scale.unionExtentFromData(m,m.mapDimension(Z));nN(v.scale,v.model)},this)},this)},resize:function(e,i){this._rect=kX(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var m=this._model;var i=this._rect;var Z=["x","y"];var v1=["width","height"];var Iw=m.get("layout");var v=Iw==="horizontal"?0:1;var It=i[v1[v]];var e=[0,It];var Ir=this.dimensions.length;var Iv=Cg(m.get("axisExpandWidth"),e);var v3=Cg(m.get("axisExpandCount")||0,[0,Ir]);var Is=m.get("axisExpandable")&&Ir>3&&Ir>v3&&v3>1&&Iv>0&&It>0;var Ix=m.get("axisExpandWindow");var v2;if(!Ix){v2=Cg(Iv*(v3-1),e);var Iq=m.get("axisExpandCenter")||v4(Ir/2);Ix=[Iv*Iq-v2/2];Ix[1]=Ix[0]+v2}else{v2=Cg(Ix[1]-Ix[0],e);Ix[1]=Ix[0]+v2}var k=(It-v2)/(Ir-v3);k<3&&(k=0);var Iu=[v4(FP(Ix[0]/Iv,1))+1,oS(FP(Ix[1]/Iv,1))-1];var Iy=k/Iv*Ix[0];return{layout:Iw,pixelDimIndex:v,layoutBase:i[Z[v]],layoutLength:It,axisBase:i[Z[1-v]],axisLength:i[v1[1-v]],axisExpandable:Is,axisExpandWidth:Iv,axisCollapseWidth:k,axisExpandWindow:Ix,axisCount:Ir,winInnerIndices:Iu,axisExpandWindow0Pos:Iy}},_layoutAxes:function(){var k=this._rect;var v=this._axesMap;var i=this.dimensions;var m=this._makeLayoutInfo();var e=m.layout;v.each(function(v1){var v2=[0,m.axisLength];var Z=v1.inverse?1:0;v1.setExtent(v2[Z],v2[1-Z])});t4(i,function(It,v2){var v1=(m.axisExpandable?gz:fH)(v2,m);var Is={horizontal:{x:v1.position,y:m.axisLength},vertical:{x:0,y:v1.position}};var Ir={horizontal:yH/2,vertical:0};var Z=[Is[e].x+k.x,Is[e].y+k.y];var Iq=Ir[e];var v3=CF();kk(v3,v3,Iq);vp(v3,v3,Z);this._axesLayout[It]={position:Z,rotation:Iq,transform:v3,axisNameAvailableWidth:v1.axisNameAvailableWidth,axisLabelShow:v1.axisLabelShow,nameTruncateMaxWidth:v1.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,i){return this.axisCoordToPoint(this._axesMap.get(i).dataToCoord(e),i)},eachActiveState:function(v1,Iv,k,v){k==null&&(k=0);v==null&&(v=v1.count());var Ir=this._axesMap;var e=this.dimensions;var m=[];var v2=[];pb(e,function(Iw){m.push(v1.mapDimension(Iw));v2.push(Ir.get(Iw).model)});var Iq=this.hasAxisBrushed();for(var Is=k;Is<v;Is++){var v3;if(!Iq){v3="normal"}else{v3="active";var It=v1.getValues(m,Is);for(var Z=0,Iu=e.length;Z<Iu;Z++){var i=v2[Z].getActiveState(It[Z]);if(i==="inactive"){v3="inactive";break}}}Iv(v3,Is)}},hasAxisBrushed:function(){var v=this.dimensions;var m=this._axesMap;var i=false;for(var k=0,e=v.length;k<e;k++){if(m.get(v[k]).model.getActiveState()!=="normal"){i=true}}return i},axisCoordToPoint:function(k,i){var e=this._axesLayout[i];return wa([k,0],e.transform)},getAxisLayout:function(e){return C9(this._axesLayout[e])},getSlidedAxisExpandWindow:function(Iq){var m=this._makeLayoutInfo();var Is=m.pixelDimIndex;var i=m.axisExpandWindow.slice();var Z=i[1]-i[0];var It=[0,m.axisExpandWidth*(m.axisCount-1)];if(!this.containPoint(Iq)){return{behavior:"none",axisExpandWindow:i}}var v3=Iq[Is]-m.layoutBase-m.axisExpandWindow0Pos;var Ir;var e="slide";var v=m.axisCollapseWidth;var v2=this._model.get("axisExpandSlideTriggerArea");var k=v2[0]!=null;if(v){if(k&&v&&v3<Z*v2[0]){e="jump";Ir=v3-Z*v2[2]}else{if(k&&v&&v3>Z*(1-v2[0])){e="jump";Ir=v3-Z*(1-v2[2])}else{(Ir=v3-Z*v2[1])>=0&&(Ir=v3-Z*(1-v2[1]))<=0&&(Ir=0)}}Ir*=m.axisExpandWidth/v;Ir?nx(Ir,i,It,"all"):(e="none")}else{var Z=i[1]-i[0];var v1=It[1]*v3/Z;i=[AN(0,v1-Z/2)];i[1]=ju(It[1],i[0]+Z);i[0]=i[1]-Z}return{axisExpandWindow:i,behavior:e}}};function Cg(e,i){return ju(AN(e,i[0]),i[1])}function fH(e,k){var i=k.layoutLength/(k.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:true}}function gz(Ir,i){var e=i.layoutLength;var v1=i.axisExpandWidth;var Iq=i.axisCount;var m=i.axisCollapseWidth;var v2=i.winInnerIndices;var v;var Z=m;var k=false;var v3;if(Ir<v2[0]){v=Ir*m;v3=m}else{if(Ir<=v2[1]){v=i.axisExpandWindow0Pos+Ir*v1-i.axisExpandWindow[0];Z=v1;k=true}else{v=e-(Iq-1-Ir)*m;v3=m}}return{position:v,axisNameAvailableWidth:Z,axisLabelShow:k,nameTruncateMaxWidth:v3}}function CE(e,k){var i=[];e.eachComponent("parallel",function(v,m){var Z=new d2(v,e,k);Z.name="parallel_"+m;Z.resize(v,k);v.coordinateSystem=Z;Z.model=v;i.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="parallel"){var v=e.queryComponents({mainType:"parallel",index:m.get("parallelIndex"),id:m.get("parallelId")})[0];m.coordinateSystem=v.coordinateSystem}});return i}fB.register("parallel",{create:CE});var mq=aH.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return yS([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(k){var m=this.activeIntervals=C9(k);if(m){for(var e=m.length-1;e>=0;e--){o9(m[e])}}},getActiveState:function(v){var Z=this.activeIntervals;if(!Z.length){return"normal"}if(v==null||isNaN(v)){return"inactive"}if(Z.length===1){var k=Z[0];if(k[0]<=v&&v<=k[1]){return"active"}}else{for(var m=0,e=Z.length;m<e;m++){if(Z[m][0]<=v&&v<=Z[m][1]){return"active"}}}return"inactive"}});var qo={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};v7(mq.prototype,nD);function sg(i,e){return e.type||(e.data?"category":"value")}mT("parallel",mq,sg,qo);aH.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){aH.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(i){var e=this.option;i&&v7(e,i,true);this._initDimensions()},contains:function(k,e){var i=k.get("parallelIndex");return i!=null&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){pb(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){if(e.hasOwnProperty(i)){this.option[i]=e[i]}},this)},_initDimensions:function(){var k=this.dimensions=[];var e=this.parallelAxisIndex=[];var i=q7(this.dependentModels.parallelAxis,function(m){return(m.get("parallelIndex")||0)===this.componentIndex},this);pb(i,function(m){k.push("dim"+m.get("dim"));e.push(m.componentIndex)})}});var Cj={type:"axisAreaSelect",event:"axisAreaSelected"};b1(Cj,function(i,e){e.eachComponent({mainType:"parallelAxis",query:i},function(k){k.axis.model.setActiveIntervals(i.intervals)})});b1("parallelAxisExpand",function(i,e){e.eachComponent({mainType:"parallel",query:i},function(k){k.setAxisExpand(i)})});var un=sy;var t2=pb;var Au=Ej;var js=Math.min;var AM=Math.max;var c5=Math.pow;var eO=10000;var Ho=6;var Dc=6;var rC="globalPan";var HZ={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var Aa={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var og={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var HU=0;function kz(e){if(om){bM(e)}Gg.call(this);this._zr=e;this.group=new Cc();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(om){this._mounted}this._uid="brushController_"+HU++;this._handlers={};t2(tE,function(k,i){this._handlers[i]=ko(k,this)},this)}kz.prototype={constructor:kz,enableBrush:function(e){if(om){bM(this._mounted)}this._brushType&&FK(this);e.brushType&&DJ(this,e);return this},setPanels:function(e){if(e&&e.length){var i=this._panels={};pb(e,function(k){i[k.panelId]=C9(k)})}else{this._panels=null}return this},mount:function(i){i=i||{};if(om){this._mounted=true}this._enableGlobalPan=i.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:i.position||[0,0],rotation:i.rotation||0,scale:i.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(e,i){t2(this._covers,e,i)},updateCovers:function(i){if(om){bM(this._mounted)}i=Ej(i,function(Ir){return v7(C9(og),Ir,true)});var Iq="\0-brush-index-";var k=this._covers;var m=this._covers=[];var v2=this;var v3=this._creatingCover;(new GB(k,i,v1,Z)).add(e).update(e).remove(v).execute();return this;function Z(Is,Ir){return(Is.id!=null?Is.id:Iq+Ir)+"-"+Is.brushType}function v1(Is,Ir){return Z(Is.__brushOption,Ir)}function e(Ir,Iu){var It=i[Ir];if(Iu!=null&&k[Iu]===v3){m[Ir]=k[Iu]}else{var Is=m[Ir]=Iu!=null?(k[Iu].__brushOption=It,k[Iu]):ie(v2,os(v2,It));aN(v2,Is)}}function v(Ir){if(k[Ir]!==v3){v2.group.remove(k[Ir])}}},unmount:function(){if(om){if(!this._mounted){return}}this.enableBrush(false);Az(this);this._zr.remove(this.group);if(om){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};Gu(kz,Gg);function DJ(e,k){var i=e._zr;if(!e._enableGlobalPan){hu(i,rC,e._uid)}t2(e._handlers,function(v,m){i.on(m,v)});e._brushType=k.brushType;e._brushOption=v7(C9(og),k,true)}function FK(e){var i=e._zr;bl(i,rC,e._uid);t2(e._handlers,function(m,k){i.off(k,m)});e._brushType=e._brushOption=null}function os(e,k){var i=xx[k.brushType].createCover(e,k);i.__brushOption=k;g5(i,k);e.group.add(i);return i}function ie(i,k){var e=iZ(k);if(e.endCreating){e.endCreating(i,k);g5(k,k.__brushOption)}return k}function gf(e,i){var k=i.__brushOption;iZ(i).updateCoverShape(e,i,k.range,k)}function g5(e,k){var i=k.z;i==null&&(i=eO);e.traverse(function(m){m.z=i;m.z2=i})}function aN(e,i){iZ(i).updateCommon(e,i);gf(e,i)}function iZ(e){return xx[e.__brushOption.brushType]}function Aq(k,v1,Z){var v=k._panels;if(!v){return true}var i;var m=k._transform;t2(v,function(e){e.isTargetByCursor(v1,Z,m)&&(i=e)});return i}function fN(e,m){var i=e._panels;if(!i){return true}var k=m.__brushOption.panelId;return k!=null?i[k]:true}function Az(i){var e=i._covers;var k=e.length;t2(e,function(m){i.group.remove(m)},i);e.length=0;return !!k}function oR(e,k){var i=Au(e._covers,function(v){var Z=v.__brushOption;var m=C9(Z.range);return{brushType:Z.brushType,panelId:Z.panelId,range:m}});e.trigger("brush",i,{isEnd:!!k.isEnd,removeOnClick:!!k.removeOnClick})}function xO(k){var i=k._track;if(!i.length){return false}var v=i[i.length-1];var v1=i[0];var m=v[0]-v1[0];var e=v[1]-v1[1];var Z=c5(m*m+e*e,0.5);return Z>Ho}function R(e){var i=e.length-1;i<0&&(i=0);return[e[0],e[i]]}function x3(k,i,v,e){var m=new Cc();m.add(new EL({name:"main",style:ht(v),silent:true,draggable:true,cursor:"move",drift:un(k,i,m,"nswe"),ondragend:un(oR,i,{isEnd:true})}));t2(e,function(Z){m.add(new EL({name:Z,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:un(k,i,m,Z),ondragend:un(oR,i,{isEnd:true})}))});return m}function F2(Is,Ix,Z,Iq){var e=Iq.brushStyle.lineWidth||0;var i=AM(e,Dc);var v3=Z[0][0];var v2=Z[1][0];var Iv=v3-e/2;var m=v2-e/2;var Iu=Z[0][1];var k=Z[1][1];var v1=Iu-i+e/2;var Iy=k-i+e/2;var It=Iu-v3;var Ir=k-v2;var Iw=It+e;var v=Ir+e;uz(Is,Ix,"main",v3,v2,It,Ir);if(Iq.transformable){uz(Is,Ix,"w",Iv,m,i,v);uz(Is,Ix,"e",v1,m,i,v);uz(Is,Ix,"n",Iv,m,Iw,i);uz(Is,Ix,"s",Iv,Iy,Iw,i);uz(Is,Ix,"nw",Iv,m,i,i);uz(Is,Ix,"ne",v1,m,i,i);uz(Is,Ix,"sw",Iv,Iy,i,i);uz(Is,Ix,"se",v1,Iy,i,i)}}function nT(e,m){var v=m.__brushOption;var k=v.transformable;var i=m.childAt(0);i.useStyle(ht(v));i.attr({silent:!k,cursor:k?"move":"default"});t2(["w","e","n","s","se","sw","ne","nw"],function(v1){var v2=m.childOfName(v1);var Z=Dv(e,v1);v2&&v2.attr({silent:!k,invisible:!k,cursor:k?Aa[Z]+"-resize":null})})}function uz(k,v1,m,e,v2,i,Z){var v=v1.childOfName(m);v&&v.setShape(wc(od(k,v1,[[e,v2],[e+i,v2+Z]])))}function ht(e){return Di({strokeNoScale:true},e.brushStyle)}function pJ(i,Z,k,v){var m=[js(i,k),js(Z,v)];var e=[AM(i,k),AM(Z,v)];return[[m[0],e[0]],[m[1],e[1]]]}function tg(e){return aI(e.group)}function Dv(i,m){if(m.length>1){m=m.split("");var e=[Dv(i,m[0]),Dv(i,m[1])];(e[0]==="e"||e[0]==="w")&&e.reverse();return e.join("")}else{var v={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var e=n2(v[m],tg(i));return k[e]}}function u2(m,v1,v,Ir,i,Is,v3,Z){var k=Ir.__brushOption;var v2=m(k.range);var Iq=Ap(v,Is,v3);t2(i.split(""),function(e){var It=HZ[e];v2[It[0]][It[1]]+=Iq[It[0]]});k.range=v1(pJ(v2[0][0],v2[1][0],v2[0][1],v2[1][1]));aN(v,Ir);oR(v,{isEnd:false})}function qK(k,v2,v,i,v1){var m=v2.__brushOption.range;var Z=Ap(k,v,i);t2(m,function(e){e[0]+=Z[0];e[1]+=Z[1]});aN(k,v2);oR(k,{isEnd:false})}function Ap(k,v,i){var m=k.group;var e=m.transformCoordToLocal(v,i);var Z=m.transformCoordToLocal(0,0);return[e[0]-Z[0],e[1]-Z[1]]}function od(i,m,k){var e=fN(i,m);return(e&&e!==true)?e.clipPath(k,i._transform):C9(k)}function wc(m){var v=js(m[0][0],m[1][0]);var k=js(m[0][1],m[1][1]);var i=AM(m[0][0],m[1][0]);var e=AM(m[0][1],m[1][1]);return{x:v,y:k,width:i-v,height:e-k}}function ib(m,v3,v1){if(!m._brushType){return}var v2=m._zr;var k=m._covers;var Z=Aq(m,v3,v1);if(!m._dragging){for(var v=0;v<k.length;v++){var Iq=k[v].__brushOption;if(Z&&(Z===true||Iq.panelId===Z.panelId)&&xx[Iq.brushType].contain(k[v],v1[0],v1[1])){return}}}Z&&v2.setCursorStyle("crosshair")}function aL(i){var k=i.event;k.preventDefault&&k.preventDefault()}function gT(i,e,k){return i.childOfName("main").contain(e,k)}function uI(v1,Is,i,Z){var v3=v1._creatingCover;var k=v1._creatingPanel;var v=v1._brushOption;var v2;v1._track.push(i.slice());if(xO(v1)||v3){if(k&&!v3){v.brushMode==="single"&&Az(v1);var m=C9(v);m.brushType=FA(m.brushType,k);m.panelId=k===true?null:k.panelId;v3=v1._creatingCover=os(v1,m);v1._covers.push(v3)}if(v3){var Ir=xx[FA(v1._brushType,k)];var Iq=v3.__brushOption;Iq.range=Ir.getCreatingRange(od(v1,v3,v1._track));if(Z){ie(v1,v3);Ir.updateCommon(v1,v3)}gf(v1,v3);v2={isEnd:Z}}}else{if(Z&&v.brushMode==="single"&&v.removeOnClick){if(Aq(v1,Is,i)&&Az(v1)){v2={isEnd:Z,removeOnClick:true}}}}return v2}function FA(i,e){if(i==="auto"){if(om){bM(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return i}var tE={mousedown:function(m){if(this._dragging){ya.call(this,m)}else{if(!m.target||!m.target.draggable){aL(m);var k=this.group.transformCoordToLocal(m.offsetX,m.offsetY);this._creatingCover=null;var i=this._creatingPanel=Aq(this,m,k);if(i){this._dragging=true;this._track=[k.slice()]}}}},mousemove:function(k){var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);ib(this,k,i);if(this._dragging){aL(k);var m=uI(this,k,i,false);m&&oR(this,m)}},mouseup:ya};function ya(k){if(this._dragging){aL(k);var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);var m=uI(this,k,i,true);this._dragging=false;this._track=[];this._creatingCover=null;m&&oR(this,m)}}var xx={lineX:zT(0),lineY:zT(1),rect:{createCover:function(e,i){return x3(un(u2,function(k){return k},function(k){return k}),e,i,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(i){var e=R(i);return pJ(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(e,k,i,m){F2(e,k,i,m)},updateCommon:nT,contain:gT},polygon:{createCover:function(e,k){var i=new Cc();i.add(new Ac({name:"main",style:ht(k),silent:true}));return i},getCreatingRange:function(e){return e},endCreating:function(e,i){i.remove(i.childAt(0));i.add(new ic({name:"main",draggable:true,drift:un(qK,e,i),ondragend:un(oR,e,{isEnd:true})}))},updateCoverShape:function(e,k,i,m){k.childAt(0).setShape({points:od(e,k,i)})},updateCommon:nT,contain:gT}};function zT(e){return{createCover:function(i,k){return x3(un(u2,function(m){var v=[m,[0,100]];e&&v.reverse();return v},function(m){return m[e]}),i,k,[["w","e"],["n","s"]][e])},getCreatingRange:function(v){var k=R(v);var m=js(k[0][e],k[1][e]);var i=AM(k[0][e],k[1][e]);return[m,i]},updateCoverShape:function(k,v1,Z,v3){var v2;var i=fN(k,v1);if(i!==true&&i.getLinearBrushOtherExtent){v2=i.getLinearBrushOtherExtent(e,k._transform)}else{var v=k._zr;v2=[0,[v.getWidth(),v.getHeight()][1-e]]}var m=[Z,v2];e&&m.reverse();F2(k,v1,m,v3)},updateCommon:nT,contain:gT}}function Fk(e){e=vX(e);return function(k,i){return oH(k,e)}}function vC(i,e){i=vX(i);return function(Z){var k=e!=null?e:Z;var m=k?i.width:i.height;var v=k?i.x:i.y;return[v,v+(m||0)]}}function qO(k,i,e){k=vX(k);return function(Z,v,m){return k.contain(v[0],v[1])&&!CW(Z,i,e)}}function vX(e){return CL.create(e)}var A8=["axisLine","axisTickLabel","axisName"];var cP=qB({type:"parallelAxis",init:function(e,i){cP.superApply(this,"init",arguments);(this._brushController=new kz(i.getZr())).on("brush",ko(this._onBrush,this))},render:function(Iu,v1,v2,Ir){if(i0(Iu,v1,Ir)){return}this.axisModel=Iu;this.api=v2;this.group.removeAll();var v=this._axisGroup;this._axisGroup=new Cc();this.group.add(this._axisGroup);if(!Iu.get("show")){return}var i=kZ(Iu,v1);var k=i.coordinateSystem;var e=Iu.getAreaSelectStyle();var Iq=e.width;var m=Iu.axis.dim;var It=k.getAxisLayout(m);var Is=b0({strokeContainThreshold:Iq},It);var v3=new db(Iu,Is);pb(A8,v3.add,v3);this._axisGroup.add(v3.getGroup());this._refreshBrushController(Is,e,Iu,i,Iq,v2);var Z=(Ir&&Ir.animation===false)?null:Iu;E(v,this._axisGroup,Z)},_refreshBrushController:function(v3,e,v2,k,v1,m){var Iq=v2.axis.getExtent();var Z=Iq[1]-Iq[0];var i=Math.min(30,Math.abs(Z)*0.1);var v=CL.create({x:Iq[0],y:-v1/2,width:Z,height:v1});v.x-=i;v.width+=2*i;this._brushController.mount({enableGlobalPan:true,rotation:v3.rotation,position:v3.position}).setPanels([{panelId:"pl",clipPath:Fk(v),isTargetByCursor:qO(v,m,k),getLinearBrushOtherExtent:vC(v,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(DA(v2))},_onBrush:function(v,k){var i=this.axisModel;var m=i.axis;var e=Ej(v,function(Z){return[m.coordToData(Z.range[0],true),m.coordToData(Z.range[1],true)]});if(!i.option.realtime===k.isEnd||k.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:e})}},dispose:function(){this._brushController.dispose()}});function i0(i,e,k){return k&&k.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:k})[0]===i}function DA(e){var i=e.axis;return Ej(e.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(k[0],true),i.dataToCoord(k[1],true)]}})}function kZ(i,e){return e.getComponent("parallel",i.get("parallelIndex"))}var iD=5;qB({type:"parallel",render:function(i,e,k){this._model=i;this._api=k;if(!this._handlers){this._handlers={};pb(hw,function(v,m){k.getZr().on(m,this._handlers[m]=ko(v,this))},this)}mM(this,"_throttledDispatchExpand",i.get("axisExpandRate"),"fixRate")},dispose:function(e,i){pb(this._handlers,function(m,k){i.getZr().off(k,m)});this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(b0({type:"parallelAxisExpand"},e))}});var hw={mousedown:function(i){if(Dn(this,"click")){this._mouseDownPoint=[i.offsetX,i.offsetY]}},mouseup:function(v){var m=this._mouseDownPoint;if(Dn(this,"click")&&m){var k=[v.offsetX,v.offsetY];var Z=Math.pow(m[0]-k[0],2)+Math.pow(m[1]-k[1],2);if(Z>iD){return}var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(v){if(this._mouseDownPoint||!Dn(this,"mousemove")){return}var k=this._model;var i=k.coordinateSystem.getSlidedAxisExpandWindow([v.offsetX,v.offsetY]);var m=i.behavior;m==="jump"&&this._throttledDispatchExpand.debounceNextCall(k.get("axisExpandDebounce"));this._throttledDispatchExpand(m==="none"?null:{axisExpandWindow:i.axisExpandWindow,animation:m==="jump"?null:false})}};function Dn(i,e){var k=i._model;return k.get("axisExpandable")&&k.get("axisExpandTriggerOn")===e}y6(oh);nW.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(i,e){var k=this.getSource();Gk(k,this);return a(k,this)},getRawIndicesByActiveState:function(i){var e=this.coordinateSystem;var k=this.getData();var m=[];e.eachActiveState(k,function(v,Z){if(i===v){m.push(k.getRawIndex(Z))}});return m},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"}});function Gk(k,e){if(k.encodeDefine){return}var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!i){return}var m=k.encodeDefine=CN();pb(i.dimensions,function(Z){var v=mp(Z);m.set(Z,v)})}function mp(e){return +e.replace("dim","")}var w=0.3;var zA=dG.extend({type:"parallel",init:function(){this._dataGroup=new Cc();this.group.add(this._dataGroup);this._data;this._initialized},render:function(k,v3,Iq,It){var i=this._dataGroup;var v1=k.getData();var v2=this._data;var v=k.coordinateSystem;var e=v.dimensions;var Is=d8(k);v1.diff(v2).add(Iu).update(m).remove(Z).execute();function Iu(Iw){var Iv=zX(v1,i,Iw,e,v);rP(Iv,v1,Iw,Is)}function m(Iz,Iv){var Iw=v2.getItemGraphicEl(Iv);var Iy=Fe(v1,Iz,e,v);v1.setItemGraphicEl(Iz,Iw);var Ix=(It&&It.animation===false)?null:k;oU(Iw,{shape:{points:Iy}},Ix,Iz);rP(Iw,v1,Iz,Is)}function Z(Iv){var Iw=v2.getItemGraphicEl(Iv);i.remove(Iw)}if(!this._initialized){this._initialized=true;var Ir=vm(v,k,function(){setTimeout(function(){i.removeClipPath()})});i.setClipPath(Ir)}this._data=v1},incrementalPrepareRender:function(i,e,k){this._initialized=true;this._data=null;this._dataGroup.removeAll()},incrementalRender:function(Z,i,v){var m=i.getData();var k=i.coordinateSystem;var e=k.dimensions;var v1=d8(i);for(var v2=Z.start;v2<Z.end;v2++){var v3=zX(m,this._dataGroup,v2,e,k);v3.incremental=true;rP(v3,m,v2,v1)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function vm(v,i,e){var k=v.model;var Z=v.getRect();var m=new EL({shape:{x:Z.x,y:Z.y,width:Z.width,height:Z.height}});var v1=k.get("layout")==="horizontal"?"width":"height";m.setShape(v1,0);jE(m,{shape:{width:Z.width,height:Z.height}},i,e);return m}function Fe(v2,m,Z,k){var v=[];for(var e=0;e<Z.length;e++){var v3=Z[e];var v1=v2.get(v2.mapDimension(v3),m);if(!v0(v1,k.getAxis(v3).type)){v.push(k.dataToPoint(v1,v3))}}return v}function zX(Z,v1,k,v,i){var m=Fe(Z,k,v,i);var e=new Ac({shape:{points:m},silent:true,z2:10});v1.add(e);Z.setItemGraphicEl(k,e);return e}function d8(i){var e=i.get("smooth",true);e===true&&(e=w);return{lineStyle:i.getModel("lineStyle").getLineStyle(),smooth:e!=null?e:w}}function rP(v,Z,m,k){var e=k.lineStyle;if(Z.hasItemOption){var v1=Z.getItemModel(m).getModel("lineStyle");e=v1.getLineStyle()}v.useStyle(e);var i=v.style;i.fill=null;i.stroke=Z.getItemVisual(m,"color");i.opacity=Z.getItemVisual(m,"opacity");k.smooth&&(v.shape.smooth=k.smooth)}function v0(i,e){return e==="category"?i==null:(i==null||isNaN(i))}var Gr=["lineStyle","normal","opacity"];var rH={seriesType:"parallel",reset:function(m,Ir,Is){var v2=m.getModel("itemStyle");var It=m.getModel("lineStyle");var k=Ir.get("color");var Z=It.get("color")||v2.get("color")||k[m.seriesIndex%k.length];var i=m.get("inactiveOpacity");var v=m.get("activeOpacity");var Iq=m.getModel("lineStyle").getLineStyle();var v1=m.coordinateSystem;var v3=m.getData();var Iu={normal:Iq.opacity,active:v,inactive:i};v3.setVisual("color",Z);function e(Iw,Iv){v1.eachActiveState(Iv,function(Iz,Iy){var Ix=Iu[Iz];if(Iz==="normal"&&Iv.hasItemOption){var IA=Iv.getItemModel(Iy).get(Gr,true);IA!=null&&(Ix=IA)}Iv.setItemVisual(Iy,"opacity",Ix)},Iw.start,Iw.end)}return{progress:e}}};G(rH);var ut=nW.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(k){var i=k.edges||k.links;var e=k.data||k.nodes;if(e&&i){var m=BN(e,i,this,true);return m.data}},setNodePosition:function(k,e){var i=this.option.data[k];i.localX=e[0];i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(k,m,e){if(e==="edge"){var v=this.getDataParams(k,e);var Z=v.data;var i=Z.source+" -- "+Z.target;if(v.value){i+=" : "+v.value}return mx(i)}return ut.superCall(this,"formatTooltip",k,m)},optionUpdated:function(){var e=this.option;if(e.focusNodeAdjacency===true){e.focusNodeAdjacency="allEdges"}},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,focusNodeAdjacency:false,layoutIterations:32,label:{show:true,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{label:{show:true},lineStyle:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});var vy=["itemStyle","opacity"];var GD=["lineStyle","opacity"];function Ib(i,e){return i.getVisual("opacity")||i.getModel().get(e)}function wW(m,k,v){var i=m.getGraphicEl();var e=Ib(m,k);if(v!=null){e==null&&(e=1);e*=v}i.downplay&&i.downplay();i.traverse(function(Z){if(Z.type!=="group"){Z.setStyle("opacity",e)}})}function oC(m,k){var e=Ib(m,k);var i=m.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}})}var qR=HD({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,i){var m=i.extent;var k=i.orient;if(k==="vertical"){e.moveTo(i.x1,i.y1);e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2);e.lineTo(i.x2+m,i.y2);e.bezierCurveTo(i.cpx2+m,i.cpy2,i.cpx1+m,i.cpy1,i.x1+m,i.y1)}else{e.moveTo(i.x1,i.y1);e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2);e.lineTo(i.x2,i.y2+m);e.bezierCurveTo(i.cpx2,i.cpy2+m,i.cpx1,i.cpy1+m,i.x1,i.y1+m)}e.closePath()}});BP({type:"sankey",_model:null,_focusAdjacencyDisabled:false,render:function(m,Z,v1){var Is=this;var Ir=m.getGraph();var v3=this.group;var k=m.layoutInfo;var i=k.width;var Iq=k.height;var e=m.getData();var v2=m.getData("edge");var v=m.get("orient");this._model=m;v3.removeAll();v3.attr("position",[k.x,k.y]);Ir.eachEdge(function(IC){var IF=new qR();IF.dataIndex=IC.dataIndex;IF.seriesIndex=m.seriesIndex;IF.dataType="edge";var IG=IC.getModel("lineStyle");var Iz=IG.get("curveness");var Iu=IC.node1.getLayout();var IN=IC.node1.getModel();var IM=IN.get("localX");var IB=IN.get("localY");var It=IC.node2.getLayout();var Iv=IC.node2.getModel();var IL=Iv.get("localX");var IA=Iv.get("localY");var Iy=IC.getLayout();var II;var Ix;var IH;var Iw;var IE;var IK;var ID;var IJ;IF.shape.extent=Math.max(1,Iy.dy);IF.shape.orient=v;if(v==="vertical"){II=(IM!=null?IM*i:Iu.x)+Iy.sy;Ix=(IB!=null?IB*Iq:Iu.y)+Iu.dy;IH=(IL!=null?IL*i:It.x)+Iy.ty;Iw=IA!=null?IA*Iq:It.y;IE=II;IK=Ix*(1-Iz)+Iw*Iz;ID=IH;IJ=Ix*Iz+Iw*(1-Iz)}else{II=(IM!=null?IM*i:Iu.x)+Iu.dx;Ix=(IB!=null?IB*Iq:Iu.y)+Iy.sy;IH=IL!=null?IL*i:It.x;Iw=(IA!=null?IA*Iq:It.y)+Iy.ty;IE=II*(1-Iz)+IH*Iz;IK=Ix;ID=II*Iz+IH*(1-Iz);IJ=Iw}IF.setShape({x1:II,y1:Ix,x2:IH,y2:Iw,cpx1:IE,cpy1:IK,cpx2:ID,cpy2:IJ});IF.setStyle(IG.getItemStyle());switch(IF.style.fill){case"source":IF.style.fill=IC.node1.getVisual("color");break;case"target":IF.style.fill=IC.node2.getVisual("color");break}yr(IF,IC.getModel("emphasis.lineStyle").getItemStyle());v3.add(IF);v2.setItemGraphicEl(IC.dataIndex,IF)});Ir.eachNode(function(It){var Iv=It.getLayout();var Iz=It.getModel();var IA=Iz.get("localX");var Iy=Iz.get("localY");var IB=Iz.getModel("label");var Iw=Iz.getModel("emphasis.label");var Ix=new EL({shape:{x:IA!=null?IA*i:Iv.x,y:Iy!=null?Iy*Iq:Iv.y,width:Iv.dx,height:Iv.dy},style:Iz.getModel("itemStyle").getItemStyle()});var Iu=It.getModel("emphasis.itemStyle").getItemStyle();BH(Ix.style,Iu,IB,Iw,{labelFetcher:m,labelDataIndex:It.dataIndex,defaultText:It.id,isRectText:true});Ix.setStyle("fill",It.getVisual("color"));yr(Ix,Iu);v3.add(Ix);e.setItemGraphicEl(It.dataIndex,Ix);Ix.dataType="node"});e.eachItemGraphicEl(function(Iv,It){var Iu=e.getItemModel(It);if(Iu.get("draggable")){Iv.drift=function(Ix,Iw){Is._focusAdjacencyDisabled=true;this.shape.x+=Ix;this.shape.y+=Iw;this.dirty();v1.dispatchAction({type:"dragNode",seriesId:m.id,dataIndex:e.getRawIndex(It),localX:this.shape.x/i,localY:this.shape.y/Iq})};Iv.ondragend=function(){Is._focusAdjacencyDisabled=false};Iv.draggable=true;Iv.cursor="move"}if(Iu.get("focusNodeAdjacency")){Iv.off("mouseover").on("mouseover",function(){if(!Is._focusAdjacencyDisabled){v1.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,dataIndex:Iv.dataIndex})}});Iv.off("mouseout").on("mouseout",function(){if(!Is._focusAdjacencyDisabled){v1.dispatchAction({type:"unfocusNodeAdjacency",seriesId:m.id})}})}});v2.eachItemGraphicEl(function(Iu,It){var Iv=v2.getItemModel(It);if(Iv.get("focusNodeAdjacency")){Iu.off("mouseover").on("mouseover",function(){if(!Is._focusAdjacencyDisabled){v1.dispatchAction({type:"focusNodeAdjacency",seriesId:m.id,edgeDataIndex:Iu.dataIndex})}});Iu.off("mouseout").on("mouseout",function(){if(!Is._focusAdjacencyDisabled){v1.dispatchAction({type:"unfocusNodeAdjacency",seriesId:m.id})}})}});if(!this._data&&m.get("animation")){v3.setClipPath(vj(v3.getBoundingRect(),m,function(){v3.removeClipPath()}))}this._data=m.getData()},dispose:function(){},focusNodeAdjacency:function(k,v,Z,v3){var m=this._model.getData();var Ir=m.graph;var v2=v3.dataIndex;var Is=m.getItemModel(v2);var v1=v3.edgeDataIndex;if(v2==null&&v1==null){return}var i=Ir.getNodeByIndex(v2);var e=Ir.getEdgeByIndex(v1);Ir.eachNode(function(It){wW(It,vy,0.1)});Ir.eachEdge(function(It){wW(It,GD,0.1)});if(i){oC(i,vy);var Iq=Is.get("focusNodeAdjacency");if(Iq==="outEdges"){pb(i.outEdges,function(It){if(It.dataIndex<0){return}oC(It,GD);oC(It.node2,vy)})}else{if(Iq==="inEdges"){pb(i.inEdges,function(It){if(It.dataIndex<0){return}oC(It,GD);oC(It.node1,vy)})}else{if(Iq==="allEdges"){pb(i.edges,function(It){if(It.dataIndex<0){return}oC(It,GD);oC(It.node1,vy);oC(It.node2,vy)})}}}}if(e){oC(e,GD);oC(e.node1,vy);oC(e.node2,vy)}},unfocusNodeAdjacency:function(i,e,k,v){var m=this._model.getGraph();m.eachNode(function(Z){wW(Z,vy)});m.eachEdge(function(Z){wW(Z,GD)})}});function vj(m,i,e){var k=new EL({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});jE(k,{shape:{width:m.width+20,height:m.height+20}},i,e);return k}b1({type:"dragNode",event:"dragNode",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"sankey",query:i},function(k){k.setNodePosition(i.dataIndex,[i.localX,i.localY])})});function dc(){var i=[];var m=[];function e(Is,Iq){if(Iq>=i.length){return Is}var Ir=-1;var v1=Is.length;var Z=i[Iq++];var v={};var v2={};while(++Ir<v1){var v3=Z(Is[Ir]);var It=v2[v3];if(It){It.push(Is[Ir])}else{v2[v3]=[Is[Ir]]}}pb(v2,function(Iv,Iu){v[Iu]=e(Iv,Iq)});return v}function k(v1,Z){if(Z>=i.length){return v1}var v2=[];var v=m[Z++];pb(v1,function(Iq,v3){v2.push({key:v3,values:k(Iq,Z)})});if(v){return v2.sort(function(Iq,v3){return v(Iq.key,v3.key)})}return v2}return{key:function(v){i.push(v);return this},sortKeys:function(v){m[i.length-1]=v;return this},entries:function(v){return k(e(v,0),0)}}}var tC=function(e,i,k){e.eachSeriesByType("sankey",function(v3){var It=v3.get("nodeWidth");var Is=v3.get("nodeGap");var v2=rT(v3,i);v3.layoutInfo=v2;var v=v2.width;var Iv=v2.height;var Iu=v3.getGraph();var m=Iu.nodes;var Ir=Iu.edges;DH(m);var Z=q7(m,function(Iw){return Iw.getLayout().value===0});var v1=Z.length!==0?0:v3.get("layoutIterations");var Iq=v3.get("orient");yl(m,Ir,It,Is,v,Iv,v1,Iq)})};function rT(e,i){return kX(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function yl(m,k,i,v2,Z,e,v1,v){Id(m,k,i,Z,e,v);yg(m,k,e,Z,v2,v1,v);d4(m,v)}function DH(e){pb(e,function(m){var k=BC(m.outEdges,tp);var i=BC(m.inEdges,tp);var v=Math.max(k,i);m.setLayout({value:v},true)})}function Id(Ix,Z,v,Iw,Iv,It){var m=[];var v3=[];var e=[];var v1=[];var Is=0;var IB=0;for(var Iz=0;Iz<Z.length;Iz++){m[Iz]=1}for(Iz=0;Iz<Ix.length;Iz++){v3[Iz]=Ix[Iz].inEdges.length;if(v3[Iz]===0){e.push(Ix[Iz])}}while(e.length){for(var Iu=0;Iu<e.length;Iu++){var Iy=e[Iu];if(It==="vertical"){Iy.setLayout({y:Is},true);Iy.setLayout({dy:v},true)}else{Iy.setLayout({x:Is},true);Iy.setLayout({dx:v},true)}for(var k=0;k<Iy.outEdges.length;k++){var Iq=Iy.outEdges[k];var Ir=Z.indexOf(Iq);m[Ir]=0;var v2=Iq.node2;var IA=Ix.indexOf(v2);if(--v3[IA]===0){v1.push(v2)}}}++Is;e=v1;v1=[]}for(Iz=0;Iz<m.length;Iz++){if(om){if(m[Iz]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}}uE(Ix,Is,It);if(It==="vertical"){IB=(Iv-v)/(Is-1)}else{IB=(Iw-v)/(Is-1)}bN(Ix,IB,It)}function uE(i,e,k){pb(i,function(m){if(!m.outEdges.length){if(k==="vertical"){m.setLayout({y:e-1},true)}else{m.setLayout({x:e-1},true)}}})}function bN(e,k,i){pb(e,function(v){if(i==="vertical"){var m=v.getLayout().y*k;v.setLayout({y:m},true)}else{var Z=v.getLayout().x*k;v.setLayout({x:Z},true)}})}function yg(e,v2,v3,i,Z,m,v1){var k=dc().key(p7(v1)).sortKeys(function(Ir,Iq){return Ir-Iq}).entries(e).map(function(Iq){return Iq.values});wd(e,k,v2,v3,i,Z,v1);h4(k,Z,v3,i,v1);for(var v=1;m>0;m--){v*=0.99;H(k,v,v1);h4(k,Z,v3,i,v1);eo(k,v,v1);h4(k,Z,v3,i,v1)}}function p7(e){if(e==="vertical"){return function(i){return i.getLayout().y}}return function(i){return i.getLayout().x}}function wd(i,m,v1,v3,k,v,Z){var v2=[];pb(m,function(Iq){var It=Iq.length;var Is=0;var Ir=0;pb(Iq,function(Iu){Is+=Iu.getLayout().value});if(Z==="vertical"){Ir=(k-(It-1)*v)/Is}else{Ir=(v3-(It-1)*v)/Is}v2.push(Ir)});v2.sort(function(Ir,Iq){return Ir-Iq});var e=v2[0];pb(m,function(Iq){pb(Iq,function(It,Is){var Ir=It.getLayout().value*e;if(Z==="vertical"){It.setLayout({x:Is},true);It.setLayout({dx:Ir},true)}else{It.setLayout({y:Is},true);It.setLayout({dy:Ir},true)}})});pb(v1,function(Ir){var Iq=+Ir.getValue()*e;Ir.setLayout({dy:Iq},true)})}function h4(i,v,e,m,k){pb(i,function(v1){var Ir;var Z;var Iq=0;var It=v1.length;var v2;if(k==="vertical"){var Is;v1.sort(function(Iv,Iu){return Iv.getLayout().x-Iu.getLayout().x});for(v2=0;v2<It;v2++){Ir=v1[v2];Z=Iq-Ir.getLayout().x;if(Z>0){Is=Ir.getLayout().x+Z;Ir.setLayout({x:Is},true)}Iq=Ir.getLayout().x+Ir.getLayout().dx+v}Z=Iq-v-m;if(Z>0){Is=Ir.getLayout().x-Z;Ir.setLayout({x:Is},true);Iq=Is;for(v2=It-2;v2>=0;--v2){Ir=v1[v2];Z=Ir.getLayout().x+Ir.getLayout().dx+v-Iq;if(Z>0){Is=Ir.getLayout().x-Z;Ir.setLayout({x:Is},true)}Iq=Ir.getLayout().x}}}else{var v3;v1.sort(function(Iv,Iu){return Iv.getLayout().y-Iu.getLayout().y});for(v2=0;v2<It;v2++){Ir=v1[v2];Z=Iq-Ir.getLayout().y;if(Z>0){v3=Ir.getLayout().y+Z;Ir.setLayout({y:v3},true)}Iq=Ir.getLayout().y+Ir.getLayout().dy+v}Z=Iq-v-e;if(Z>0){v3=Ir.getLayout().y-Z;Ir.setLayout({y:v3},true);Iq=v3;for(v2=It-2;v2>=0;--v2){Ir=v1[v2];Z=Ir.getLayout().y+Ir.getLayout().dy+v-Iq;if(Z>0){v3=Ir.getLayout().y-Z;Ir.setLayout({y:v3},true)}Iq=Ir.getLayout().y}}}})}function H(e,k,i){pb(e.slice().reverse(),function(m){pb(m,function(Z){if(Z.outEdges.length){var v2=BC(Z.outEdges,nn,i)/BC(Z.outEdges,tp,i);if(i==="vertical"){var v1=Z.getLayout().x+(v2-n1(Z,i))*k;Z.setLayout({x:v1},true)}else{var v=Z.getLayout().y+(v2-n1(Z,i))*k;Z.setLayout({y:v},true)}}})})}function nn(i,e){return n1(i.node2,e)*i.getValue()}function fw(i,e){return n1(i.node1,e)*i.getValue()}function n1(i,e){if(e==="vertical"){return i.getLayout().x+i.getLayout().dx/2}return i.getLayout().y+i.getLayout().dy/2}function tp(e){return e.getValue()}function BC(v2,v1,k){var v=0;var e=v2.length;var m=-1;while(++m<e){var Z=+v1.call(v2,v2[m],k);if(!isNaN(Z)){v+=Z}}return v}function eo(e,k,i){pb(e,function(m){pb(m,function(Z){if(Z.inEdges.length){var v2=BC(Z.inEdges,fw,i)/BC(Z.inEdges,tp,i);if(i==="vertical"){var v1=Z.getLayout().x+(v2-n1(Z,i))*k;Z.setLayout({x:v1},true)}else{var v=Z.getLayout().y+(v2-n1(Z,i))*k;Z.setLayout({y:v},true)}}})})}function d4(e,i){pb(e,function(k){if(i==="vertical"){k.outEdges.sort(function(v,m){return v.node2.getLayout().x-m.node2.getLayout().x});k.inEdges.sort(function(v,m){return v.node1.getLayout().x-m.node1.getLayout().x})}else{k.outEdges.sort(function(v,m){return v.node2.getLayout().y-m.node2.getLayout().y});k.inEdges.sort(function(v,m){return v.node1.getLayout().y-m.node1.getLayout().y})}});pb(e,function(m){var v=0;var k=0;pb(m.outEdges,function(Z){Z.setLayout({sy:v},true);v+=Z.getLayout().dy});pb(m.inEdges,function(Z){Z.setLayout({ty:k},true);k+=Z.getLayout().dy})})}var dT=function(e,i){e.eachSeriesByType("sankey",function(m){var Z=m.getGraph();var k=Z.nodes;if(k.length){var v=Infinity;var v1=-Infinity;pb(k,function(v3){var v2=v3.getLayout().value;if(v2<v){v=v2}if(v2>v1){v1=v2}});pb(k,function(Is){var Iq=new mJ({type:"color",mappingMethod:"linear",dataExtent:[v,v1],visual:m.get("color")});var v2=Iq.mapValueToVisual(Is.getLayout().value);Is.setVisual("color",v2);var Ir=Is.getModel();var v3=Ir.get("itemStyle.color");if(v3!=null){Is.setVisual("color",v3)}})}})};pu(tC);G(dT);var xu={_baseAxisDim:null,getInitialData:function(v3,Iy){var k;var i=Iy.getComponent("xAxis",this.get("xAxisIndex"));var v1=Iy.getComponent("yAxis",this.get("yAxisIndex"));var Ir=i.get("type");var m=v1.get("type");var e;if(Ir==="category"){v3.layout="horizontal";k=i.getOrdinalMeta();e=true}else{if(m==="category"){v3.layout="vertical";k=v1.getOrdinalMeta();e=true}else{v3.layout=v3.layout||"horizontal"}}var Iw=["x","y"];var Iv=v3.layout==="horizontal"?0:1;var Z=this._baseAxisDim=Iw[Iv];var v=Iw[1-Iv];var Iu=[i,v1];var It=Iu[Iv].get("type");var Is=Iu[1-Iv].get("type");var Ix=v3.data;if(Ix&&e){var Iq=[];pb(Ix,function(IB,Iz){var IA;if(IB.value&&GL(IB.value)){IA=IB.value.slice();IB.value.unshift(Iz)}else{if(GL(IB)){IA=IB.slice();IB.unshift(Iz)}else{IA=IB}}Iq.push(IA)});v3.data=Iq}var v2=this.defaultValueDimensions;return xl(this,{coordDimensions:[{name:Z,type:qL(It),ordinalMeta:k,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:v,type:qL(Is),dimsDef:v2.slice()}],dimensionsCount:v2.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};var H9=nW.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});Gu(H9,xu,true);var FZ=["itemStyle"];var jz=["emphasis","itemStyle"];var aR=dG.extend({type:"boxplot",render:function(i,e,k){var m=i.getData();var Z=this.group;var v1=this._data;if(!this._data){Z.removeAll()}var v=i.get("layout")==="horizontal"?1:0;m.diff(v1).add(function(v3){if(m.hasValue(v3)){var v2=m.getItemLayout(v3);var Iq=df(v2,m,v3,v,true);m.setItemGraphicEl(v3,Iq);Z.add(Iq)}}).update(function(Iq,v2){var Ir=v1.getItemGraphicEl(v2);if(!m.hasValue(Iq)){Z.remove(Ir);return}var v3=m.getItemLayout(Iq);if(!Ir){Ir=df(v3,m,Iq,v)}else{sV(v3,Ir,m,Iq)}Z.add(Ir);m.setItemGraphicEl(Iq,Ir)}).remove(function(v2){var v3=v1.getItemGraphicEl(v2);v3&&Z.remove(v3)}).execute();this._data=m},remove:function(e){var k=this.group;var i=this._data;this._data=null;i&&i.eachItemGraphicEl(function(m){m&&k.remove(m)})},dispose:V});var rO=mo.extend({type:"boxplotBoxPath",shape:{},buildPath:function(k,m){var e=m.points;var v=0;k.moveTo(e[v][0],e[v][1]);v++;for(;v<4;v++){k.lineTo(e[v][0],e[v][1])}k.closePath();for(;v<e.length;v++){k.moveTo(e[v][0],e[v][1]);v++;k.lineTo(e[v][0],e[v][1])}}});function df(m,v,i,Z,v1){var e=m.ends;var k=new rO({shape:{points:v1?fK(e,Z,m):e}});sV(m,k,v,i,v1);return k}function sV(Ir,e,Z,Iq,v2){var v=Z.hostModel;var v1=yj[v2?"initProps":"updateProps"];v1(e,{shape:{points:Ir.ends}},v,Iq);var Is=Z.getItemModel(Iq);var m=Is.getModel(FZ);var i=Z.getItemVisual(Iq,"color");var v3=m.getItemStyle(["borderColor"]);v3.stroke=i;v3.strokeNoScale=true;e.useStyle(v3);e.z2=100;var k=Is.getModel(jz).getItemStyle();yr(e,k)}function fK(i,k,e){return Ej(i,function(m){m=m.slice();m[k]=e.initBaseline;return m})}var wU=["itemStyle","borderColor"];var pQ=function(e,i){var k=e.get("color");e.eachRawSeriesByType("boxplot",function(v){var m=k[v.seriesIndex%k.length];var Z=v.getData();Z.setVisual({legendSymbol:"roundRect",color:v.get(wU)||m});if(!e.isSeriesFiltered(v)){Z.each(function(v1){var v2=Z.getItemModel(v1);Z.setItemVisual(v1,{color:v2.get(wU,true)})})}})};var tZ=pb;var FR=function(e){var i=qQ(e);tZ(i,function(k){var m=k.seriesModels;if(!m.length){return}Ij(k);tZ(m,function(Z,v){mX(Z,k.boxOffsetList[v],k.boxWidthList[v])})})};function qQ(i){var e=[];var k=[];i.eachSeriesByType("boxplot",function(v){var Z=v.getBaseAxis();var m=eR(k,Z);if(m<0){m=k.length;k[m]=Z;e[m]={axis:Z,seriesModels:[]}}e[m].seriesModels.push(v)});return e}function Ij(Iq){var It;var i=Iq.axis;var k=Iq.seriesModels;var v=k.length;var Z=Iq.boxWidthList=[];var v3=Iq.boxOffsetList=[];var Iu=[];var m;if(i.type==="category"){m=i.getBandWidth()}else{var v2=0;tZ(k,function(Iv){v2=Math.max(v2,Iv.getData().count())});It=i.getExtent(),Math.abs(It[1]-It[0])/v2}tZ(k,function(Iv){var Iw=Iv.get("boxWidth");if(!GL(Iw)){Iw=[Iw,Iw]}Iu.push([zS(Iw[0],m)||0,zS(Iw[1],m)||0])});var Ir=m*0.8-2;var Is=Ir/v*0.3;var v1=(Ir-Is*(v-1))/v;var e=v1/2-Ir/2;tZ(k,function(Iw,Iv){v3.push(e);e+=Is+v1;Z.push(Math.min(Math.max(v1,Iu[Iv][0]),Iu[Iv][1]))})}function mX(Ir,k,v2){var m=Ir.coordinateSystem;var IC=Ir.getData();var Z=v2/2;var It=Ir.get("layout")==="horizontal"?0:1;var v3=1-It;var IA=["x","y"];var Iu=IC.mapDimension(IA[It]);var Is=IC.mapDimension(IA[v3],true);if(Iu==null||Is.length<5){return}for(var IB=0;IB<IC.count();IB++){var v1=IC.get(Iu,IB);var v=e(v1,Is[2],IB);var Iz=e(v1,Is[0],IB);var Iy=e(v1,Is[1],IB);var Ix=e(v1,Is[3],IB);var Iw=e(v1,Is[4],IB);var Iq=[];Iv(Iq,Iy,0);Iv(Iq,Ix,1);Iq.push(Iz,Iy,Iw,Ix);i(Iq,Iz);i(Iq,Iw);i(Iq,v);IC.setItemLayout(IB,{initBaseline:v[v3],ends:Iq})}function e(IG,IE,IF){var II=IC.get(IE,IF);var IH=[];IH[It]=IG;IH[v3]=II;var ID;if(isNaN(IG)||isNaN(II)){ID=[NaN,NaN]}else{ID=m.dataToPoint(IH);ID[It]+=k}return ID}function Iv(IE,ID,IH){var IG=ID.slice();var IF=ID.slice();IG[It]+=Z;IF[It]-=Z;IH?IE.push(IG,IF):IE.push(IF,IG)}function i(ID,IE){var IG=IE.slice();var IF=IE.slice();IG[It]-=Z;IF[It]+=Z;ID.push(IG,IF)}}G(pQ);pu(FR);var ql=nW.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3000,progressiveThreshold:10000,progressiveChunkMode:"mod",animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(i,m,e){var k=m.getItemLayout(i);return k&&e.rect(k.brushRect)}});Gu(ql,xu,true);var Fs=["itemStyle"];var nU=["emphasis","itemStyle"];var GM=["color","color0","borderColor","borderColor0"];var zt=dG.extend({type:"candlestick",render:function(i,e,k){this._updateDrawMode(i);this._isLargeDraw?this._renderLarge(i):this._renderNormal(i)},incrementalPrepareRender:function(i,e,k){this._clear();this._updateDrawMode(i)},incrementalRender:function(m,i,e,k){this._isLargeDraw?this._incrementalRenderLarge(m,i):this._incrementalRenderNormal(m,i)},_updateDrawMode:function(i){var e=i.pipelineContext.large;if(this._isLargeDraw==null||e^this._isLargeDraw){this._isLargeDraw=e;this._clear()}},_renderNormal:function(i){var k=i.getData();var v=this._data;var m=this.group;var e=k.getLayout("isSimpleBox");if(!this._data){m.removeAll()}k.diff(v).add(function(v2){if(k.hasValue(v2)){var v1;var Z=k.getItemLayout(v2);v1=F7(Z,v2,true);jE(v1,{shape:{points:Z.ends}},i,v2);Be(v1,k,v2,e);m.add(v1);k.setItemGraphicEl(v2,v1)}}).update(function(v3,Z){var v2=v.getItemGraphicEl(Z);if(!k.hasValue(v3)){m.remove(v2);return}var v1=k.getItemLayout(v3);if(!v2){v2=F7(v1,v3)}else{oU(v2,{shape:{points:v1.ends}},i,v3)}Be(v2,k,v3,e);m.add(v2);k.setItemGraphicEl(v3,v2)}).remove(function(Z){var v1=v.getItemGraphicEl(Z);v1&&m.remove(v1)}).execute();this._data=k},_renderLarge:function(e){this._clear();FX(e,this.group)},_incrementalRenderNormal:function(v1,i){var Z=i.getData();var e=Z.getLayout("isSimpleBox");var k;while((k=v1.next())!=null){var v;var m=Z.getItemLayout(k);v=F7(m,k);Be(v,Z,k,e);v.incremental=true;this.group.add(v)}},_incrementalRenderLarge:function(i,e){FX(e,this.group,true)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll();this._data=null},dispose:V});var mh=mo.extend({type:"normalCandlestickBox",shape:{},buildPath:function(i,k){var e=k.points;if(this.__simpleBox){i.moveTo(e[4][0],e[4][1]);i.lineTo(e[6][0],e[6][1])}else{i.moveTo(e[0][0],e[0][1]);i.lineTo(e[1][0],e[1][1]);i.lineTo(e[2][0],e[2][1]);i.lineTo(e[3][0],e[3][1]);i.closePath();i.moveTo(e[4][0],e[4][1]);i.lineTo(e[5][0],e[5][1]);i.moveTo(e[6][0],e[6][1]);i.lineTo(e[7][0],e[7][1])}}});function F7(k,i,m){var e=k.ends;return new mh({shape:{points:m?GO(e,k):e},z2:100})}function Be(i,v1,v3,e){var Iq=v1.getItemModel(v3);var v=Iq.getModel(Fs);var Z=v1.getItemVisual(v3,"color");var k=v1.getItemVisual(v3,"borderColor")||Z;var v2=v.getItemStyle(GM);i.useStyle(v2);i.style.strokeNoScale=true;i.style.fill=Z;i.style.stroke=k;i.__simpleBox=e;var m=Iq.getModel(nU).getItemStyle();yr(i,m)}function GO(i,e){return Ej(i,function(k){k=k.slice();k[1]=e.initBaseline;return k})}var p4=mo.extend({type:"largeCandlestickBox",shape:{},buildPath:function(k,m){var Z=m.points;for(var v=0;v<Z.length;){if(this.__sign===Z[v++]){var e=Z[v++];k.moveTo(e,Z[v++]);k.lineTo(e,Z[v++])}else{v+=3}}}});function FX(e,v1,Z){var m=e.getData();var k=m.getLayout("largePoints");var i=new p4({shape:{points:k},__sign:1});v1.add(i);var v=new p4({shape:{points:k},__sign:-1});v1.add(v);eg(1,i,e,m);eg(-1,v,e,m);if(Z){i.incremental=true;v.incremental=true}}function eg(e,k,i,v){var Z=e>0?"P":"N";var v1=v.getVisual("borderColor"+Z)||v.getVisual("color"+Z);var m=i.getModel(Fs).getItemStyle(GM);k.useStyle(m);k.style.fill=null;k.style.stroke=v1}var kW=function(e){if(!e||!GL(e.series)){return}pb(e.series,function(i){if(tM(i)&&i.type==="k"){i.type="candlestick"}})};var g=["itemStyle","borderColor"];var yx=["itemStyle","borderColor0"];var nr=["itemStyle","color"];var r8=["itemStyle","color0"];var qd={seriesType:"candlestick",plan:Ew(),performRawSeries:true,reset:function(m,e){var Z=m.getData();var k=m.pipelineContext.large;Z.setVisual({legendSymbol:"roundRect",colorP:v1(1,m),colorN:v1(-1,m),borderColorP:i(1,m),borderColorN:i(-1,m)});if(e.isSeriesFiltered(m)){return}return !k&&{progress:v};function v(Is,Ir){var v3;while((v3=Is.next())!=null){var Iq=Ir.getItemModel(v3);var v2=Ir.getItemLayout(v3).sign;Ir.setItemVisual(v3,{color:v1(v2,Iq),borderColor:i(v2,Iq)})}}function v1(v2,v3){return v3.get(v2>0?nr:r8)}function i(v2,v3){return v3.get(v2>0?g:yx)}}};var vU=typeof Float32Array!=="undefined"?Float32Array:Array;var Gb={seriesType:"candlestick",plan:Ew(),reset:function(m){var v=m.coordinateSystem;var v1=m.getData();var Iv=qA(m,v1);var It=0;var i=1;var Ir=["x","y"];var Is=v1.mapDimension(Ir[It]);var Iu=v1.mapDimension(Ir[i],true);var Iq=Iu[0];var e=Iu[1];var v2=Iu[2];var Z=Iu[3];v1.setLayout({candleWidth:Iv,isSimpleBox:Iv<=1.3});if(Is==null||Iu.length<4){return}return{progress:m.pipelineContext.large?v3:k};function k(IL,IO){var IN;while((IN=IL.next())!=null){var IC=IO.get(Is,IN);var II=IO.get(Iq,IN);var IB=IO.get(e,IN);var Iw=IO.get(v2,IN);var Iy=IO.get(Z,IN);var IH=Math.min(II,IB);var IA=Math.max(II,IB);var IM=Iz(IH,IC);var ID=Iz(IA,IC);var Ix=Iz(Iw,IC);var IF=Iz(Iy,IC);var IG=[];IK(IG,ID,0);IK(IG,IM,1);IG.push(IE(IF),IE(ID),IE(Ix),IE(IM));IO.setItemLayout(IN,{sign:eI(IO,IN,II,IB,e),initBaseline:II>IB?ID[i]:IM[i],ends:IG,brushRect:IJ(Iw,Iy,IC)})}function Iz(IR,IP){var IQ=[];IQ[It]=IP;IQ[i]=IR;return(isNaN(IP)||isNaN(IR))?[NaN,NaN]:v.dataToPoint(IQ)}function IK(IQ,IP,IT){var IS=IP.slice();var IR=IP.slice();IS[It]=GA(IS[It]+Iv/2,1,false);IR[It]=GA(IR[It]-Iv/2,1,true);IT?IQ.push(IS,IR):IQ.push(IR,IS)}function IJ(IS,IP,IR){var IT=Iz(IS,IR);var IQ=Iz(IP,IR);IT[It]-=Iv/2;IQ[It]-=Iv/2;return{x:IT[0],y:IT[1],width:i?Iv:IQ[0]-IT[0],height:i?IQ[1]-IT[1]:Iv}}function IE(IP){IP[It]=GA(IP[It],1);return IP}}function v3(Iz,IC){var II=new vU(Iz.count*5);var IB=0;var IH;var ID=[];var Iy=[];var IG;while((IG=Iz.next())!=null){var IE=IC.get(Is,IG);var IA=IC.get(Iq,IG);var IF=IC.get(e,IG);var Ix=IC.get(v2,IG);var Iw=IC.get(Z,IG);if(isNaN(IE)||isNaN(Ix)||isNaN(Iw)){II[IB++]=NaN;IB+=4;continue}II[IB++]=eI(IC,IG,IA,IF,e);ID[It]=IE;ID[i]=Ix;IH=v.dataToPoint(ID,null,Iy);II[IB++]=IH?IH[0]:NaN;II[IB++]=IH?IH[1]:NaN;ID[i]=Iw;IH=v.dataToPoint(ID,null,Iy);II[IB++]=IH?IH[1]:NaN}IC.setLayout("largePoints",II)}}};function eI(Z,v,m,k,e){var i;if(m>k){i=-1}else{if(m<k){i=1}else{i=v>0?(Z.get(e,v-1)<=k?1:-1):1}}return i}function qA(i,v2){var v1=i.getBaseAxis();var Z;var e=v1.type==="category"?v1.getBandWidth():(Z=v1.getExtent(),Math.abs(Z[1]-Z[0])/v2.count());var m=zS(kd(i.get("barMaxWidth"),e),e);var k=zS(kd(i.get("barMinWidth"),1),e);var v=i.get("barWidth");return v!=null?zS(v,e):Math.max(Math.min(e/2,m),k)}y6(kW);G(qd);pu(Gb);nW.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(i,e){return a(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var c0=3;function y3(e){if(!GL(e)){e=[+e,+e]}return e}function nE(e,i){e.eachChild(function(k){k.attr({z:i.z,zlevel:i.zlevel,style:{stroke:i.brushType==="stroke"?i.color:null,fill:i.brushType==="fill"?i.color:null}})})}function HP(m,e){Cc.call(this);var k=new lQ(m,e);var i=new Cc();this.add(k);this.add(i);i.beforeUpdate=function(){this.attr(k.getScale())};this.updateData(m,e)}var q9=HP.prototype;q9.stopEffectAnimation=function(){this.childAt(1).removeAll()};q9.startEffectAnimation=function(Z){var v2=Z.symbolType;var e=Z.color;var v=this.childAt(1);for(var m=0;m<c0;m++){var v1=uc(v2,-1,-1,2,2,e);v1.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var k=-m/c0*Z.period+Z.effectOffset;v1.animate("",true).when(Z.period,{scale:[Z.rippleScale/2,Z.rippleScale/2]}).delay(k).start();v1.animateStyle(true).when(Z.period,{opacity:0}).delay(k).start();v.add(v1)}nE(v,Z)};q9.updateEffectAnimation=function(Z){var e=this._effectCfg;var v=this.childAt(1);var m=["symbolType","period","rippleScale"];for(var k=0;k<m.length;k++){var v1=m[k];if(e[v1]!==Z[v1]){this.stopEffectAnimation();this.startEffectAnimation(Z);return}}nE(v,Z)};q9.highlight=function(){this.trigger("emphasis")};q9.downplay=function(){this.trigger("normal")};q9.updateData=function(Z,Is){var k=Z.hostModel;this.childAt(0).updateData(Z,Is);var Ir=this.childAt(1);var It=Z.getItemModel(Is);var Iu=Z.getItemVisual(Is,"symbol");var i=y3(Z.getItemVisual(Is,"symbolSize"));var v=Z.getItemVisual(Is,"color");Ir.attr("scale",i);Ir.traverse(function(Iv){Iv.attr({fill:v})});var v3=It.getShallow("symbolOffset");if(v3){var Iq=Ir.position;Iq[0]=zS(v3[0],i[0]);Iq[1]=zS(v3[1],i[1])}Ir.rotation=(It.getShallow("symbolRotate")||0)*Math.PI/180||0;var v2={};v2.showEffectOn=k.get("showEffectOn");v2.rippleScale=It.get("rippleEffect.scale");v2.brushType=It.get("rippleEffect.brushType");v2.period=It.get("rippleEffect.period")*1000;v2.effectOffset=Is/Z.count();v2.z=It.getShallow("z")||0;v2.zlevel=It.getShallow("zlevel")||0;v2.symbolType=Iu;v2.color=v;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(v2.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v2):this.startEffectAnimation(v2);this._effectCfg=v2}else{this._effectCfg=null;this.stopEffectAnimation();var e=this.childAt(0);var m=function(){e.highlight();if(v2.showEffectOn!=="render"){this.startEffectAnimation(v2)}};var v1=function(){e.downplay();if(v2.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",m,this).on("mouseout",v1,this).on("emphasis",m,this).on("normal",v1,this)}this._effectCfg=v2};q9.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal");e&&e()};mt(HP,Cc);BP({type:"effectScatter",init:function(){this._symbolDraw=new Fd(HP)},render:function(i,e,m){var v=i.getData();var k=this._symbolDraw;k.updateData(v);this.group.add(k.group)},updateTransform:function(i,e,m){var v=i.getData();this.group.dirty();var k=qD().reset(i);if(k.progress){k.progress({start:0,end:v.count()},v)}this._symbolDraw.updateLayout(v)},_updateGroupTransform:function(e){var i=e.coordinateSystem;if(i&&i.getRoamTransform){this.group.transform=uS(i.getRoamTransform());this.group.decomposeTransform()}},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(i)},dispose:function(){}});G(mn("effectScatter","circle"));pu(qD("effectScatter"));var rw=typeof Uint32Array==="undefined"?Array:Uint32Array;var DL=typeof Float64Array==="undefined"?Array:Float64Array;function bR(e){var i=e.data;if(i&&i[0]&&i[0][0]&&i[0][0].coord){if(om){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}e.data=Ej(i,function(v){var k=[v[0].coord,v[1].coord];var m={coords:k};if(v[0].name){m.fromName=v[0].name}if(v[1].name){m.toName=v[1].name}return aa([m,v[0],v[1]])})}}var yf=nW.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(i){i.data=i.data||[];bR(i);var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}yf.superApply(this,"init",arguments)},mergeOption:function(i){i.data=i.data||[];bR(i);if(i.data){var e=this._processFlatCoordsArray(i.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){i.data=new Float32Array(e.count)}}yf.superApply(this,"mergeOption",arguments)},appendData:function(i){var e=this._processFlatCoordsArray(i.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=lf(this._flatCoords,e.flatCoords);this._flatCoordsOffset=lf(this._flatCoordsOffset,e.flatCoordsOffset)}i.data=new Float32Array(e.count)}this.getRawData().appendData(i.data)},_getCoordsFromItemModel:function(e){var i=this.getData().getItemModel(e);var k=(i.option instanceof Array)?i.option:i.getShallow("coords");if(om){if(!(k instanceof Array&&k.length>0&&k[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(k)+". Lines must have 2d coords array in data item.")}}return k},getLineCoordsCount:function(e){if(this._flatCoordsOffset){return this._flatCoordsOffset[e*2+1]}else{return this._getCoordsFromItemModel(e).length}},getLineCoords:function(k,m){if(this._flatCoordsOffset){var v1=this._flatCoordsOffset[k*2];var e=this._flatCoordsOffset[k*2+1];for(var v=0;v<e;v++){m[v]=m[v]||[];m[v][0]=this._flatCoords[v1+v*2];m[v][1]=this._flatCoords[v1+v*2+1]}return e}else{var Z=this._getCoordsFromItemModel(k);for(var v=0;v<Z.length;v++){m[v]=m[v]||[];m[v][0]=Z[v][0];m[v][1]=Z[v][1]}return Z.length}},_processFlatCoordsArray:function(Z){var Iq=0;if(this._flatCoords){Iq=this._flatCoords.length}if(typeof Z[0]==="number"){var v3=Z.length;var Iu=new rw(v3);var v1=new DL(v3);var Iv=0;var e=0;var It=0;for(var v=0;v<v3;){It++;var v2=Z[v++];Iu[e++]=Iv+Iq;Iu[e++]=v2;for(var m=0;m<v2;m++){var Is=Z[v++];var Ir=Z[v++];v1[Iv++]=Is;v1[Iv++]=Ir;if(v>v3){if(om){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(Iu.buffer,0,e),flatCoords:v1,count:It}}return{flatCoordsOffset:null,flatCoords:null,count:Z.length}},getInitialData:function(k,e){if(om){var i=fB.get(k.coordinateSystem);if(!i){throw new Error("Unkown coordinate system "+k.coordinateSystem)}}var m=new xw(["value"],this);m.hasItemOption=false;m.initData(k.data,[],function(v,v3,Z,v2){if(v instanceof Array){return NaN}else{m.hasItemOption=true;var v1=v.value;if(v1!=null){return v1 instanceof Array?v1[v2]:v1}}});return m},formatTooltip:function(v){var v1=this.getData();var Z=v1.getItemModel(v);var i=Z.get("name");if(i){return i}var m=Z.get("fromName");var e=Z.get("toName");var k=[];m!=null&&k.push(m);e!=null&&k.push(e);return mx(k.join(" > "))},preventIncremental:function(){return !!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;if(e==null){return this.option.large?10000:this.get("progressive")}return e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?20000:this.get("progressiveThreshold")}return e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,label:{show:false,position:"end"},lineStyle:{opacity:0.5}}});function x9(k,e,i){Cc.call(this);this.add(this.createLine(k,e,i));this._updateEffectSymbol(k,e)}var m1=x9.prototype;m1.createLine=function(k,e,i){return new mO(k,e,i)};m1._updateEffectSymbol=function(v2,e){var v=v2.getItemModel(e);var k=v.getModel("effect");var m=k.get("symbolSize");var v1=k.get("symbol");if(!GL(m)){m=[m,m]}var i=k.get("color")||v2.getItemVisual(e,"color");var Z=this.childAt(1);if(this._symbolType!==v1){this.remove(Z);Z=uc(v1,-0.5,-0.5,1,1,i);Z.z2=100;Z.culling=true;this.add(Z)}if(!Z){return}Z.setStyle("shadowColor",i);Z.setStyle(k.getItemStyle(["color"]));Z.attr("scale",m);Z.setColor(i);Z.attr("scale",m);this._symbolType=v1;this._updateEffectAnimation(v2,k,e)};m1._updateEffectAnimation=function(k,Is,Iq){var m=this.childAt(1);if(!m){return}var It=this;var Ir=k.getItemLayout(Iq);var v3=Is.get("period")*1000;var Z=Is.get("loop");var v2=Is.get("constantSpeed");var e=gw(Is.get("delay"),function(Iu){return Iu/k.count()*v3/3});var v1=typeof e==="function";m.ignore=true;this.updateAnimationPoints(m,Ir);if(v2>0){v3=this.getLineLength(m)/v2*1000}if(v3!==this._period||Z!==this._loop){m.stopAnimation();var v=e;if(v1){v=e(Iq)}if(m.__t>0){v=-v3*m.__t}m.__t=0;var i=m.animate("",Z).when(v3,{__t:1}).delay(v).during(function(){It.updateSymbolPosition(m)});if(!Z){i.done(function(){It.remove(m)})}i.start()}this._period=v3;this._loop=Z};m1.getLineLength=function(e){return(DZ(e.__p1,e.__cp1)+DZ(e.__cp1,e.__p2))};m1.updateAnimationPoints=function(i,e){i.__p1=e[0];i.__p2=e[1];i.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};m1.updateData=function(k,e,i){this.childAt(0).updateData(k,e,i);this._updateEffectSymbol(k,e)};m1.updateSymbolPosition=function(e){var v3=e.__p1;var v2=e.__p2;var v=e.__cp1;var Iq=e.__t;var v1=e.position;var Z=ky;var i=vz;v1[0]=Z(v3[0],v[0],v2[0],Iq);v1[1]=Z(v3[1],v[1],v2[1],Iq);var m=i(v3[0],v[0],v2[0],Iq);var k=i(v3[1],v[1],v2[1],Iq);e.rotation=-Math.atan2(k,m)-Math.PI/2;e.ignore=false};m1.updateLayout=function(k,e){this.childAt(0).updateLayout(k,e);var i=k.getItemModel(e).getModel("effect");this._updateEffectAnimation(k,i,e)};mt(x9,Cc);function iL(k,e,i){Cc.call(this);this._createPolyline(k,e,i)}var ar=iL.prototype;ar._createPolyline=function(v,e,k){var m=v.getItemLayout(e);var i=new Ac({shape:{points:m}});this.add(i);this._updateCommonStl(v,e,k)};ar.updateData=function(Z,e,m){var k=Z.hostModel;var i=this.childAt(0);var v={shape:{points:Z.getItemLayout(e)}};oU(i,v,k,e);this._updateCommonStl(Z,e,m)};ar._updateCommonStl=function(v2,i,v){var k=this.childAt(0);var Z=v2.getItemModel(i);var m=v2.getItemVisual(i,"color");var e=v&&v.lineStyle;var v1=v&&v.hoverLineStyle;if(!v||v2.hasItemOption){e=Z.getModel("lineStyle").getLineStyle();v1=Z.getModel("emphasis.lineStyle").getLineStyle()}k.useStyle(Di({strokeNoScale:true,fill:"none",stroke:m},e));k.hoverStyle=v1;yr(this)};ar.updateLayout=function(k,e){var i=this.childAt(0);i.setShape("points",k.getItemLayout(e))};mt(iL,Cc);function f(k,e,i){x9.call(this,k,e,i);this._lastFrame=0;this._lastFramePercent=0}var rd=f.prototype;rd.createLine=function(k,e,i){return new iL(k,e,i)};rd.updateAnimationPoints=function(v,m){this._points=m;var v2=[0];var k=0;for(var e=1;e<m.length;e++){var v1=m[e-1];var Z=m[e];k+=DZ(v1,Z);v2.push(k)}if(k===0){return}for(var e=0;e<v2.length;e++){v2[e]/=k}this._offsets=v2;this._length=k};rd.getLineLength=function(e){return this._length};rd.updateSymbolPosition=function(m){var Iq=m.__t;var v3=this._points;var v=this._offsets;var v2=v3.length;if(!v){return}var i=this._lastFrame;var k;if(Iq<this._lastFramePercent){var e=Math.min(i+1,v2-1);for(k=e;k>=0;k--){if(v[k]<=Iq){break}}k=Math.min(k,v2-2)}else{for(var k=i;k<v2;k++){if(v[k]>Iq){break}}k=Math.min(k-1,v2-2)}rK(m.position,v3[k],v3[k+1],(Iq-v[k])/(v[k+1]-v[k]));var v1=v3[k+1][0]-v3[k][0];var Z=v3[k+1][1]-v3[k][1];m.rotation=-Math.atan2(Z,v1)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=Iq;m.ignore=false};mt(f,x9);var i6=HD({shape:{polyline:false,curveness:0,segs:[]},buildPath:function(Iv,Ir){var v=Ir.segs;var v2=Ir.curveness;if(Ir.polyline){for(var v3=0;v3<v.length;){var Iq=v[v3++];if(Iq>0){Iv.moveTo(v[v3++],v[v3++]);for(var v1=1;v1<Iq;v1++){Iv.lineTo(v[v3++],v[v3++])}}}}else{for(var v3=0;v3<v.length;){var Z=v[v3++];var Iu=v[v3++];var m=v[v3++];var It=v[v3++];Iv.moveTo(Z,Iu);if(v2>0){var e=(Z+m)/2-(Iu-It)*v2;var Is=(Iu+It)/2-(m-Z)*v2;Iv.quadraticCurveTo(e,Is,m,It)}else{Iv.lineTo(m,It)}}}},findDataIndex:function(Iw,It){var Ir=this.shape;var v=Ir.segs;var v2=Ir.curveness;if(Ir.polyline){var Iv=0;for(var v3=0;v3<v.length;){var Iq=v[v3++];if(Iq>0){var Z=v[v3++];var Ix=v[v3++];for(var v1=1;v1<Iq;v1++){var m=v[v3++];var Iu=v[v3++];if(qX(Z,Ix,m,Iu)){return Iv}}}Iv++}}else{var Iv=0;for(var v3=0;v3<v.length;){var Z=v[v3++];var Ix=v[v3++];var m=v[v3++];var Iu=v[v3++];if(v2>0){var e=(Z+m)/2-(Ix-Iu)*v2;var Is=(Ix+Iu)/2-(m-Z)*v2;if(qV(Z,Ix,e,Is,m,Iu)){return Iv}}else{if(qX(Z,Ix,m,Iu)){return Iv}}Iv++}}return -1}});function HJ(){this.group=new Cc()}var e0=HJ.prototype;e0.isPersistent=function(){return !this._incremental};e0.updateData=function(i){this.group.removeAll();var e=new i6({rectHover:true,cursor:"default"});e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i);this.group.add(e);this._incremental=null};e0.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>500000){if(!this._incremental){this._incremental=new zQ({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};e0.incrementalUpdate=function(k,i){var e=new i6();e.setShape({segs:i.getLayout("linesPoints")});this._setCommon(e,i,!!this._incremental);if(!this._incremental){e.rectHover=true;e.cursor="default";e.__startIndex=k.start;this.group.add(e)}else{this._incremental.addDisplayable(e,true)}};e0.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};e0._setCommon=function(k,m,e){var v=m.hostModel;k.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")});k.useStyle(v.getModel("lineStyle").getLineStyle());k.style.strokeNoScale=true;var i=m.getVisual("color");if(i){k.setStyle("stroke",i)}k.setStyle("fill");if(!e){k.seriesIndex=v.seriesIndex;k.on("mousemove",function(v1){k.dataIndex=null;var Z=k.findDataIndex(v1.offsetX,v1.offsetY);if(Z>0){k.dataIndex=Z+k.__startIndex}})}};e0._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};var bX={seriesType:"lines",plan:Ew(),reset:function(e){var k=e.coordinateSystem;var v=e.get("polyline");var m=e.pipelineContext.large;function i(v3,v1){var Iw=[];if(m){var Ix;var Z=v3.end-v3.start;if(v){var It=0;for(var Iu=v3.start;Iu<v3.end;Iu++){It+=e.getLineCoordsCount(Iu)}Ix=new Float32Array(Z+It*2)}else{Ix=new Float32Array(Z*4)}var Is=0;var IA=[];for(var Iu=v3.start;Iu<v3.end;Iu++){var Iv=e.getLineCoords(Iu,Iw);if(v){Ix[Is++]=Iv}for(var v2=0;v2<Iv;v2++){IA=k.dataToPoint(Iw[v2],false,IA);Ix[Is++]=IA[0];Ix[Is++]=IA[1]}}v1.setLayout("linesPoints",Ix)}else{for(var Iu=v3.start;Iu<v3.end;Iu++){var Iy=v1.getItemModel(Iu);var Iv=e.getLineCoords(Iu,Iw);var Iz=[];if(v){for(var Ir=0;Ir<Iv;Ir++){Iz.push(k.dataToPoint(Iw[Ir]))}}else{Iz[0]=k.dataToPoint(Iw[0]);Iz[1]=k.dataToPoint(Iw[1]);var Iq=Iy.get("lineStyle.curveness");if(+Iq){Iz[2]=[(Iz[0][0]+Iz[1][0])/2-(Iz[0][1]-Iz[1][1])*Iq,(Iz[0][1]+Iz[1][1])/2-(Iz[1][0]-Iz[0][0])*Iq]}}v1.setItemLayout(Iu,Iz)}}}return{progress:i}}};BP({type:"lines",init:function(){},render:function(i,v1,v2){var m=i.getData();var Iq=this._updateLineDraw(m,i);var Z=i.get("zlevel");var v=i.get("effect.trailLength");var v3=v2.getZr();var k=v3.painter.getType()==="svg";if(!k){v3.painter.getLayer(Z).clear(true)}if(this._lastZlevel!=null&&!k){v3.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(i)&&v){if(om){var e=false;v1.eachSeries(function(Ir){if(Ir!==i&&Ir.get("zlevel")===Z){e=true}});e&&console.warn("Lines with trail effect should have an individual zlevel")}if(!k){v3.configLayer(Z,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(v/10+0.9,1),0)})}}Iq.updateData(m);this._lastZlevel=Z;this._finished=true},incrementalPrepareRender:function(i,e,m){var v=i.getData();var k=this._updateLineDraw(v,i);k.incrementalPrepareUpdate(v);this._clearLayer(m);this._finished=false},incrementalRender:function(k,i,e){this._lineDraw.incrementalUpdate(k,i.getData());this._finished=k.end===i.getData().count()},updateTransform:function(i,e,m){var Z=i.getData();var v=i.pipelineContext;if(!this._finished||v.large||v.progressiveRender){return{update:true}}else{var k=bX.reset(i);if(k.progress){k.progress({start:0,end:Z.count()},Z)}this._lineDraw.updateLayout();this._clearLayer(m)}},_updateLineDraw:function(Z,k){var m=this._lineDraw;var e=this._showEffect(k);var v1=!!k.get("polyline");var v=k.pipelineContext;var i=v.large;if(om){if(e&&i){console.warn("Large lines not support effect")}}if(!m||e!==this._hasEffet||v1!==this._isPolyline||i!==this._isLargeDraw){if(m){m.remove()}m=this._lineDraw=i?new HJ():new hy(v1?(e?f:iL):(e?x9:mO));this._hasEffet=e;this._isPolyline=v1;this._isLargeDraw=i;this.group.removeAll()}this.group.add(m.group);return m},_showEffect:function(e){return !!e.get("effect.show")},_clearLayer:function(e){var k=e.getZr();var i=k.painter.getType()==="svg";if(!i&&this._lastZlevel!=null){k.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(e,i){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(i)},dispose:function(){}});function lu(e){if(!(e instanceof Array)){e=[e,e]}return e}var zU="lineStyle.opacity".split(".");var FI={seriesType:"lines",reset:function(i,e,m){var v1=lu(i.get("symbol"));var Z=lu(i.get("symbolSize"));var v=i.getData();v.setVisual("fromSymbol",v1&&v1[0]);v.setVisual("toSymbol",v1&&v1[1]);v.setVisual("fromSymbolSize",Z&&Z[0]);v.setVisual("toSymbolSize",Z&&Z[1]);v.setVisual("opacity",i.get(zU));function k(Is,v2){var Iq=Is.getItemModel(v2);var It=lu(Iq.getShallow("symbol",true));var Ir=lu(Iq.getShallow("symbolSize",true));var v3=Iq.get(zU);It[0]&&Is.setItemVisual(v2,"fromSymbol",It[0]);It[1]&&Is.setItemVisual(v2,"toSymbol",It[1]);Ir[0]&&Is.setItemVisual(v2,"fromSymbolSize",Ir[0]);Ir[1]&&Is.setItemVisual(v2,"toSymbolSize",Ir[1]);Is.setItemVisual(v2,"opacity",v3)}return{dataEach:v.hasItemOption?k:null}}};pu(bX);G(FI);nW.extend({type:"series.heatmap",getInitialData:function(i,e){return a(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=fB.get(this.get("coordinateSystem"));if(e&&e.dimensions){return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"}},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var oP=256;function mw(){var e=Dg();this.canvas=e;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}mw.prototype={update:function(IJ,IA,Iy,ID,k,e){var v=this._getBrush();var Iv=this._getGradient(IJ,k,"inRange");var v2=this._getGradient(IJ,k,"outOfRange");var Iw=this.pointSize+this.blurSize;var Z=this.canvas;var IC=Z.getContext("2d");var IG=IJ.length;Z.width=IA;Z.height=Iy;for(var IF=0;IF<IG;++IF){var Iz=IJ[IF];var Is=Iz[0];var Ir=Iz[1];var IB=Iz[2];var v1=ID(IB);IC.globalAlpha=v1;IC.drawImage(v,Is-Iw,Ir-Iw)}if(!Z.width||!Z.height){return Z}var IH=IC.getImageData(0,0,Z.width,Z.height);var Ix=IH.data;var v3=0;var Iq=Ix.length;var IE=this.minOpacity;var II=this.maxOpacity;var It=II-IE;while(v3<Iq){var v1=Ix[v3+3]/256;var Iu=Math.floor(v1*(oP-1))*4;if(v1>0){var m=e(v1)?Iv:v2;v1>0&&(v1=v1*It+IE);Ix[v3++]=m[Iu];Ix[v3++]=m[Iu+1];Ix[v3++]=m[Iu+2];Ix[v3++]=m[Iu+3]*v1*256}else{v3+=4}}IC.putImageData(IH,0,0);return Z},_getBrush:function(){var k=this._brushCanvas||(this._brushCanvas=Dg());var i=this.pointSize+this.blurSize;var m=i*2;k.width=m;k.height=m;var e=k.getContext("2d");e.clearRect(0,0,m,m);e.shadowOffsetX=m;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-i,i,this.pointSize,0,Math.PI*2,true);e.closePath();e.fill();return k},_getGradient:function(v2,v,v1){var m=this._gradientPixels;var k=m[v1]||(m[v1]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var v3=0;for(var Z=0;Z<256;Z++){v[v1](Z/255,true,e);k[v3++]=e[0];k[v3++]=e[1];k[v3++]=e[2];k[v3++]=e[3]}return k}};function cS(v,i,m){var k=v[1]-v[0];i=Ej(i,function(v1){return{interval:[(v1.interval[0]-v[0])/k,(v1.interval[1]-v[0])/k]}});var e=i.length;var Z=0;return function(v3){for(var v2=Z;v2<e;v2++){var v1=i[v2].interval;if(v1[0]<=v3&&v3<=v1[1]){Z=v2;break}}if(v2===e){for(var v2=Z-1;v2>=0;v2--){var v1=i[v2].interval;if(v1[0]<=v3&&v3<=v1[1]){Z=v2;break}}}return v2>=0&&v2<e&&m[v2]}}function q(k,i){var e=k[1]-k[0];i=[(i[0]-k[0])/e,(i[1]-k[0])/e];return function(m){return m>=i[0]&&m<=i[1]}}function sA(e){var i=e.dimensions;return i[0]==="lng"&&i[1]==="lat"}BP({type:"heatmap",render:function(i,e,m){var v;e.eachComponent("visualMap",function(Z){Z.eachTargetSeries(function(v1){if(v1===i){v=Z}})});if(om){if(!v){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var k=i.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(i,m,0,i.getData().count())}else{if(sA(k)){this._renderOnGeo(k,i,v,m)}}},incrementalPrepareRender:function(i,e,k){this.group.removeAll()},incrementalRender:function(v,i,e,m){var k=i.coordinateSystem;if(k){this._renderOnCartesianAndCalendar(i,m,v.start,v.end,true)}},_renderOnCartesianAndCalendar:function(Ix,It,v1,Z,Iz){var v2=Ix.coordinateSystem;var Iy;var Iv;if(v2.type==="cartesian2d"){var Iq=v2.getAxis("x");var e=v2.getAxis("y");if(om){if(!(Iq.type==="category"&&e.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(Iq.onBand&&e.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}Iy=Iq.getBandWidth();Iv=e.getBandWidth()}var v3=this.group;var II=Ix.getData();var m="itemStyle";var k="emphasis.itemStyle";var Is="label";var IG="emphasis.label";var IF=Ix.getModel(m).getItemStyle(["color"]);var IB=Ix.getModel(k).getItemStyle();var Ir=Ix.getModel(Is);var IE=Ix.getModel(IG);var IH=v2.type;var v=IH==="cartesian2d"?[II.mapDimension("x"),II.mapDimension("y"),II.mapDimension("value")]:[II.mapDimension("time"),II.mapDimension("value")];for(var Iu=v1;Iu<Z;Iu++){var i;if(IH==="cartesian2d"){if(isNaN(II.get(v[2],Iu))){continue}var IA=v2.dataToPoint([II.get(v[0],Iu),II.get(v[1],Iu)]);i=new EL({shape:{x:IA[0]-Iy/2,y:IA[1]-Iv/2,width:Iy,height:Iv},style:{fill:II.getItemVisual(Iu,"color"),opacity:II.getItemVisual(Iu,"opacity")}})}else{if(isNaN(II.get(v[1],Iu))){continue}i=new EL({z2:1,shape:v2.dataToRect([II.get(v[0],Iu)]).contentShape,style:{fill:II.getItemVisual(Iu,"color"),opacity:II.getItemVisual(Iu,"opacity")}})}var ID=II.getItemModel(Iu);if(II.hasItemOption){IF=ID.getModel(m).getItemStyle(["color"]);IB=ID.getModel(k).getItemStyle();Ir=ID.getModel(Is);IE=ID.getModel(IG)}var IC=Ix.getRawValue(Iu);var Iw="-";if(IC&&IC[2]!=null){Iw=IC[2]}BH(IF,IB,Ir,IE,{labelFetcher:Ix,labelDataIndex:Iu,defaultText:Iw,isRectText:true});i.setStyle(IF);yr(i,II.hasItemOption?IB:b0({},IB));i.incremental=Iz;if(Iz){i.useHoverLayer=true}v3.add(i);II.setItemGraphicEl(Iu,i)}},_renderOnGeo:function(IB,Iu,v2,Ir){var v=v2.targetVisuals.inRange;var Iq=v2.targetVisuals.outOfRange;var Iz=Iu.getData();var Z=this._hmLayer||(this._hmLayer||new mw());Z.blurSize=Iu.get("blurSize");Z.pointSize=Iu.get("pointSize");Z.minOpacity=Iu.get("minOpacity");Z.maxOpacity=Iu.get("maxOpacity");var i=IB.getViewRect().clone();var m=IB.getRoamTransform();i.applyTransform(m);var v3=Math.max(i.x,0);var v1=Math.max(i.y,0);var Iy=Math.min(i.width+i.x,Ir.getWidth());var k=Math.min(i.height+i.y,Ir.getHeight());var Iv=Iy-v3;var Is=k-v1;var It=[Iz.mapDimension("lng"),Iz.mapDimension("lat"),Iz.mapDimension("value")];var Ix=Iz.mapArray(It,function(IC,IF,ID){var IE=IB.dataToPoint([IC,IF]);IE[0]-=v3;IE[1]-=v1;IE.push(ID);return IE});var Iw=v2.getExtent();var e=v2.type==="visualMap.continuous"?q(Iw,v2.option.range):cS(Iw,v2.getPieceList(),v2.option.selected);Z.update(Ix,Iv,Is,v.color.getNormalizer(),{inRange:v.color.getColorMapper(),outOfRange:Iq.color.getColorMapper()},e);var IA=new Fx({style:{width:Iv,height:Is,x:v3,y:v1,image:Z.canvas},silent:true});this.group.add(IA)},dispose:function(){}});var gG=wP.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(e){e.stack=null;return gG.superApply(this,"getInitialData",arguments)}});var AU=["itemStyle","borderWidth"];var yP=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var Cl=new GN();var fi=BP({type:"pictorialBar",render:function(k,v1,v2){var Iq=this.group;var m=k.getData();var v=this._data;var Z=k.coordinateSystem;var i=Z.getBaseAxis();var v3=!!i.isHorizontal();var Ir=Z.grid.getRect();var e={ecSize:{width:v2.getWidth(),height:v2.getHeight()},seriesModel:k,coordSys:Z,coordSysExtent:[[Ir.x,Ir.x+Ir.width],[Ir.y,Ir.y+Ir.height]],isHorizontal:v3,valueDim:yP[+v3],categoryDim:yP[1-v3]};m.diff(v).add(function(It){if(!m.hasValue(It)){return}var Iu=zs(m,It);var Is=ow(m,It,Iu,e);var Iv=pd(m,e,Is);m.setItemGraphicEl(It,Iv);Iq.add(Iv);iY(Iv,e,Is)}).update(function(It,Ix){var Iv=v.getItemGraphicEl(Ix);if(!m.hasValue(It)){Iq.remove(Iv);return}var Iu=zs(m,It);var Is=ow(m,It,Iu,e);var Iw=cs(m,Is);if(Iv&&Iw!==Iv.__pictorialShapeStr){Iq.remove(Iv);m.setItemGraphicEl(It,null);Iv=null}if(Iv){c1(Iv,e,Is)}else{Iv=pd(m,e,Is,true)}m.setItemGraphicEl(It,Iv);Iv.__pictorialSymbolMeta=Is;Iq.add(Iv);iY(Iv,e,Is)}).remove(function(Is){var It=v.getItemGraphicEl(Is);It&&wy(v,Is,It.__pictorialSymbolMeta.animationModel,It)}).execute();this._data=m;return this.group},dispose:V,remove:function(e,i){var m=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(v){wy(k,v.dataIndex,e,v)})}}else{m.removeAll()}}});function ow(v1,Is,Iv,e){var v2=v1.getItemLayout(Is);var Z=Iv.get("symbolRepeat");var v3=Iv.get("symbolClip");var It=Iv.get("symbolPosition")||"start";var Ir=Iv.get("symbolRotate");var Iu=(Ir||0)*Math.PI/180||0;var v=Iv.get("symbolPatternSize")||2;var i=Iv.isAnimationEnabled();var k={dataIndex:Is,layout:v2,itemModel:Iv,symbolType:v1.getItemVisual(Is,"symbol")||"circle",color:v1.getItemVisual(Is,"color"),symbolClip:v3,symbolRepeat:Z,symbolRepeatDirection:Iv.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:Iu,animationModel:i?Iv:null,hoverAnimation:i&&Iv.get("hoverAnimation"),z2:Iv.getShallow("z",true)||0};o(Iv,Z,v2,e,k);z2(v1,Is,v2,Z,v3,k.boundingLength,k.pxSign,v,e,k);p2(Iv,k.symbolScale,Iu,e,k);var m=k.symbolSize;var Iq=Iv.get("symbolOffset");if(GL(Iq)){Iq=[zS(Iq[0],m[0]),zS(Iq[1],m[1])]}kU(Iv,m,v2,Z,v3,Iq,It,k.valueLineWidth,k.boundingLength,k.repeatCutLength,e,k);return k}function o(Is,m,Z,e,i){var v2=e.valueDim;var v1=Is.get("symbolBoundingData");var Iq=e.coordSys.getOtherAxis(e.coordSys.getBaseAxis());var Ir=Iq.toGlobalCoord(Iq.dataToCoord(0));var k=1-+(Z[v2.wh]<=0);var v3;if(GL(v1)){var v=[h(Iq,v1[0])-Ir,h(Iq,v1[1])-Ir];v[1]<v[0]&&(v.reverse());v3=v[k]}else{if(v1!=null){v3=h(Iq,v1)-Ir}else{if(m){v3=e.coordSysExtent[v2.index][k]-Ir}else{v3=Z[v2.wh]}}}i.boundingLength=v3;if(m){i.repeatCutLength=Z[v2.wh]}i.pxSign=v3>0?1:v3<0?-1:0}function h(e,i){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(i)))}function z2(v1,Iu,Iq,Z,Ir,It,v2,v,e,k){var Is=e.valueDim;var Iv=e.categoryDim;var i=Math.abs(Iq[Iv.wh]);var m=v1.getItemVisual(Iu,"symbolSize");if(GL(m)){m=m.slice()}else{if(m==null){m="100%"}m=[m,m]}m[Iv.index]=zS(m[Iv.index],i);m[Is.index]=zS(m[Is.index],Z?i:Math.abs(It));k.symbolSize=m;var v3=k.symbolScale=[m[0]/v,m[1]/v];v3[Is.index]*=(e.isHorizontal?-1:1)*v2}function p2(m,Z,k,i,e){var v=m.get(AU)||0;if(v){Cl.attr({scale:Z.slice(),rotation:k});Cl.updateTransform();v/=Cl.getLineScale();v*=Z[i.valueDim.index]}e.valueLineWidth=v}function kU(IA,II,IG,IE,v1,Iz,Iy,ID,Iq,Iw,m,Is){var IH=m.categoryDim;var Z=m.valueDim;var IK=Is.pxSign;var IF=Math.max(II[Z.index]+ID,0);var IB=IF;if(IE){var Ix=Math.abs(Iq);var Iv=gw(IA.get("symbolMargin"),"15%")+"";var It=false;if(Iv.lastIndexOf("!")===Iv.length-1){It=true;Iv=Iv.slice(0,Iv.length-1)}Iv=zS(Iv,II[Z.index]);var Iu=Math.max(IF+Iv*2,0);var k=It?0:Iv*2;var i=lE(IE);var v=i?IE:wV((Ix+k)/Iu);var e=Ix-v*IF;Iv=e/2/(It?v:v-1);Iu=IF+Iv*2;k=It?0:Iv*2;if(!i&&IE!=="fixed"){v=Iw?wV((Math.abs(Iw)+k)/Iu):0}IB=v*Iu-k;Is.repeatTimes=v;Is.symbolMargin=Iv}var v2=IK*(IB/2);var IJ=Is.pathPosition=[];IJ[IH.index]=IG[IH.wh]/2;IJ[Z.index]=Iy==="start"?v2:Iy==="end"?Iq-v2:Iq/2;if(Iz){IJ[0]+=Iz[0];IJ[1]+=Iz[1]}var Ir=Is.bundlePosition=[];Ir[IH.index]=IG[IH.xy];Ir[Z.index]=IG[Z.xy];var IC=Is.barRectShape=b0({},IG);IC[Z.wh]=IK*Math.max(Math.abs(IG[Z.wh]),Math.abs(IJ[Z.index]+v2));IC[IH.wh]=IG[IH.wh];var v3=Is.clipShape={};v3[IH.xy]=-IG[IH.xy];v3[IH.wh]=m.ecSize[IH.wh];v3[Z.xy]=0;v3[Z.wh]=IG[Z.wh]}function uN(e){var i=e.symbolPatternSize;var k=uc(e.symbolType,-i/2,-i/2,i,i,e.color);k.attr({culling:true});k.type!=="image"&&k.setStyle({strokeNoScale:true});return k}function ik(Ir,i,m,Iw){var Ix=Ir.__pictorialBundle;var v=m.symbolSize;var e=m.valueLineWidth;var v1=m.pathPosition;var Iq=i.valueDim;var Iv=m.repeatTimes||0;var v2=0;var It=v[i.valueDim.index]+e+m.symbolMargin*2;lD(Ir,function(Iy){Iy.__pictorialAnimationIndex=v2;Iy.__pictorialRepeatTimes=Iv;if(v2<Iv){ur(Iy,null,k(v2),m,Iw)}else{ur(Iy,null,{scale:[0,0]},m,Iw,function(){Ix.remove(Iy)})}u1(Iy,m);v2++});for(;v2<Iv;v2++){var Iu=uN(m);Iu.__pictorialAnimationIndex=v2;Iu.__pictorialRepeatTimes=Iv;Ix.add(Iu);var v3=k(v2);ur(Iu,{position:v3.position,scale:[0,0]},{scale:v3.scale,rotation:v3.rotation},m,Iw);Iu.on("mouseover",Z).on("mouseout",Is);u1(Iu,m)}function k(IA){var Iy=v1.slice();var Iz=m.pxSign;var IB=IA;if(m.symbolRepeatDirection==="start"?Iz>0:Iz<0){IB=Iv-1-IA}Iy[Iq.index]=It*(IB-Iv/2+0.5)+v1[Iq.index];return{position:Iy,scale:m.symbolScale.slice(),rotation:m.rotation}}function Z(){lD(Ir,function(Iy){Iy.trigger("emphasis")})}function Is(){lD(Ir,function(Iy){Iy.trigger("normal")})}}function gj(v1,v,i,v2){var k=v1.__pictorialBundle;var m=v1.__pictorialMainPath;if(!m){m=v1.__pictorialMainPath=uN(i);k.add(m);ur(m,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,v2);m.on("mouseover",Z).on("mouseout",e)}else{ur(m,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,v2)}u1(m,i);function Z(){this.trigger("emphasis")}function e(){this.trigger("normal")}}function xC(k,e,m){var i=b0({},e.barRectShape);var v=k.__pictorialBarRect;if(!v){v=k.__pictorialBarRect=new EL({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});k.add(v)}else{ur(v,null,{shape:i},e,m)}}function mE(v1,e,k,Iq){if(k.symbolClip){var v2=v1.__pictorialClipPath;var i=b0({},k.clipShape);var Z=e.valueDim;var m=k.animationModel;var v3=k.dataIndex;if(v2){oU(v2,{shape:i},m,v3)}else{i[Z.wh]=0;v2=new EL({shape:i});v1.__pictorialBundle.setClipPath(v2);v1.__pictorialClipPath=v2;var v={};v[Z.wh]=k.clipShape[Z.wh];yj[Iq?"updateProps":"initProps"](v2,{shape:v},m,v3)}}}function zs(k,e){var i=k.getItemModel(e);i.getAnimationDelayParams=gd;i.isAnimationEnabled=al;return i}function gd(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function al(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function u1(i,e){i.off("emphasis").off("normal");var k=e.symbolScale.slice();e.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[k[0]*1.1,k[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:k.slice()},400,"elasticOut")})}function pd(Z,k,e,v){var m=new Cc();var i=new Cc();m.add(i);m.__pictorialBundle=i;i.attr("position",e.bundlePosition.slice());if(e.symbolRepeat){ik(m,k,e)}else{gj(m,k,e)}xC(m,e,v);mE(m,k,e,v);m.__pictorialShapeStr=cs(Z,e);m.__pictorialSymbolMeta=e;return m}function c1(Z,v,e){var m=e.animationModel;var k=e.dataIndex;var i=Z.__pictorialBundle;oU(i,{position:e.bundlePosition.slice()},m,k);if(e.symbolRepeat){ik(Z,v,e,true)}else{gj(Z,v,e,true)}xC(Z,e,true);mE(Z,v,e,true)}function wy(Z,m,k,v){var i=v.__pictorialBarRect;i&&(i.style.text=null);var e=[];lD(v,function(v1){e.push(v1)});v.__pictorialMainPath&&e.push(v.__pictorialMainPath);v.__pictorialClipPath&&(k=null);pb(e,function(v1){oU(v1,{scale:[0,0]},k,m,function(){v.parent&&v.parent.remove(v)})});Z.setItemGraphicEl(m,null)}function cs(i,e){return[i.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function lD(k,e,i){pb(k.__pictorialBundle.children(),function(m){m!==k.__pictorialBarRect&&e.call(i,m)})}function ur(m,Z,k,i,v,e){Z&&m.attr(Z);if(i.symbolClip&&!v){k&&m.attr(k)}else{k&&yj[v?"updateProps":"initProps"](m,k,i.animationModel,i.dataIndex,e)}}function iY(v1,i,k){var Z=k.color;var v3=k.dataIndex;var Ir=k.itemModel;var e=Ir.getModel("itemStyle").getItemStyle(["color"]);var m=Ir.getModel("emphasis.itemStyle").getItemStyle();var Iq=Ir.getShallow("cursor");lD(v1,function(It){It.setColor(Z);It.setStyle(Di({fill:Z,opacity:k.opacity},e));yr(It,m);Iq&&(It.cursor=Iq);It.z2=k.z2});var v={};var v2=i.valueDim.posDesc[+(k.boundingLength>0)];var Is=v1.__pictorialBarRect;EP(Is.style,v,Ir,Z,i.seriesModel,v3,v2);yr(Is,v)}function wV(i){var e=Math.round(i);return Math.abs(i-e)<0.0001?e:Math.ceil(i)}pu(sy(bA,"pictorialBar"));G(mn("pictorialBar","roundRect"));var rM=function(m,v,k,i,e){BW.call(this,m,v,k);this.type=i||"value";this.position=e||"bottom";this.orient=null};rM.prototype={constructor:rM,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},pointToData:function(e,i){return this.coordinateSystem.pointToData(e,i)[0]},toGlobalCoord:null,toLocalCoord:null};mt(rM,BW);function b7(i,e,k){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(i,e,k);this.model=i}b7.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:b7,_init:function(k,e,v){var Z=this.dimension;var m=new rM(Z,ns(k),[0,0],k.get("type"),k.get("position"));var i=m.type==="category";m.onBand=i&&k.get("boundaryGap");m.inverse=k.get("inverse");m.orient=k.get("orient");k.axis=m;m.model=k;m.coordinateSystem=this;this._axis=m},update:function(e,i){e.eachSeries(function(k){if(k.coordinateSystem===this){var m=k.getData();pb(m.mapDimension(this.dimension,true),function(v){this._axis.scale.unionExtentFromData(m,v)},this);nN(this._axis.scale,this._axis.model)}},this)},resize:function(e,i){this._rect=kX({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:i.getWidth(),height:i.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var m=this._rect;var k=this._axis;var v=k.isHorizontal();var i=v?[0,m.width]:[0,m.height];var e=k.reverse?1:0;k.setExtent(i[e],i[1-e]);this._updateAxisTransform(k,v?m.x:m.y)},_updateAxisTransform:function(i,e){var v=i.getExtent();var m=v[0]+v[1];var k=i.isHorizontal();i.toGlobalCoord=k?function(Z){return Z+e}:function(Z){return m-Z+e};i.toLocalCoord=k?function(Z){return Z-e}:function(Z){return m-Z+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var m=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(e[0]))&&(e[1]>=m.y&&e[1]<=(m.y+m.height))}else{return k.contain(k.toLocalCoord(e[1]))&&(e[0]>=m.y&&e[0]<=(m.y+m.height))}},pointToData:function(e){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1]))]},dataToPoint:function(v){var i=this.getAxis();var k=this.getRect();var m=[];var e=i.orient==="horizontal"?0:1;if(v instanceof Array){v=v[0]}m[e]=i.toGlobalCoord(i.dataToCoord(+v));m[1-e]=e===0?(k.y+k.height/2):(k.x+k.width/2);return m}};function CB(e,i){var k=[];e.eachComponent("singleAxis",function(v,m){var Z=new b7(v,e,i);Z.name="single_"+m;Z.resize(v,i);v.coordinateSystem=Z;k.push(Z)});e.eachSeries(function(m){if(m.get("coordinateSystem")==="singleAxis"){var v=e.queryComponents({mainType:"singleAxis",index:m.get("singleAxisIndex"),id:m.get("singleAxisId")})[0];m.coordinateSystem=v&&v.coordinateSystem}});return k}fB.register("single",{create:CB,dimensions:b7.prototype.dimensions});function eh(Ir,i){i=i||{};var Iq=Ir.coordinateSystem;var k=Ir.axis;var v={};var Z=k.position;var m=k.orient;var v3=Iq.getRect();var v1=[v3.x,v3.x+v3.width,v3.y,v3.y+v3.height];var It={horizontal:{top:v1[2],bottom:v1[3]},vertical:{left:v1[0],right:v1[1]}};v.position=[m==="vertical"?It.vertical[Z]:v1[0],m==="horizontal"?It.horizontal[Z]:v1[3]];var e={horizontal:0,vertical:1};v.rotation=Math.PI/2*e[m];var v2={top:-1,bottom:1,right:1,left:-1};v.labelDirection=v.tickDirection=v.nameDirection=v2[Z];if(Ir.get("axisTick.inside")){v.tickDirection=-v.tickDirection}if(gw(i.labelInside,Ir.get("axisLabel.inside"))){v.labelDirection=-v.labelDirection}var Is=i.rotate;Is==null&&(Is=Ir.get("axisLabel.rotate"));v.labelRotation=Z==="top"?-Is:Is;v.z2=1;return v}var EV=["axisLine","axisTickLabel","axisName"];var uH="splitLine";var EN=f4.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,k,v1){var Z=this.group;Z.removeAll();var m=eh(i);var v=new db(i,m);pb(EV,v.add,v);Z.add(v.getGroup());if(i.get(uH+".show")){this["_"+uH](i)}EN.superCall(this,"render",i,e,k,v1)},_splitLine:function(Iu){var v=Iu.axis;if(v.scale.isBlank()){return}var m=Iu.getModel("splitLine");var Iq=m.getModel("lineStyle");var v1=Iq.get("width");var Ix=Iq.get("color");Ix=Ix instanceof Array?Ix:[Ix];var e=Iu.coordinateSystem.getRect();var Ir=v.isHorizontal();var v2=[];var Iw=0;var v3=v.getTicksCoords({tickModel:m});var Iv=[];var It=[];for(var Z=0;Z<v3.length;++Z){var k=v.toGlobalCoord(v3[Z].coord);if(Ir){Iv[0]=k;Iv[1]=e.y;It[0]=k;It[1]=e.y+e.height}else{Iv[0]=e.x;Iv[1]=k;It[0]=e.x+e.width;It[1]=k}var Is=(Iw++)%Ix.length;v2[Is]=v2[Is]||[];v2[Is].push(new zG(dp({shape:{x1:Iv[0],y1:Iv[1],x2:It[0],y2:It[1]},style:{lineWidth:v1},silent:true})))}for(var Z=0;Z<v2.length;++Z){this.group.add(rb(v2[Z],{style:{stroke:Ix[Z%Ix.length],lineDash:Iq.getLineDash(v1),lineWidth:v1},silent:true}))}}});var mm=aH.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var qk={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:2,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:2}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function se(i,e){return e.type||(e.data?"category":"value")}v7(mm.prototype,nD);mT("single",mm,se,qk);var ul=function(e,v1){var Iq=[];var v=e.seriesIndex;var k;if(v==null||!(k=v1.getSeriesByIndex(v))){return{point:[]}}var Z=k.getData();var v3=xh(Z,e);if(v3==null||v3<0||GL(v3)){return{point:[]}}var i=Z.getItemGraphicEl(v3);var m=k.coordinateSystem;if(k.getTooltipPosition){Iq=k.getTooltipPosition(v3)||[]}else{if(m&&m.dataToPoint){Iq=m.dataToPoint(Z.getValues(Ej(m.dimensions,function(Ir){return Z.mapDimension(Ir)}),v3,true))||[]}else{if(i){var v2=i.getBoundingRect().clone();v2.applyTransform(i.transform);Iq=[v2.x+v2.width/2,v2.y+v2.height/2]}}}return{point:Iq,el:i}};var tX=pb;var um=sy;var hJ=fM();var tw=function(Ir,v1,v2){var Iv=Ir.currTrigger;var Is=[Ir.x,Ir.y];var i=Ir;var v=Ir.dispatchAction||ko(v2.dispatchAction,v2);var m=v1.getComponent("axisPointer").coordSysAxesInfo;if(!m){return}if(wT(Is)){Is=ul({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},v1).point}var Iq=wT(Is);var v3=i.axesInfo;var k=m.axesInfo;var Ix=Iv==="leave"||wT(Is);var It={};var Z={};var Iu={list:[],map:{}};var Iw={showPointer:um(v8,Z),showTooltip:um(gB,Iu)};tX(m.coordSysMap,function(Iz,Iy){var IA=Iq||Iz.containPoint(Is);tX(m.coordSysAxesInfo[Iy],function(IC,ID){var IE=IC.axis;var IB=CS(v3,IC);if(!Ix&&IA&&(!v3||IB)){var IF=IB&&IB.value;if(IF==null&&!Iq){IF=IE.pointToData(Is)}IF!=null&&vq(IC,IF,Iw,false,It)}})});var e={};tX(k,function(Iz,Iy){var IA=Iz.linkGroup;if(IA&&!Z[Iy]){tX(IA.axesInfo,function(IB,IE){var IC=Z[IE];if(IB!==Iz&&IC){var ID=IC.value;IA.mapper&&(ID=Iz.axis.scale.parse(IA.mapper(ID,xD(IB),xD(Iz))));e[Iz.key]=ID}})}});tX(e,function(Iz,Iy){vq(k[Iy],Iz,Iw,true,It)});Bb(Z,k,It);es(Iu,Is,Ir,v);D0(k,v,v2);return It};function vq(v,e,v3,Z,v1){var k=v.axis;if(k.scale.isBlank()||!k.containData(e)){return}if(!v.involveSeries){v3.showPointer(v,e);return}var m=zO(e,v);var v2=m.payloadBatch;var i=m.snapToValue;if(v2[0]&&v1.seriesIndex==null){b0(v1,v2[0])}if(!Z&&v.snap){if(k.containData(i)&&i!=null){e=i}}v3.showPointer(v,e,v2,v1);v3.showTooltip(v,m,i)}function zO(v1,m){var v=m.axis;var v2=v.dim;var e=v1;var Z=[];var k=Number.MAX_VALUE;var i=-1;tX(m.seriesModels,function(Is,Iq){var Ir=Is.getData().mapDimension(v2,true);var Iu;var It;if(Is.getAxisTooltipData){var v3=Is.getAxisTooltipData(Ir,v1,v);It=v3.dataIndices;Iu=v3.nestestValue}else{It=Is.getData().indicesOfNearest(Ir[0],v1,v.type==="category"?0.5:null);if(!It.length){return}Iu=Is.getData().get(Ir[0],It[0])}if(Iu==null||!isFinite(Iu)){return}var Iv=v1-Iu;var Iw=Math.abs(Iv);if(Iw<=k){if(Iw<k||(Iv>=0&&i<0)){k=Iw;i=Iv;e=Iu;Z.length=0}tX(It,function(Ix){Z.push({seriesIndex:Is.seriesIndex,dataIndexInside:Ix,dataIndex:Is.getData().getRawIndex(Ix)})})}});return{payloadBatch:Z,snapToValue:e}}function v8(i,e,m,k){i[e.key]={value:m,payloadBatch:k}}function gB(Ir,Z,m,v2){var v3=m.payloadBatch;var i=Z.axis;var Iq=i.model;var v1=Z.axisPointerModel;if(!Z.triggerTooltip||!v3.length){return}var v=Z.coordSys.model;var k=GI(v);var e=Ir.map[k];if(!e){e=Ir.map[k]={coordSysId:v.id,coordSysIndex:v.componentIndex,coordSysType:v.type,coordSysMainType:v.mainType,dataByAxis:[]};Ir.list.push(e)}e.dataByAxis.push({axisDim:i.dim,axisIndex:Iq.componentIndex,axisType:Iq.type,axisId:Iq.id,value:v2,valueLabelOpt:{precision:v1.get("label.precision"),formatter:v1.get("label.formatter")},seriesDataIndices:v3.slice()})}function Bb(e,k,m){var i=m.axesInfo=[];tX(k,function(v,Z){var v1=v.axisPointerModel.option;var v2=e[Z];if(v2){!v.useHandle&&(v1.status="show");v1.value=v2.value;v1.seriesDataIndices=(v2.payloadBatch||[]).slice()}else{!v.useHandle&&(v1.status="hide")}v1.status==="show"&&i.push({axisDim:v.axis.dim,axisIndex:v.axis.model.componentIndex,value:v1.value})})}function es(k,e,v,m){if(wT(e)||!k.list.length){m({type:"hideTip"});return}var i=((k.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};m({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:v.tooltipOption,position:v.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:k.list})}function D0(e,k,v){var Z=v.getZr();var m="axisPointerLastHighlights";var v1=hJ(Z)[m]||{};var i=hJ(Z)[m]={};tX(e,function(Iq,Ir){var Is=Iq.axisPointerModel.option;Is.status==="show"&&tX(Is.seriesDataIndices,function(Iu){var It=Iu.seriesIndex+" | "+Iu.dataIndex;i[It]=Iu})});var v2=[];var v3=[];pb(v1,function(Ir,Iq){!i[Iq]&&v3.push(Ir)});pb(i,function(Ir,Iq){!v1[Iq]&&v2.push(Ir)});v3.length&&v.dispatchAction({type:"downplay",escapeConnect:true,batch:v3});v2.length&&v.dispatchAction({type:"highlight",escapeConnect:true,batch:v2})}function CS(v,k){for(var m=0;m<(v||[]).length;m++){var e=v[m];if(k.axis.dim===e.axisDim&&k.axis.model.componentIndex===e.axisIndex){return e}}}function xD(e){var i=e.axis.model;var k={};var m=k.axisDim=e.axis.dim;k.axisIndex=k[m+"AxisIndex"]=i.componentIndex;k.axisName=k[m+"AxisName"]=i.name;k.axisId=k[m+"AxisId"]=i.id;return k}function wT(e){return !e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}var a7=p5({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var eM=fM();var tW=pb;function vZ(i,m,k){if(sZ.node){return}var v=m.getZr();eM(v).records||(eM(v).records={});FG(v,m);var e=eM(v).records[i]||(eM(v).records[i]={});e.handler=k}function FG(k,i){if(eM(k).initialized){return}eM(k).initialized=true;e("click",sy(kY,"click"));e("mousemove",sy(kY,"mousemove"));e("globalout",d6);function e(v,m){k.on(v,function(v1){var Z=dS(i);tW(eM(k).records,function(v2){v2&&m(v2,v1,Z.dispatchAction)});sz(Z.pendings,i)})}}function sz(k,i){var v=k.showTip.length;var e=k.hideTip.length;var m;if(v){m=k.showTip[v-1]}else{if(e){m=k.hideTip[e-1]}}if(m){m.dispatchAction=null;i.dispatchAction(m)}}function d6(i,m,k){i.handler("leave",null,k)}function kY(v,i,m,k){i.handler(v,m,k)}function dS(i){var e={showTip:[],hideTip:[]};var k=function(m){var v=e[m.type];if(v){v.push(m)}else{m.dispatchAction=k;i.dispatchAction(m)}};return{dispatchAction:k,pendings:e}}function ae(i,k){if(sZ.node){return}var m=k.getZr();var e=(eM(m).records||{})[i];if(e){eM(m).records[i]=null}}var zf=qB({type:"axisPointer",render:function(v,e,m){var k=e.getComponent("tooltip");var i=v.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");vZ("axisPointer",m,function(v2,v1,Z){if(i!=="none"&&(v2==="leave"||i.indexOf(v2)>=0)){Z({type:"updateAxisPointer",currTrigger:v2,x:v1&&v1.offsetX,y:v1&&v1.offsetY})}})},remove:function(e,i){ae(i.getZr(),"axisPointer");zf.superApply(this._model,"remove",arguments)},dispose:function(e,i){ae("axisPointer",i);zf.superApply(this._model,"dispose",arguments)}});var eL=fM();var uQ=C9;var pD=ko;function Gt(){}Gt.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(Ir,v2,Z,k){var v3=v2.get("value");var i=v2.get("status");this._axisModel=Ir;this._axisPointerModel=v2;this._api=Z;if(!k&&this._lastValue===v3&&this._lastStatus===i){return}this._lastValue=v3;this._lastStatus=i;var Iq=this._group;var v=this._handle;if(!i||i==="hide"){Iq&&Iq.hide();v&&v.hide();return}Iq&&Iq.show();v&&v.show();var e={};this.makeElOption(e,v3,Ir,v2,Z);var Is=e.graphicKey;if(Is!==this._lastGraphicKey){this.clear(Z)}this._lastGraphicKey=Is;var v1=this._moveAnimation=this.determineAnimation(Ir,v2);if(!Iq){Iq=this._group=new Cc();this.createPointerEl(Iq,e,Ir,v2);this.createLabelEl(Iq,e,Ir,v2);Z.getZr().add(Iq)}else{var m=sy(ji,v2,v1);this.updatePointerEl(Iq,e,m,v2);this.updateLabelEl(Iq,e,m,v2)}l8(Iq,v2,true);this._renderHandle(v3)},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(v2,v1){var m=v1.get("animation");var i=v2.axis;var Z=i.type==="category";var v=v1.get("snap");if(!v&&!Z){return false}if(m==="auto"||m==null){var v3=this.animationThreshold;if(Z&&i.getBandWidth()>v3){return true}if(v){var e=Dy(v2).seriesDataCount;var k=i.getExtent();return Math.abs(k[0]-k[1])/e>v3}return false}return m===true},makeElOption:function(k,v,e,m,i){},createPointerEl:function(v,k,i,m){var Z=k.pointer;if(Z){var e=eL(v).pointerEl=new yj[Z.type](uQ(k.pointer));v.add(e)}},createLabelEl:function(v,k,i,m){if(k.label){var e=eL(v).labelEl=new EL(uQ(k.label));v.add(e);rS(e,m)}},updatePointerEl:function(k,i,m){var e=eL(k).pointerEl;if(e){e.setStyle(i.pointer.style);m(e,{shape:i.pointer.shape})}},updateLabelEl:function(m,i,v,k){var e=eL(m).labelEl;if(e){e.setStyle(i.label.style);v(e,{shape:i.label.shape,position:i.label.position});rS(e,k)}},_renderHandle:function(v2){if(this._dragging||!this.updateHandleTransform){return}var Z=this._axisPointerModel;var v=this._api.getZr();var m=this._handle;var e=Z.getModel("handle");var i=Z.get("status");if(!e.get("show")||!i||i==="hide"){m&&v.remove(m);this._handle=null;return}var k;if(!this._handle){k=true;m=this._handle=Gf(e.get("icon"),{cursor:"move",draggable:true,onmousemove:function(Iq){GV(Iq.event)},onmousedown:pD(this._onHandleDragMove,this,0,0),drift:pD(this._onHandleDragMove,this),ondragend:pD(this._onHandleDragEnd,this)});v.add(m)}l8(m,Z,false);var v3=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];m.setStyle(e.getItemStyle(null,v3));var v1=e.get("size");if(!GL(v1)){v1=[v1,v1]}m.attr("scale",[v1[0]/2,v1[1]/2]);mM(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(v2,k)},_moveHandleToValue:function(e,i){ji(this._axisPointerModel,!i&&this._moveAnimation,this._handle,lt(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(i,e){var m=this._handle;if(!m){return}this._dragging=true;var k=this.updateHandleTransform(lt(m),[i,e],this._axisModel,this._axisPointerModel);this._payloadInfo=k;m.stopAnimation();m.attr(lt(k));eL(m).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var i=this._handle;if(!i){return}var k=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:k.cursorPoint[0],y:k.cursorPoint[1],tooltipOption:k.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(e){this._dragging=false;var k=this._handle;if(!k){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null;this._lastStatus=null;var m=e.getZr();var k=this._group;var i=this._handle;if(m&&k){this._lastGraphicKey=null;k&&m.remove(k);i&&m.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}};Gt.prototype.constructor=Gt;function ji(i,e,m,k){if(!qt(eL(m).lastProp,k)){eL(m).lastProp=k;e?oU(m,k,i):(m.stopAnimation(),m.attr(k))}}function qt(e,k){if(tM(e)&&tM(k)){var i=true;pb(k,function(v,m){i=i&&qt(e[m],v)});return !!i}else{return e===k}}function rS(e,i){e[i.get("label.show")?"show":"hide"]()}function lt(e){return{position:e.position.slice(),rotation:e.rotation||0}}function l8(m,k,i){var v=k.get("z");var e=k.get("zlevel");m&&m.traverse(function(Z){if(Z.type!=="group"){v!=null&&(Z.z=v);e!=null&&(Z.zlevel=e);Z.silent=i}})}AL(Gt);function y8(i){var k=i.get("type");var m=i.getModel(k+"Style");var e;if(k==="line"){e=m.getLineStyle();e.fill=null}else{if(k==="shadow"){e=m.getAreaStyle();e.stroke=null}}return e}function Fv(e,Iu,Iq,v2,v){var It=Iq.get("value");var Iw=sJ(It,Iu.axis,Iu.ecModel,Iq.get("seriesDataIndices"),{precision:Iq.get("label.precision"),formatter:Iq.get("label.formatter")});var Ix=Iq.getModel("label");var m=Bn(Ix.get("padding")||0);var k=Ix.getFont();var Is=Gv(Iw,k);var v1=v.position;var i=Is.width+m[1]+m[3];var Iv=Is.height+m[0]+m[2];var v3=v.align;v3==="right"&&(v1[0]-=i);v3==="center"&&(v1[0]-=i/2);var Z=v.verticalAlign;Z==="bottom"&&(v1[1]-=Iv);Z==="middle"&&(v1[1]-=Iv/2);dt(v1,i,Iv,v2);var Ir=Ix.get("backgroundColor");if(!Ir||Ir==="auto"){Ir=Iu.get("axisLine.lineStyle.color")}e.label={shape:{x:0,y:0,width:i,height:Iv,r:Ix.get("borderRadius")},position:v1.slice(),style:{text:Iw,textFont:k,textFill:Ix.getTextColor(),textPosition:"inside",fill:Ir,stroke:Ix.get("borderColor")||"transparent",lineWidth:Ix.get("borderWidth")||0,shadowBlur:Ix.get("shadowBlur"),shadowColor:Ix.get("shadowColor"),shadowOffsetX:Ix.get("shadowOffsetX"),shadowOffsetY:Ix.get("shadowOffsetY")},z2:10}}function dt(i,Z,e,v){var m=v.getWidth();var k=v.getHeight();i[0]=Math.min(i[0]+Z,m)-Z;i[1]=Math.min(i[1]+e,k)-e;i[0]=Math.max(i[0],0);i[1]=Math.max(i[1],0)}function sJ(Z,v,e,i,m){Z=v.scale.parse(Z);var v2=v.scale.getLabel(Z,{precision:m.precision});var k=m.formatter;if(k){var v1={value:nX(v,Z),seriesData:[]};pb(i,function(Is){var Ir=e.getSeriesByIndex(Is.seriesIndex);var Iq=Is.dataIndexInside;var v3=Ir&&Ir.getDataParams(Iq);v3&&v1.seriesData.push(v3)});if(we(k)){v2=k.replace("{value}",v2)}else{if(E9(k)){v2=k(v1)}}}return v2}function vh(i,k,m){var e=CF();kk(e,e,m.rotation);vp(e,e,m.position);return wa([i.dataToCoord(k),(m.labelOffset||0)+(m.labelDirection||1)*(m.labelMargin||0)],e)}function qz(Z,m,v1,i,v,k){var e=db.innerTextLayout(v1.rotation,0,v1.labelDirection);v1.labelMargin=v.get("label.margin");Fv(m,i,v,k,{position:vh(i.axis,Z,v1),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function GJ(k,i,e){e=e||0;return{x1:k[e],y1:k[1-e],x2:i[e],y2:i[1-e]}}function fz(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}function kp(e,Z,k,v,m,i){return{cx:e,cy:Z,r0:k,r:v,startAngle:m,endAngle:i,clockwise:true}}var kP=Gt.extend({makeElOption:function(e,Iq,Is,v2,v1){var k=Is.axis;var i=k.grid;var v3=v2.get("type");var Z=cE(i,k).getOtherAxis(k).getGlobalExtent();var v=k.toGlobalCoord(k.dataToCoord(Iq,true));if(v3&&v3!=="none"){var Ir=y8(v2);var It=cY[v3](k,v,Z,Ir);It.style=Ir;e.graphicKey=It.type;e.pointer=It}var m=ej(i.model,Is);qz(Iq,e,m,Is,v2,v1)},getHandleTransform:function(k,e,i){var m=ej(e.axis.grid.model,e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:vh(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(i,Ir,Is,Iq){var m=Is.axis;var e=m.grid;var v=m.getGlobalExtent(true);var v2=cE(e,m).getOtherAxis(m).getGlobalExtent();var It=m.dim==="x"?0:1;var Z=i.position;Z[It]+=Ir[It];Z[It]=Math.min(v[1],Z[It]);Z[It]=Math.max(v[0],Z[It]);var v1=(v2[1]+v2[0])/2;var v3=[v1,v1];v3[It]=Z[It];var k=[{verticalAlign:"middle"},{align:"center"}];return{position:Z,rotation:i.rotation,cursorPoint:v3,tooltipOption:k[It]}}});function cE(i,k){var e={};e[k.dim+"AxisIndex"]=k.index;return i.getCartesian(e)}var cY={line:function(m,i,v,k){var e=GJ([i,v[0]],[i,v[1]],dj(m));dp({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(v,i,Z,k){var e=Math.max(1,v.getBandWidth());var m=Z[1]-Z[0];return{type:"Rect",shape:fz([i-e/2,Z[0]],[e,m],dj(v))}}};function dj(e){return e.dim==="x"?0:1}f4.registerAxisPointerClass("CartesianAxisPointer",kP);y6(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var i=e.axisPointer.link;if(i&&!GL(i)){e.axisPointer.link=[i]}}});ec(Ca.PROCESSOR.STATISTIC,function(e,i){e.getComponent("axisPointer").coordSysAxesInfo=il(e,i)});b1({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},tw);var b3=["x","y"];var cF=["width","height"];var jq=Gt.extend({makeElOption:function(e,Iq,Is,v2,v1){var i=Is.axis;var v=i.coordinateSystem;var Z=xt(v,1-yT(i));var m=v.dataToPoint(Iq)[0];var v3=v2.get("type");if(v3&&v3!=="none"){var Ir=y8(v2);var It=rY[v3](i,m,Z,Ir);It.style=Ir;e.graphicKey=It.type;e.pointer=It}var k=eh(Is);qz(Iq,e,k,Is,v2,v1)},getHandleTransform:function(k,e,i){var m=eh(e,{labelInside:false});m.labelMargin=i.get("handle.margin");return{position:vh(e.axis,k,m),rotation:m.rotation+(m.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,Iq,Ir,v3){var i=Ir.axis;var m=i.coordinateSystem;var Is=yT(i);var k=xt(m,Is);var v=e.position;v[Is]+=Iq[Is];v[Is]=Math.min(k[1],v[Is]);v[Is]=Math.max(k[0],v[Is]);var v1=xt(m,1-Is);var Z=(v1[1]+v1[0])/2;var v2=[Z,Z];v2[Is]=v[Is];return{position:v,rotation:e.rotation,cursorPoint:v2,tooltipOption:{verticalAlign:"middle"}}}});var rY={line:function(m,i,v,k){var e=GJ([i,v[0]],[i,v[1]],yT(m));dp({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(v,i,Z,k){var e=v.getBandWidth();var m=Z[1]-Z[0];return{type:"Rect",shape:fz([i-e/2,Z[0]],[e,m],yT(v))}}};function yT(e){return e.isHorizontal()?0:1}function xt(e,k){var i=e.getRect();return[i[b3[k]],i[b3[k]]+i[cF[k]]]}f4.registerAxisPointerClass("SingleAxisPointer",jq);qB({type:"single"});var ac=2;var d3=nW.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){d3.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(Is){var v2=Is.length;var Iz=dc().key(function(i){return i[2]}).entries(Is);var Iu=Ej(Iz,function(i){return{name:i.key,dataList:i.values}});var Ir=Iu.length;var Iy=-1;var Iw=-1;for(var It=0;It<Ir;++It){var Iv=Iu[It].dataList.length;if(Iv>Iy){Iy=Iv;Iw=It}}for(var v3=0;v3<Ir;++v3){if(v3===Iw){continue}var e=Iu[v3].name;for(var Iq=0;Iq<Iy;++Iq){var Z=Iu[Iw].dataList[Iq][0];var v=Iu[v3].dataList.length;var m=-1;for(var v1=0;v1<v;++v1){var Ix=Iu[v3].dataList[v1][0];if(Ix===Z){m=v1;break}}if(m===-1){Is[v2]=[];Is[v2][0]=Z;Is[v2][1]=0;Is[v2][2]=e;v2++}}}return Is},getInitialData:function(v1,v2){var e=v2.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var It=e.get("type");var Is=q7(v1.data,function(i){return i[2]!==undefined});var Z=this.fixData(Is||[]);var m=[];var Ir=this.nameMap=CN();var v3=0;for(var v=0;v<Z.length;++v){m.push(Z[v][ac]);if(!Ir.get(Z[v][ac])){Ir.set(Z[v][ac],v3);v3++}}var k=yA(Z,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:qL(It)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});var Iq=new xw(k,this);Iq.initData(Z);return Iq},getLayerSeries:function(){var Z=this.getData();var m=Z.count();var e=[];for(var v1=0;v1<m;++v1){e[v1]=v1}var Iq=dc().key(function(i){return Z.get("name",i)}).entries(e);var k=Ej(Iq,function(i){return{name:i.key,indices:i.values}});var v3=Z.mapDimension("single");for(var v=0;v<k.length;++v){k[v].indices.sort(v2)}function v2(Ir,i){return Z.get(v3,Ir)-Z.get(v3,i)}return k},getAxisTooltipData:function(Iq,It,m){if(!GL(Iq)){Iq=Iq?[Iq]:[]}var v3=this.getData();var v=this.getLayerSeries();var Iu=[];var v1=v.length;var Iv;for(var v2=0;v2<v1;++v2){var Is=Number.MAX_VALUE;var Iw=-1;var e=v[v2].indices.length;for(var Z=0;Z<e;++Z){var k=v3.get(Iq[0],v[v2].indices[Z]);var Ir=Math.abs(k-It);if(Ir<=Is){Iv=k;Is=Ir;Iw=v[v2].indices[Z]}}Iu.push(Iw)}return{dataIndices:Iu,nestestValue:Iv}},formatTooltip:function(k){var m=this.getData();var i=m.getName(k);var e=m.get(m.mapDimension("value"),k);if(isNaN(e)||e==null){e="-"}return mx(i+" : "+e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:true}}}});BP({type:"themeRiver",init:function(){this._layers=[]},render:function(v,Iq,Ir){var v2=v.getData();var It=this.group;var v1=v.getLayerSeries();var m=v2.getLayout("layoutInfo");var Is=m.rect;var k=m.boundaryGap;It.attr("position",[0,Is.y+k[0]]);function v3(Iu){return Iu.name}var e=new GB(this._layersSeries||[],v1,v3,v3);var Z={};e.add(ko(i,this,"add")).update(ko(i,this,"update")).remove(ko(i,this,"remove")).execute();function i(II,IH,Iv){var IL=this._layers;if(II==="remove"){It.remove(IL[IH]);return}var IP=[];var IN=[];var IJ;var Iy=v1[IH].indices;for(var IM=0;IM<Iy.length;IM++){var IO=v2.getItemLayout(Iy[IM]);var ID=IO.x;var Ix=IO.y0;var IC=IO.y;IP.push([ID,Ix]);IN.push([ID,Ix+IC]);IJ=v2.getItemVisual(Iy[IM],"color")}var IE;var IF;var Iz=v2.getItemLayout(Iy[0]);var IK=v2.getItemModel(Iy[IM-1]);var IB=IK.getModel("label");var IG=IB.get("margin");if(II==="add"){var IA=Z[IH]=new Cc();IE=new ja({shape:{points:IP,stackedOnPoints:IN,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});IF=new iT({style:{x:Iz.x-IG,y:Iz.y0+Iz.y/2}});IA.add(IE);IA.add(IF);It.add(IA);IE.setClipPath(vi(IE.getBoundingRect(),v,function(){IE.removeClipPath()}))}else{var IA=IL[Iv];IE=IA.childAt(0);IF=IA.childAt(1);It.add(IA);Z[IH]=IA;oU(IE,{shape:{points:IP,stackedOnPoints:IN}},v);oU(IF,{style:{x:Iz.x-IG,y:Iz.y0+Iz.y/2}},v)}var Iu=IK.getModel("emphasis.itemStyle");var Iw=IK.getModel("itemStyle");pg(IF.style,IB,{text:IB.get("show")?v.getFormattedLabel(Iy[IM-1],"normal")||v2.getName(Iy[IM-1]):null,textVerticalAlign:"middle"});IE.setStyle(b0({fill:IJ},Iw.getItemStyle(["color"])));yr(IE,Iu.getItemStyle())}this._layersSeries=v1;this._layers=Z},dispose:function(){}});function vi(m,i,e){var k=new EL({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}});jE(k,{shape:{width:m.width+20,height:m.height+20}},i,e);return k}var xY=function(e,i){e.eachSeriesByType("themeRiver",function(v1){var v2=v1.getData();var Iq=v1.coordinateSystem;var Z={};var v3=Iq.getRect();Z.rect=v3;var m=v1.get("boundaryGap");var v=Iq.getAxis();Z.boundaryGap=m;if(v.orient==="horizontal"){m[0]=zS(m[0],v3.height);m[1]=zS(m[1],v3.height);var Ir=v3.height-m[0]-m[1];pp(v2,v1,Ir)}else{m[0]=zS(m[0],v3.width);m[1]=zS(m[1],v3.width);var k=v3.width-m[0]-m[1];pp(v2,v1,k)}v2.setLayout("layoutInfo",Z)})};function pp(Ir,Z,Ix){if(!Ir.count()){return}var v3=Z.coordinateSystem;var v1=Z.getLayerSeries();var Iw=Ir.mapDimension("single");var Iu=Ir.mapDimension("value");var Iv=Ej(v1,function(i){return Ej(i.indices,function(m){var Iz=v3.dataToPoint(Ir.get(Iw,m));Iz[1]=Ir.get(Iu,m);return Iz})});var e=wl(Iv);var Iy=e.y0;var Is=Ix/e.max;var k=v1.length;var v=v1[0].indices.length;var It;for(var v2=0;v2<v;++v2){It=Iy[v2]*Is;Ir.setItemLayout(v1[0].indices[v2],{layerIndex:0,x:Iv[0][v2][0],y0:It,y:Iv[0][v2][1]*Is});for(var Iq=1;Iq<k;++Iq){It+=Iv[Iq-1][v2][1]*Is;Ir.setItemLayout(v1[Iq].indices[v2],{layerIndex:Iq,x:Iv[Iq][v2][0],y0:It,y:Iv[Iq][v2][1]*Is})}}}function wl(Iq){var v2=Iq.length;var e=Iq[0].length;var Ir=[];var Iu=[];var It=0;var Iv;var m={};for(var v3=0;v3<e;++v3){for(var v1=0,Iv=0;v1<v2;++v1){Iv+=Iq[v1][v3][1]}if(Iv>It){It=Iv}Ir.push(Iv)}for(var Z=0;Z<e;++Z){Iu[Z]=(It-Ir[Z])/2}It=0;for(var v=0;v<e;++v){var Is=Ir[v]+Iu[v];if(Is>It){It=Is}}m.y0=Iu;m.max=It;return m}var hz=function(e){e.eachSeriesByType("themeRiver",function(i){var m=i.getData();var Z=i.getRawData();var k=i.get("color");var v=CN();m.each(function(v1){v.set(m.getRawIndex(v1),v1)});Z.each(function(Iq){var v3=Z.getName(Iq);var v2=k[(i.nameMap.get(v3)-1)%k.length];Z.setItemVisual(Iq,"color",v2);var v1=v.get(Iq);if(v1!=null){m.setItemVisual(v1,"color",v2)}})})};pu(xY);G(hz);ec(Eb("themeRiver"));nW.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(m,e){var i={name:m.name,children:m.data};Dk(i);var v=m.levels||[];var k={};k.levels=v;return nC.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var k=nW.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=dN(i,this);return k},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:true,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:0.9}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getRawData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function Dk(i){var k=0;pb(i.children,function(v){Dk(v);var m=v.value;GL(m)&&(m=m[0]);k+=m});var e=i.value;if(GL(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}GL(i.value)?(i.value[0]=e):(i.value=e)}var Ef={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"};var rE=2;var mG=4;function zI(Z,m,k){Cc.call(this);var v=new tA({z2:rE});v.seriesIndex=m.seriesIndex;var v1=new iT({z2:mG,silent:Z.getModel("label").get("silent")});this.add(v);this.add(v1);this.updateData(true,Z,"normal",m,k);function i(){v1.ignore=v1.hoverIgnore}function e(){v1.ignore=v1.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var iv=zI.prototype;iv.updateData=function(Ir,v,m,v1,v3){this.node=v;v.piece=this;v1=v1||this._seriesModel;v3=v3||this._ecModel;var Z=this.childAt(0);Z.dataIndex=v.dataIndex;var Iv=v.getModel();var v2=v.getLayout();if(!v2){console.log(v.getLayout())}var It=b0({},v2);It.label=null;var Is=z0(v,v1,v3);var k=Iv.getModel("itemStyle").getItemStyle();var i;if(m==="normal"){i=k}else{var Iq=Iv.getModel(m+".itemStyle").getItemStyle();i=v7(Iq,k)}i=Di({lineJoin:"bevel",fill:i.fill||Is},i);if(Ir){Z.setShape(It);Z.shape.r=v2.r0;oU(Z,{shape:{r:v2.r}},v1,v.dataIndex);Z.useStyle(i)}else{if(typeof i.fill==="object"&&i.fill.type||typeof Z.style.fill==="object"&&Z.style.fill.type){oU(Z,{shape:It},v1);Z.useStyle(i)}else{oU(Z,{shape:It,style:i},v1)}}this._updateLabel(v1,Is,m);var Iu=Iv.getShallow("cursor");Iu&&Z.attr("cursor",Iu);if(Ir){var e=v1.getShallow("highlightPolicy");this._initEvents(Z,v,v1,e)}this._seriesModel=v1||this._seriesModel;this._ecModel=v3||this._ecModel};iv.onEmphasis=function(e){var i=this;this.node.hostTree.root.eachNode(function(k){if(k.piece){if(i.node===k){k.piece.updateData(false,k,"emphasis")}else{if(gI(k,i.node,e)){k.piece.childAt(0).trigger("highlight")}else{if(e!==Ef.NONE){k.piece.childAt(0).trigger("downplay")}}}}})};iv.onNormal=function(){this.node.hostTree.root.eachNode(function(e){if(e.piece){e.piece.updateData(false,e,"normal")}})};iv.onHighlight=function(){this.updateData(false,this.node,"highlight")};iv.onDownplay=function(){this.updateData(false,this.node,"downplay")};iv._updateLabel=function(Iv,k,v){var Iz=this.node.getModel();var Iy=Iz.getModel("label");var v1=v==="normal"||v==="emphasis"?Iy:Iz.getModel(v+".label");var Iw=Iz.getModel("emphasis.label");var Ir=gw(Iv.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);if(Ix("show")===false){Ir=""}var ID=this.node.getLayout();var IB=v1.get("minAngle");if(IB==null){IB=Iy.get("minAngle")}IB=IB/180*Math.PI;var IC=ID.endAngle-ID.startAngle;if(IB!=null&&Math.abs(IC)<IB){Ir=""}var Z=this.childAt(1);BH(Z.style,Z.hoverStyle||{},Iy,Iw,{defaultText:v1.getShallow("show")?Ir:null,autoColor:k,useInsideStyle:true});var v2=(ID.startAngle+ID.endAngle)/2;var Iq=Math.cos(v2);var v3=Math.sin(v2);var Is;var e=Ix("position");var IE=Ix("distance")||0;var m=Ix("align");if(e==="outside"){Is=ID.r+IE;m=v2>Math.PI/2?"right":"left"}else{if(!m||m==="center"){Is=(ID.r+ID.r0)/2;m="center"}else{if(m==="left"){Is=ID.r0+IE;if(v2>Math.PI/2){m="right"}}else{if(m==="right"){Is=ID.r-IE;if(v2>Math.PI/2){m="left"}}}}}Z.attr("style",{text:Ir,textAlign:m,textVerticalAlign:Ix("verticalAlign")||"middle",opacity:Ix("opacity")});var Iu=Is*Iq+ID.cx;var It=Is*v3+ID.cy;Z.attr("position",[Iu,It]);var i=Ix("rotate");var IA=0;if(i==="radial"){IA=-v2;if(IA<-Math.PI/2){IA+=Math.PI}}else{if(i==="tangential"){IA=Math.PI/2-v2;if(IA>Math.PI/2){IA-=Math.PI}else{if(IA<-Math.PI/2){IA+=Math.PI}}}else{if(typeof i==="number"){IA=i*Math.PI/180}}}Z.attr("rotation",IA);function Ix(IF){var IG=v1.get(IF);if(IG==null){return Iy.get(IF)}else{return IG}}};iv._initEvents=function(m,i,v,e){m.off("mouseover").off("mouseout").off("emphasis").off("normal");var v3=this;var Z=function(){v3.onEmphasis(e)};var v1=function(){v3.onNormal()};var k=function(){v3.onDownplay()};var v2=function(){v3.onHighlight()};if(v.isAnimationEnabled()){m.on("mouseover",Z).on("mouseout",v1).on("emphasis",Z).on("normal",v1).on("downplay",k).on("highlight",v2)}};mt(zI,Cc);function z0(v1,k,e){var v=v1.getVisual("color");var m=v1.getVisual("visualMeta");if(!m||m.length===0){v=null}var i=v1.getModel("itemStyle").get("color");if(i){return i}else{if(v){return v}else{if(v1.depth===0){return e.option.color[0]}else{var Z=e.option.color.length;i=e.option.color[t8(v1)%Z]}}}return i}function t8(k){var e=k;while(e.depth>1){e=e.parentNode}var i=k.getAncestors()[0];return eR(i.children,e)}function gI(e,k,i){if(i===Ef.NONE){return false}else{if(i===Ef.SELF){return e===k}else{if(i===Ef.ANCESTOR){return e===k||e.isAncestorOf(k)}else{return e===k||e.isDescendantOf(k)}}}}var BM="sunburstRootToNode";var gE=dG.extend({type:"sunburst",init:function(){},render:function(v3,Iy,v2,Iq){var v=this;this.seriesModel=v3;this.api=v2;this.ecModel=Iy;var Ix=v3.getData();var k=Ix.tree.root;var i=v3.getViewRoot();var Z=this.group;var It=v3.get("renderLabelForZeroData");var Iv=[];i.eachNode(function(Iz){Iv.push(Iz)});var Iu=this._oldChildren||[];v1(Iv,Iu);Iw(k,i);if(Iq&&Iq.highlight&&Iq.highlight.piece){var e=v3.getShallow("highlightPolicy");Iq.highlight.piece.onEmphasis(e)}else{if(Iq&&Iq.unhighlight){var m=this.virtualPiece;if(!m&&k.children.length){m=k.children[0].piece}if(m){m.onNormal()}}}this._initEvents();this._oldChildren=Iv;function v1(IC,IB){if(IC.length===0&&IB.length===0){return}new GB(IB,IC,Iz,Iz).add(IA).update(IA).remove(sy(IA,null)).execute();function Iz(ID){return ID.getId()}function IA(ID,IG){var IE=ID==null?null:IC[ID];var IF=IG==null?null:IB[IG];Ir(IE,IF)}}function Ir(Iz,IB){if(!It&&Iz&&!Iz.getValue()){Iz=null}if(Iz!==k&&IB!==k){if(IB&&IB.piece){if(Iz){IB.piece.updateData(false,Iz,"normal",v3,Iy);Ix.setItemGraphicEl(Iz.dataIndex,IB.piece)}else{Is(IB)}}else{if(Iz){var IA=new zI(Iz,v3,Iy);Z.add(IA);Ix.setItemGraphicEl(Iz.dataIndex,IA)}}}}function Is(Iz){if(!Iz){return}if(Iz.piece){Z.remove(Iz.piece);Iz.piece=null}}function Iw(IA,IB){if(IB.depth>0){if(v.virtualPiece){v.virtualPiece.updateData(false,IA,"normal",v3,Iy)}else{v.virtualPiece=new zI(IA,v3,Iy);Z.add(v.virtualPiece)}if(IB.piece._onclickEvent){IB.piece.off("click",IB.piece._onclickEvent)}var Iz=function(IC){v._rootToNode(IB.parentNode)};IB.piece._onclickEvent=Iz;v.virtualPiece.on("click",Iz)}else{if(v.virtualPiece){Z.remove(v.virtualPiece);v.virtualPiece=null}}}},dispose:function(){},_initEvents:function(){var i=this;var e=function(v){var k=false;var m=i.seriesModel.getViewRoot();m.eachNode(function(v3){if(!k&&v3.piece&&v3.piece.childAt(0)===v.target){var Z=v3.getModel().get("nodeClick");if(Z==="rootToNode"){i._rootToNode(v3)}else{if(Z==="link"){var v1=v3.getModel();var v2=v1.get("link");if(v2){var Iq=v1.get("target",true)||"_blank";window.open(v2,Iq)}}}k=true}})};if(this.group._onclickEvent){this.group.off("click",this.group._onclickEvent)}this.group.on("click",e);this.group._onclickEvent=e},_rootToNode:function(e){if(e!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:BM,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})}},containPoint:function(i,Z){var v=Z.getData();var v1=v.getItemLayout(0);if(v1){var m=i[0]-v1.cx;var k=i[1]-v1.cy;var e=Math.sqrt(m*m+k*k);return e<=v1.r&&e>=v1.r0}}});var vN="sunburstRootToNode";b1({type:vN,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(Z,v){var v1=uW(k,[vN],Z);if(v1){var m=Z.getViewRoot();if(m){k.direction=wO(m,v1.node)?"rollUp":"drillDown"}Z.resetViewRoot(v1.node)}}});var oq="sunburstHighlight";b1({type:oq,update:"updateView"},function(k,i){i.eachComponent({mainType:"series",subType:"sunburst",query:k},e);function e(v,m){var Z=uW(k,[oq],v);if(Z){k.highlight=Z.node}}});var sh="sunburstUnhighlight";b1({type:sh,update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"sunburst",query:k},i);function i(v,m){k.unhighlight=true}});var f0=Math.PI/180;var lY=function(i,e,k,m){e.eachSeriesByType(i,function(IE){var IN=IE.get("center");var Ir=IE.get("radius");if(!GL(Ir)){Ir=[0,Ir]}if(!GL(IN)){IN=[IN,IN]}var IF=k.getWidth();var IA=k.getHeight();var Iz=Math.min(IF,IA);var Iq=zS(IN[0],IF);var v2=zS(IN[1],IA);var IJ=zS(Ir[0],Iz/2);var Iy=zS(Ir[1],Iz/2);var II=-IE.get("startAngle")*f0;var IH=IE.get("minAngle")*f0;var v3=IE.getData().tree.root;var IG=IE.getViewRoot();var Z=IG.depth;var IM=IE.get("sort");if(IM!=null){A6(IG,IM)}var ID=0;pb(IG.children,function(IO){!isNaN(IO.getValue())&&ID++});var v1=IG.getValue();var IC=Math.PI/(v1||ID)*2;var It=IG.depth>0;var Iv=IG.height-(It?-1:1);var v=(Iy-IJ)/(Iv||1);var IK=IE.get("clockwise");var Is=IE.get("stillShowZeroSum");var IB=IK?1:-1;var Iu=function(IP,IS){if(!IP){return}var IO=IS;if(IP!==v3){var IU=IP.getValue();var IQ=(v1===0&&Is)?IC:(IU*IC);if(IQ<IH){IQ=IH}else{}IO=IS+IB*IQ;var IR=IP.depth-Z-(It?-1:1);var IW=IJ+v*IR;var IT=IJ+v*(IR+1);var IX=IP.getModel();if(IX.get("r0")!=null){IW=zS(IX.get("r0"),Iz/2)}if(IX.get("r")!=null){IT=zS(IX.get("r"),Iz/2)}IP.setLayout({angle:IQ,startAngle:IS,endAngle:IO,clockwise:IK,cx:Iq,cy:v2,r0:IW,r:IT})}if(IP.children&&IP.children.length){var IV=0;pb(IP.children,function(IY){IV+=Iu(IY,IS+IV)})}return IO-IS};if(It){var Ix=IJ;var Iw=IJ+v;var IL=Math.PI*2;v3.setLayout({angle:IL,startAngle:II,endAngle:II+IL,clockwise:IK,cx:Iq,cy:v2,r0:Ix,r:Iw})}Iu(IG,II)})};function A6(k,e){var i=k.children||[];k.children=fC(i,e);if(i.length){pb(k.children,function(m){A6(m,e)})}}function fC(i,k){if(typeof k==="function"){return i.sort(k)}else{var e=k==="asc";return i.sort(function(v,m){var Z=(v.getValue()-m.getValue())*(e?1:-1);return Z===0?(v.dataIndex-m.dataIndex)*(e?-1:1):Z})}}G(sy(eP,"sunburst"));pu(sy(lY,"sunburst"));ec(sy(Eb,"sunburst"));function hv(e,i){i=i||[0,0];return Ej(["x","y"],function(Z,k){var v=this.getAxis(Z);var v1=i[k];var m=e[k]/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(v1-m)-v.dataToCoord(v1+m))},this)}var HG=function(e){var i=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:ko(hv,e)}}};function cN(e,i){i=i||[0,0];return Ej([0,1],function(k){var v1=i[k];var m=e[k]/2;var Z=[];var v=[];Z[k]=v1-m;v[k]=v1+m;Z[1-k]=v[1-k]=i[1-k];return Math.abs(this.dataToPoint(Z)[k]-this.dataToPoint(v)[k])},this)}var Hn=function(e){var i=e.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:e.getZoom()},api:{coord:function(k){return e.dataToPoint(k)},size:ko(cN,e)}}};function cL(e,i){var m=this.getAxis();var v=i instanceof Array?i[0]:i;var k=(e instanceof Array?e[0]:e)/2;return m.type==="category"?m.getBandWidth():Math.abs(m.dataToCoord(v-k)-m.dataToCoord(v+k))}var jX=function(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(k){return e.dataToPoint(k)},size:ko(cL,e)}}};function cJ(e,i){return Ej(["Radius","Angle"],function(v1,m){var Z=this["get"+v1+"Axis"]();var v2=i[m];var v=e[m]/2;var v3="dataTo"+v1;var k=Z.type==="category"?Z.getBandWidth():Math.abs(Z[v3](v2-v)-Z[v3](v2+v));if(v1==="Angle"){k=k*Math.PI/180}return k},this)}var G7=function(k){var m=k.getRadiusAxis();var i=k.getAngleAxis();var e=m.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:k.cx,cy:k.cy,r:e[1],r0:e[0]},api:{coord:ko(function(Z){var v=m.dataToRadius(Z[0]);var v1=i.dataToAngle(Z[1]);var v2=k.coordToPoint([v,v1]);v2.push(v,v1*Math.PI/180);return v2}),size:ko(cJ,k)}}};var z9=function(i){var k=i.getRect();var e=i.getRangeInfo();return{coordSys:{type:"calendar",x:k.x,y:k.y,width:k.width,height:k.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(m,v){return i.dataToPoint(m,v)}}}};var wi=["itemStyle"];var Gi=["emphasis","itemStyle"];var xL=["label"];var xo=["emphasis","label"];var ub="e\0\0";var iS={cartesian2d:HG,geo:Hn,singleAxis:jX,polar:G7,calendar:z9};nW.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,useTransform:true},getInitialData:function(i,e){return a(this.getSource(),this)},getDataParams:function(i,e,k){var m=nW.prototype.getDataParams.apply(this,arguments);k&&(m.info=k.info);return m}});dG.extend({type:"custom",_data:null,render:function(i,e,k,v1){var v2=this._data;var v=i.getData();var Z=this.group;var m=F9(i,v,e,k);v.diff(v2).add(function(v3){bg(null,v3,m(v3,v1),i,Z,v)}).update(function(Ir,v3){var Iq=v2.getItemGraphicEl(v3);bg(Iq,Ir,m(Ir,v1),i,Z,v)}).remove(function(v3){var Iq=v2.getItemGraphicEl(v3);Iq&&Z.remove(Iq)}).execute();this._data=v},incrementalPrepareRender:function(i,e,k){this.group.removeAll();this._data=null},incrementalRender:function(i,k,Z,v1,Iq){var v=k.getData();var m=F9(k,v,Z,v1);function v2(Ir){if(!Ir.isGroup){Ir.incremental=true;Ir.useHoverLayer=true}}for(var v3=i.start;v3<i.end;v3++){var e=bg(null,v3,m(v3,Iq),k,this.group,v);e.traverse(v2)}},dispose:V,filterForExposedEvent:function(i,m,v,k){var e=m.element;if(e==null||v.name===e){return true}while((v=v.parent)&&v!==this.group){if(v.name===e){return true}}return false}});function pT(v){var k=v.type;var m;if(k==="path"){var i=v.shape;var Z=(i.width!=null&&i.height!=null)?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null;var v1=wS(i);m=Bh(v1,null,Z,i.layout||"center");m.__customPathData=v1}else{if(k==="image"){m=new Fx({});m.__customImagePath=v.style.image}else{if(k==="text"){m=new iT({});m.__customText=v.style.text}else{var e=yj[k.charAt(0).toUpperCase()+k.slice(1)];if(om){bM(e,'graphic type "'+k+'" can not be found.')}m=new e()}}}m.__customGraphicType=k;m.name=v.name;return m}function rU(k,Ir,e,v,Z,v1,m){var It={};var Is=e.style||{};e.shape&&(It.shape=C9(e.shape));e.position&&(It.position=e.position.slice());e.scale&&(It.scale=e.scale.slice());e.origin&&(It.origin=e.origin.slice());e.rotation&&(It.rotation=e.rotation);if(k.type==="image"&&e.style){var v3=It.style={};pb(["x","y","width","height"],function(Iu){m3(Iu,v3,Is,k.style,v1)})}if(k.type==="text"&&e.style){var v3=It.style={};pb(["x","y"],function(Iu){m3(Iu,v3,Is,k.style,v1)});!Is.hasOwnProperty("textFill")&&Is.fill&&(Is.textFill=Is.fill);!Is.hasOwnProperty("textStroke")&&Is.stroke&&(Is.textStroke=Is.stroke)}if(k.type!=="group"){k.useStyle(Is);if(v1){k.style.opacity=0;var Iq=Is.opacity;Iq==null&&(Iq=1);jE(k,{style:{opacity:Iq}},v,Ir)}}if(v1){k.attr(It)}else{oU(k,It,v,Ir)}e.hasOwnProperty("z2")&&k.attr("z2",e.z2||0);e.hasOwnProperty("silent")&&k.attr("silent",e.silent);e.hasOwnProperty("invisible")&&k.attr("invisible",e.invisible);e.hasOwnProperty("ignore")&&k.attr("ignore",e.ignore);e.hasOwnProperty("info")&&k.attr("info",e.info);var i=e.styleEmphasis;var v2=i===false;if(!((k.__cusHasEmphStl&&i==null)||(!k.__cusHasEmphStl&&v2))){lk(k,i);k.__cusHasEmphStl=!v2}m&&yN(k,!v2)}function m3(v,k,i,e,m){if(i[v]!=null&&!m){k[v]=i[v];i[v]=e[v]}}function F9(i,IB,ID,Iq){var v1=i.get("renderItem");var m=i.coordinateSystem;var k={};if(m){if(om){bM(v1,"series.render is required.");bM(m.prepareCustoms||iS[m.type],"This coordSys does not support custom series.")}k=m.prepareCustoms?m.prepareCustoms():iS[m.type](m)}var v2=Di({getWidth:Iq.getWidth,getHeight:Iq.getHeight,getZr:Iq.getZr,getDevicePixelRatio:Iq.getDevicePixelRatio,value:Iv,style:Ix,styleEmphasis:Iz,visual:Iy,barLayout:e,currentSeriesIndices:v3,font:Ir},k.api||{});var It={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:k.coordSys,dataInsideLength:IB.count(),encode:bw(i.getData())};var IC;var Iw=true;var Z;var Is;var IA;var Iu;return function(IE,IF){IC=IE;Iw=true;return v1&&v1(Di({dataIndexInside:IE,dataIndex:IB.getRawIndex(IE),actionType:IF?IF.type:null},It),v2)};function v(IE){IE==null&&(IE=IC);if(Iw){Z=IB.getItemModel(IE);Is=Z.getModel(xL);IA=Z.getModel(xo);Iu=IB.getItemVisual(IE,"color");Iw=false}}function Iv(IF,IE){IE==null&&(IE=IC);return IB.get(IB.getDimension(IF||0),IE)}function Ix(IE,IH){IH==null&&(IH=IC);v(IH);var IG=Z.getModel(wi).getItemStyle();Iu!=null&&(IG.fill=Iu);var IF=IB.getItemVisual(IH,"opacity");IF!=null&&(IG.opacity=IF);pg(IG,Is,null,{autoColor:Iu,isRectText:true});IG.text=Is.getShallow("show")?kd(i.getFormattedLabel(IH,"normal"),dY(IB,IH)):null;IE&&b0(IG,IE);return IG}function Iz(IE,IG){IG==null&&(IG=IC);v(IG);var IF=Z.getModel(Gi).getItemStyle();pg(IF,IA,null,{isRectText:true},true);IF.text=IA.getShallow("show")?kc(i.getFormattedLabel(IG,"emphasis"),i.getFormattedLabel(IG,"normal"),dY(IB,IG)):null;IE&&b0(IF,IE);return IF}function Iy(IF,IE){IE==null&&(IE=IC);return IB.getItemVisual(IE,IF)}function e(IE){if(m.getBaseAxis){var IF=m.getBaseAxis();return oi(Di({axis:IF},IE),Iq)}}function v3(){return ID.getCurrentSeriesIndices()}function Ir(IE){return j1(IE,ID)}}function bw(e){var i={};pb(e.dimensions,function(v1,k){var m=e.getDimensionInfo(v1);if(!m.isExtraCoord){var v=m.coordDim;var Z=i[v]=i[v]||[];Z[m.coordDimIndex]=k}});return i}function bg(i,e,k,Z,v,m){i=qj(i,e,k,Z,v,m,true);i&&m.setItemGraphicEl(e,i);return i}function qj(i,Iq,e,v,Is,v1,k){var Z=!e;e=e||{};var v3=e.type;var m=e.shape;var Ir=e.style;if(i&&(Z||(v3!=null&&v3!==i.__customGraphicType)||(v3==="path"&&Hg(m)&&wS(m)!==i.__customPathData)||(v3==="image"&&GC(Ir,"image")&&Ir.image!==i.__customImagePath)||(v3==="text"&&GC(m,"text")&&Ir.text!==i.__customText))){Is.remove(i);i=null}if(Z){return}var v2=!i;!i&&(i=pT(e));rU(i,Iq,e,v,v1,v2,k);if(v3==="group"){rc(i,Iq,e,v,v1)}Is.add(i);return i}function rc(i,v3,e,m,v){var k=e.children;var v1=k?k.length:0;var Iq=e.$mergeChildren;var Ir=Iq==="byName"||e.diffChildrenByName;var Z=Iq===false;if(!v1&&!Ir&&!Z){return}if(Ir){bu({oldChildren:i.children()||[],newChildren:k||[],dataIndex:v3,animatableModel:m,group:i,data:v});return}Z&&i.removeAll();var v2=0;for(;v2<v1;v2++){k[v2]&&qj(i.childAt(v2),v3,k[v2],m,i,v)}if(om){bM(!Z||i.childCount()===v2,"MUST NOT contain empty item in children array when `group.$mergeChildren` is `false`.")}}function bu(e){(new GB(e.oldChildren,e.newChildren,ga,ga,e)).add(lA).update(lA).remove(zg).execute()}function ga(k,e){var i=k&&k.name;return i!=null?i:ub+e}function lA(i,v){var e=this.context;var k=i!=null?e.newChildren[i]:null;var m=v!=null?e.oldChildren[v]:null;qj(m,e.dataIndex,k,e.animatableModel,e.group,e.data)}function zg(k){var e=this.context;var i=e.oldChildren[k];i&&e.group.remove(i)}function wS(e){return e&&(e.pathData||e.d)}function Hg(e){return e&&(e.hasOwnProperty("pathData")||e.hasOwnProperty("d"))}function GC(e,i){return e&&e.hasOwnProperty(i)}y6(function(i){var e=i.graphic;if(GL(e)){if(!e[0]||!e[0].elements){i.graphic=[{elements:e}]}else{i.graphic=[i.graphic[0]]}}else{if(e&&!e.elements){i.graphic=[{elements:[e]}]}}});var HR=p5({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var i=this.option.elements;this.option.elements=null;HR.superApply(this,"mergeOption",arguments);this.option.elements=i},optionUpdated:function(v1,v){var v3=this.option;var e=(v?v3:v1).elements;var k=v3.elements=v?[]:v3.elements;var Iq=[];this._flatten(e,Iq);var Z=da(k,Iq);z8(Z);var v2=this._elOptionsToUpdate=[];pb(Z,function(Ir,Is){var i=Ir.option;if(om){bM(tM(i)||Ir.exist,"Empty graphic option definition")}if(!i){return}v2.push(i);GT(Ir,i);EF(k,Is,i);uY(k[Is],i)},this);for(var m=k.length-1;m>=0;m--){if(k[m]==null){k.splice(m,1)}else{delete k[m].$action}}},_flatten:function(i,e,k){pb(i,function(v){if(!v){return}if(k){v.parentOption=k}e.push(v);var m=v.children;if(v.type==="group"&&m){this._flatten(m,e,v)}delete v.children},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e}});qB({type:"graphic",init:function(e,i){this._elMap=CN();this._lastGraphicModel},render:function(k,e,i){if(k!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=k;this._updateElements(k);this._relocate(k,i)},_updateElements:function(m){var i=m.useElOptionsToUpdate();if(!i){return}var e=this._elMap;var k=this.group;pb(i,function(Z){var It=Z.$action;var v1=Z.id;var v=e.get(v1);var Iq=Z.parentId;var v3=Iq!=null?e.get(Iq):k;var Ir=Z.style;if(Z.type==="text"&&Ir){if(Z.hv&&Z.hv[1]){Ir.textVerticalAlign=Ir.textBaseline=null}!Ir.hasOwnProperty("textFill")&&Ir.fill&&(Ir.textFill=Ir.fill);!Ir.hasOwnProperty("textStroke")&&Ir.stroke&&(Ir.textStroke=Ir.stroke)}var Is=yi(Z);if(om){v&&bM(v3===v.parent,"Changing parent is not supported.")}if(!It||It==="merge"){v?v.attr(Is):xX(v1,v3,Is,e)}else{if(It==="replace"){x7(v,e);xX(v1,v3,Is,e)}else{if(It==="remove"){x7(v,e)}}}var v2=e.get(v1);if(v2){v2.__ecGraphicWidth=Z.width;v2.__ecGraphicHeight=Z.height;GQ(v2,m,Z)}})},_relocate:function(v1,v3){var Ir=v1.option.elements;var Iq=this.group;var m=this._elMap;for(var Z=Ir.length-1;Z>=0;Z--){var e=Ir[Z];var k=m.get(e.id);if(!k){continue}var v2=k.parent;var v=v2===Iq?{width:v3.getWidth(),height:v3.getHeight()}:{width:v2.__ecGraphicWidth||0,height:v2.__ecGraphicHeight||0};AC(k,e,v,null,{hv:e.hv,boundingMode:e.bounding})}},_clear:function(){var e=this._elMap;e.each(function(i){x7(i,e)});this._elMap=CN()},dispose:function(){this._clear()}});function xX(v1,k,Z,e){var m=Z.type;if(om){bM(m,"graphic type MUST be set")}var i=yj[m.charAt(0).toUpperCase()+m.slice(1)];if(om){bM(i,"graphic type can not be found")}var v=new i(Z);k.add(v);e.set(v1,v);v.__ecGraphicId=v1}function x7(k,e){var i=k&&k.parent;if(i){k.type==="group"&&k.traverse(function(m){x7(m,e)});e.removeKey(k.__ecGraphicId);i.remove(k)}}function yi(e){e=b0({},e);pb(["id","parentId","$action","hv","bounding"].concat(rt),function(i){delete e[i]});return e}function e9(k,i){var e;pb(i,function(m){k[m]!=null&&k[m]!=="auto"&&(e=true)});return e}function GT(k,i){var m=k.exist;i.id=k.keyInfo.id;!i.type&&m&&(i.type=m.type);if(i.parentId==null){var e=i.parentOption;if(e){i.parentId=e.id}else{if(m){i.parentId=m.parentId}}}i.parentOption=null}function EF(e,m,i){var Z=b0({},i);var v=e[m];var v1=i.$action||"merge";if(v1==="merge"){if(v){if(om){var k=i.type;bM(!k||v.type===k,'Please set $action: "replace" to change `type`')}v7(v,Z,true);hg(v,Z,{ignoreSize:true});FN(i,v)}else{e[m]=Z}}else{if(v1==="replace"){e[m]=Z}else{if(v1==="remove"){v&&(e[m]=null)}}}}function uY(i,e){if(!i){return}i.hv=e.hv=[e9(e,["left","right"]),e9(e,["top","bottom"])];if(i.type==="group"){i.width==null&&(i.width=e.width=0);i.height==null&&(i.height=e.height=0)}}function GQ(e,m,k){var i=e.eventData;if(!e.silent&&!e.ignore&&!i){i=e.eventData={componentType:"graphic",componentIndex:m.componentIndex,name:e.name}}if(i){i.info=e.info}}var fd=p5({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(k,i,e){this.mergeDefaultAndTheme(k,e);k.selected=k.selected||{}},mergeOption:function(e){fd.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var k=this._data;if(k[0]&&this.get("selectedMode")==="single"){var e=false;for(var v=0;v<k.length;v++){var m=k[v].get("name");if(this.isSelected(m)){this.select(m);e=true;break}}!e&&this.select(k[0].get("name"))}},_updateData:function(e){var k=[];var m=[];e.eachRawSeries(function(v2){var Z=v2.name;m.push(Z);var v1;if(v2.legendDataProvider){var v3=v2.legendDataProvider();var Iq=v3.mapArray(v3.getName);if(!e.isSeriesFiltered(v2)){m=m.concat(Iq)}if(Iq.length){k=k.concat(Iq)}else{v1=true}}else{v1=true}if(v1&&qY(v2)){k.push(v2.name)}});this._availableNames=m;var v=this.get("data")||k;var i=Ej(v,function(Z){if(typeof Z==="string"||typeof Z==="number"){Z={name:Z}}return new fx(Z,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var i=this.option.selected;var m=this.get("selectedMode");if(m==="single"){var k=this._data;pb(k,function(v){i[v.get("name")]=false})}i[e]=true},unSelect:function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}},toggleSelected:function(e){var i=this.option.selected;if(!i.hasOwnProperty(e)){i[e]=true}this[i[e]?"unSelect":"select"](e)},isSelected:function(e){var i=this.option.selected;return !(i.hasOwnProperty(e)&&!i[e])&&eR(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:true,tooltip:{show:false}}});function jQ(i,Z,e){var v={};var m=i==="toggleSelected";var k;e.eachComponent("legend",function(v2){if(m&&k!=null){v2[k?"select":"unSelect"](Z.name)}else{v2[i](Z.name);k=v2.isSelected(Z.name)}var v1=v2.getData();pb(v1,function(Iq){var v3=Iq.get("name");if(v3==="\n"||v3===""){return}var Ir=v2.isSelected(v3);if(v.hasOwnProperty(v3)){v[v3]=v[v3]&&Ir}else{v[v3]=Ir}})});return{name:Z.name,selected:v}}b1("legendToggleSelect","legendselectchanged",sy(jQ,"toggleSelected"));b1("legendSelect","legendselected",sy(jQ,"select"));b1("legendUnSelect","legendunselected",sy(jQ,"unSelect"));function ef(v1,k,m){var i=k.getBoxLayoutParams();var Z=k.get("padding");var e={width:m.getWidth(),height:m.getHeight()};var v=kX(i,e,Z);fn(k.get("orient"),v1,k.get("itemGap"),v.width,v.height);AC(v1,i,e,Z)}function As(k,e){var m=Bn(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var k=new EL({shape:{x:k.x-m[3],y:k.y-m[0],width:k.width+m[1]+m[3],height:k.height+m[0]+m[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return k}var uk=sy;var tV=pb;var rl=Cc;var aJ=qB({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new rl());this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(k,v,Z){this.resetInner();if(!k.get("show",true)){return}var i=k.get("align");if(!i||i==="auto"){i=(k.get("left")==="right"&&k.get("orient")==="vertical")?"right":"left"}this.renderInner(i,k,v,Z);var e=k.getBoxLayoutParams();var m={width:Z.getWidth(),height:Z.getHeight()};var v2=k.get("padding");var Iq=kX(e,m,v2);var v1=this.layoutInner(k,i,Iq);var v3=kX(Di({width:v1.width,height:v1.height},e),m,v2);this.group.attr("position",[v3.x-v1.x,v3.y-v1.y]);this.group.add(this._backgroundEl=As(v1,k))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,Z,e,v){var m=this.getContentGroup();var v2=CN();var v1=Z.get("selectedMode");var k=[];e.eachRawSeries(function(v3){!v3.get("legendHoverLink")&&k.push(v3.id)});tV(Z.getData(),function(Iw,Iv){var v3=Iw.get("name");if(!this.newlineDisabled&&(v3===""||v3==="\n")){m.add(new rl({newline:true}));return}var Iq=e.getSeriesByName(v3)[0];if(v2.get(v3)){return}if(Iq){var It=Iq.getData();var Is=It.getVisual("color");if(typeof Is==="function"){Is=Is(Iq.getDataParams(0))}var Iu=It.getVisual("legendSymbol")||"roundRect";var Ix=It.getVisual("symbol");var Ir=this._createItem(v3,Iv,Iw,Z,Iu,Ix,i,Is,v1);Ir.on("click",uk(DV,v3,v)).on("mouseover",uk(u0,Iq.name,null,v,k)).on("mouseout",uk(kF,Iq.name,null,v,k));v2.set(v3,true)}else{e.eachRawSeries(function(IA){if(v2.get(v3)){return}if(IA.legendDataProvider){var IC=IA.legendDataProvider();var Iy=IC.indexOfName(v3);if(Iy<0){return}var Iz=IC.getItemVisual(Iy,"color");var IB="roundRect";var ID=this._createItem(v3,Iv,Iw,Z,IB,null,i,Iz,v1);ID.on("click",uk(DV,v3,v)).on("mouseover",uk(u0,null,v3,v,k)).on("mouseout",uk(kF,null,v3,v,k));v2.set(v3,true)}},this)}if(om){if(!v2.get(v3)){console.warn(v3+" series not exists. Legend data should be same with series name or data name.")}}},this)},_createItem:function(IF,IE,IA,i,k,Is,v2,Iz,ID){var Z=i.get("itemWidth");var Ix=i.get("itemHeight");var v=i.get("inactiveColor");var m=i.get("symbolKeepAspect");var Ir=i.isSelected(IF);var IC=new rl();var Iq=IA.getModel("textStyle");var Iw=IA.get("icon");var v3=IA.getModel("tooltip");var e=v3.parentModel;k=Iw||k;IC.add(uc(k,0,0,Z,Ix,Ir?Iz:v,m==null?true:m));if(!Iw&&Is&&((Is!==k)||Is==="none")){var Iu=Ix*0.8;if(Is==="none"){Is="circle"}IC.add(uc(Is,(Z-Iu)/2,(Ix-Iu)/2,Iu,Iu,Ir?Iz:v,m==null?true:m))}var Iv=v2==="left"?Z+5:-5;var v1=v2;var IB=i.get("formatter");var Iy=IF;if(typeof IB==="string"&&IB){Iy=IB.replace("{name}",IF!=null?IF:"")}else{if(typeof IB==="function"){Iy=IB(IF)}}IC.add(new iT({style:pg({},Iq,{text:Iy,x:Iv,y:Ix/2,textFill:Ir?Iq.getTextColor():v,textAlign:v1,textVerticalAlign:"middle"})}));var It=new EL({shape:IC.getBoundingRect(),invisible:true,tooltip:v3.get("show")?b0({content:IF,formatter:e.get("formatter",true)||function(){return IF},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:IF,$vars:["name"]}},v3.option):null});IC.add(It);IC.eachChild(function(IG){IG.silent=true});It.silent=!ID;this.getContentGroup().add(IC);yr(IC);IC.__legendDataIndex=IE;return IC},layoutInner:function(m,i,v){var k=this.getContentGroup();fn(m.get("orient"),k,m.get("itemGap"),v.width,v.height);var e=k.getBoundingRect();k.attr("position",[-e.x,-e.y]);return this.group.getBoundingRect()}});function DV(e,i){i.dispatchAction({type:"legendToggleSelect",name:e})}function u0(i,e,v,k){var m=v.getZr().storage.getDisplayList()[0];if(!(m&&m.useHoverLayer)){v.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:k})}}function kF(i,e,v,k){var m=v.getZr().storage.getDisplayList()[0];if(!(m&&m.useHoverLayer)){v.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:k})}}var w0=function(e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){e.filterSeries(function(m){for(var k=0;k<i.length;k++){if(!i[k].isSelected(m.name)){return false}}return true})}};ec(w0);aH.registerSubTypeDefaulter("legend",function(){return"plain"});var jg=fd.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(k,i,e,m){var v=g4(k);jg.superCall(this,"init",k,i,e,m);uv(this,k,v)},mergeOption:function(e,i){jg.superCall(this,"mergeOption",e,i);uv(this,this.option,e)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function uv(m,v,k){var i=m.getOrient();var e=[1,1];e[i.index]=0;hg(v,k,{type:"box",ignoreSize:e})}var rk=Cc;var dK=["width","height"];var cU=["x","y"];var sF=aJ.extend({type:"legend.scroll",newlineDisabled:true,init:function(){sF.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new rk());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new rk());this._showController},resetInner:function(){sF.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(e,m,v1,v2){var v3=this;sF.superCall(this,"renderInner",e,m,v1,v2);var k=this._controllerGroup;var i=m.get("pageIconSize",true);if(!GL(i)){i=[i,i]}v("pagePrev",0);var Z=m.getModel("pageTextStyle");k.add(new iT({name:"pageText",style:{textFill:Z.getTextColor(),font:Z.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));v("pageNext",1);function v(Ir,Iq){var Is=Ir+"DataIndex";var It=Gf(m.get("pageIcons",true)[m.getOrient().name][Iq],{onclick:ko(v3._pageGo,v3,Is,m,v2)},{x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]});It.name=Ir;k.add(It)}},layoutInner:function(i,Iq,Z){var Is=this.getContentGroup();var v1=this._containerGroup;var m=this._controllerGroup;var Iv=i.getOrient().index;var v3=dK[Iv];var Iz=dK[1-Iv];var Iw=cU[1-Iv];fn(i.get("orient"),Is,i.get("itemGap"),!Iv?null:Z.width,Iv?null:Z.height);fn("horizontal",m,i.get("pageButtonItemGap",true));var Ix=Is.getBoundingRect();var IB=m.getBoundingRect();var IA=this._showController=Ix[v3]>Z[v3];var It=[-Ix.x,-Ix.y];It[Iv]=Is.position[Iv];var v2=[0,0];var k=[-IB.x,-IB.y];var Iu=kd(i.get("pageButtonGap",true),i.get("itemGap",true));if(IA){var e=i.get("pageButtonPosition",true);if(e==="end"){k[Iv]+=Z[v3]-IB[v3]}else{v2[Iv]+=IB[v3]+Iu}}k[1-Iv]+=Ix[Iz]/2-IB[Iz]/2;Is.attr("position",It);v1.attr("position",v2);m.attr("position",k);var Iy=this.group.getBoundingRect();var Iy={x:0,y:0};Iy[v3]=IA?Z[v3]:Ix[v3];Iy[Iz]=Math.max(Ix[Iz],IB[Iz]);Iy[Iw]=Math.min(0,IB[Iw]+k[1-Iv]);v1.__rectSize=Z[v3];if(IA){var Ir={x:0,y:0};Ir[v3]=Math.max(Z[v3]-IB[v3]-Iu,0);Ir[Iz]=Iy[Iz];v1.setClipPath(new EL({shape:Ir}));v1.__rectSize=Ir[v3]}else{m.eachChild(function(IC){IC.attr({invisible:true,silent:true})})}var v=this._getPageInfo(i);v.pageIndex!=null&&oU(Is,{position:v.contentPosition},IA?i:false);this._updatePageInfoView(i,v);return Iy},_pageGo:function(m,i,e){var k=this._getPageInfo(i)[m];k!=null&&e.dispatchAction({type:"legendScroll",scrollDataIndex:k,legendId:i.id})},_updatePageInfoView:function(k,i){var v2=this._controllerGroup;pb(["pagePrev","pageNext"],function(v3){var Ir=i[v3+"DataIndex"]!=null;var Iq=v2.childOfName(v3);if(Iq){Iq.setStyle("fill",Ir?k.get("pageIconColor",true):k.get("pageIconInactiveColor",true));Iq.cursor=Ir?"pointer":"default"}});var v=v2.childOfName("pageText");var v1=k.get("pageFormatter");var e=i.pageIndex;var Z=e!=null?e+1:0;var m=i.pageCount;v&&v1&&v.setStyle("text",we(v1)?v1.replace("{current}",Z).replace("{total}",m):v1({current:Z,total:m}))},_getPageInfo:function(i){var Ix=i.get("scrollDataIndex",true);var Ir=this.getContentGroup();var Iy=Ir.getBoundingRect();var e=this._containerGroup.__rectSize;var It=i.getOrient().index;var v3=dK[It];var IC=dK[1-It];var v1=cU[It];var Is=Ir.position.slice();var Iv;var Iu;var k;var Iz;if(this._showController){Ir.eachChild(function(IE){if(IE.__legendDataIndex===Ix){Iz=IE}})}else{Iz=Ir.childAt(0)}var Iw=e?Math.ceil(Iy[v3]/e):0;if(Iz){var ID=Iz.getBoundingRect();var v2=Iz.position[It]+ID[v1];Is[It]=-v2-Iy[v1];Iv=Math.floor(Iw*(v2+ID[v1]+e/2)/Iy[v3]);Iv=(Iy[v3]&&Iw)?Math.max(0,Math.min(Iw-1,Iv)):-1;var IB={x:0,y:0};IB[v3]=e;IB[IC]=Iy[IC];IB[v1]=-Is[It]-Iy[v1];var Z;var v=Ir.children();Ir.eachChild(function(IG,IE){var IF=IA(IG);if(IF.intersect(IB)){Z==null&&(Z=IE);k=IG.__legendDataIndex}if(IE===v.length-1&&IF[v1]+IF[v3]<=IB[v1]+IB[v3]){k=null}});if(Z!=null){var m=v[Z];var Iq=IA(m);IB[v1]=Iq[v1]+Iq[v3]-IB[v3];if(Z<=0&&Iq[v1]>=IB[v1]){Iu=null}else{while(Z>0&&IA(v[Z-1]).intersect(IB)){Z--}Iu=v[Z].__legendDataIndex}}}return{contentPosition:Is,pageIndex:Iv,pageCount:Iw,pagePrevDataIndex:Iu,pageNextDataIndex:k};function IA(IE){var IF=IE.getBoundingRect().clone();IF[v1]+=IE.position[It];return IF}}});b1("legendScroll","legendscroll",function(k,e){var i=k.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:k},function(m){m.setScrollDataIndex(i)})});p5({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var tT=pb;var iX=rh;var qp=["","-webkit-","-moz-","-o-"];var by="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function mL(k){var i="cubic-bezier(0.23, 1, 0.32, 1)";var e="left "+k+"s "+i+",top "+k+"s "+i;return Ej(qp,function(m){return m+"transition:"+e}).join(";")}function BJ(i){var k=[];var m=i.get("fontSize");var e=i.getTextColor();e&&k.push("color:"+e);k.push("font:"+i.getFont());m&&k.push("line-height:"+Math.round(m*3/2)+"px");tT(["decoration","align"],function(v){var Z=i.get(v);Z&&k.push("text-"+v+":"+Z)});return k.join(";")}function m8(v){var m=[];var e=v.get("transitionDuration");var i=v.get("backgroundColor");var k=v.getModel("textStyle");var Z=v.get("padding");e&&m.push(mL(e));if(i){if(sZ.canvasSupported){m.push("background-Color:"+i)}else{m.push("background-Color:#"+zk(i));m.push("filter:alpha(opacity=70)")}}tT(["width","color","radius"],function(v2){var v1="border-"+v2;var v3=iX(v1);var Iq=v.get(v3);Iq!=null&&m.push(v1+":"+Iq+(v2==="color"?"":"px"))});m.push(BJ(k));if(Z!=null){m.push("padding:"+Bn(Z).join("px ")+"px")}return m.join(";")+";"}function t(e,m){if(sZ.wxa){return null}var k=document.createElement("div");var v=this._zr=m.getZr();this.el=k;this._x=m.getWidth()/2;this._y=m.getHeight()/2;e.appendChild(k);this._container=e;this._show=false;this._hideTimeout;var i=this;k.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};k.onmousemove=function(v1){v1=v1||window.event;if(!i._enterable){var Z=v.handler;Bg(e,v1,true);Z.dispatch("mousemove",v1)}};k.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}t.prototype={constructor:t,_enterable:true,update:function(){var e=this._container;var k=e.currentStyle||document.defaultView.getComputedStyle(e);var i=e.style;if(i.position!=="absolute"&&k.position!=="absolute"){i.position="relative"}},show:function(i){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=by+m8(i)+";left:"+this._x+"px;top:"+this._y+"px;"+(i.get("extraCssText")||"");e.style.display=e.innerHTML?"block":"none";e.style.pointerEvents=this._enterable?"auto":"none";this._show=true},setContent:function(e){this.el.innerHTML=e==null?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,v){var m=this._zr;var i;if(m&&m.painter&&(i=m.painter.getViewportRootOffset())){e+=i.offsetLeft;v+=i.offsetTop}var k=this.el.style;k.left=e+"px";k.top=v+"px";this._x=e;this._y=v},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(ko(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show},getOuterSize:function(){var k=this.el.clientWidth;var e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);if(i){k+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}};function DN(e){this._zr=e.getZr();this._show=false;this._hideTimeout}DN.prototype={constructor:DN,_enterable:true,update:function(){},show:function(e){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.attr("show",true);this._show=true},setContent:function(Z,v2,v1){if(this.el){this._zr.remove(this.el)}var i={};var v3=Z;var v="{marker";var Iq="|}";var k=v3.indexOf(v);while(k>=0){var m=v3.indexOf(Iq);var e=v3.substr(k+v.length,m-k-v.length);if(e.indexOf("sub")>-1){i["marker"+e]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:v2[e],textOffset:[3,0]}}else{i["marker"+e]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:v2[e]}}v3=v3.substr(m+1);k=v3.indexOf("{marker")}this.el=new iT({style:{rich:i,text:Z,textLineHeight:20,textBackgroundColor:v1.get("backgroundColor"),textBorderRadius:v1.get("borderRadius"),textFill:v1.get("textStyle.color"),textPadding:v1.get("padding")},z:v1.get("z")});this._zr.add(this.el);var Ir=this;this.el.on("mouseover",function(){if(Ir._enterable){clearTimeout(Ir._hideTimeout);Ir._show=true}Ir._inContent=true});this.el.on("mouseout",function(){if(Ir._enterable){if(Ir._show){Ir.hideLater(Ir._hideDelay)}}Ir._inContent=false})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,i){if(this.el){this.el.attr("position",[e,i])}},hide:function(){this.el.hide();this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(ko(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var pC=ko;var tU=pb;var zN=zS;var aM=new EL({shape:{x:-1,y:-1,width:2,height:2}});qB({type:"tooltip",init:function(e,k){if(sZ.node){return}var i=e.getComponent("tooltip");var v=i.get("renderMode");this._renderMode=zc(v);var m;if(this._renderMode==="html"){m=new t(k.getDom(),k);this._newLine="<br/>"}else{m=new DN(k);this._newLine="\n"}this._tooltipContent=m},render:function(k,e,i){if(sZ.node){return}this.group.removeAll();this._tooltipModel=k;this._ecModel=e;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=k.get("alwaysShowContent");var m=this._tooltipContent;m.update();m.setEnterable(k.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var i=this._tooltipModel;var e=i.get("triggerOn");vZ("itemTooltip",this._api,pC(function(v,m,k){if(e!=="none"){if(e.indexOf(v)>=0){this._tryShow(m,k)}else{if(v==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var m=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&m.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(m,e,k,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(v3,v,Z,v2){if(v2.from===this.uid||sZ.node){return}var m=BB(v2,Z);this._ticket="";var Iq=v2.dataByCoordSys;if(v2.tooltip&&v2.x!=null&&v2.y!=null){var e=aM;e.position=[v2.x,v2.y];e.update();e.tooltip=v2.tooltip;this._tryShow({offsetX:v2.x,offsetY:v2.y,target:e},m)}else{if(Iq){this._tryShow({offsetX:v2.x,offsetY:v2.y,position:v2.position,event:{},dataByCoordSys:v2.dataByCoordSys,tooltipOption:v2.tooltipOption},m)}else{if(v2.seriesIndex!=null){if(this._manuallyAxisShowTip(v3,v,Z,v2)){return}var v1=ul(v2,v);var k=v1.point[0];var i=v1.point[1];if(k!=null&&i!=null){this._tryShow({offsetX:k,offsetY:i,position:v2.position,target:v1.el,event:{}},m)}}else{if(v2.x!=null&&v2.y!=null){Z.dispatchAction({type:"updateAxisPointer",x:v2.x,y:v2.y});this._tryShow({offsetX:v2.x,offsetY:v2.y,position:v2.position,target:Z.getZr().findHover(v2.x,v2.y).target,event:{}},m)}}}}},manuallyHideTip:function(k,e,i,v){var m=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){m.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(v.from!==this.uid){this._hide(BB(v,i))}},_manuallyAxisShowTip:function(v3,v,Z,v2){var k=v2.seriesIndex;var v1=v2.dataIndex;var e=v.getComponent("axisPointer").coordSysAxesInfo;if(k==null||v1==null||e==null){return}var i=v.getSeriesByIndex(k);if(!i){return}var m=i.getData();var v3=Dh([m.getItemModel(v1),i,(i.coordinateSystem||{}).model,v3]);if(v3.get("trigger")!=="axis"){return}Z.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:v1,position:v2.position});return true},_tryShow:function(Z,v){var k=Z.target;var i=this._tooltipModel;if(!i){return}this._lastX=Z.offsetX;this._lastY=Z.offsetY;var m=Z.dataByCoordSys;if(m&&m.length){this._showAxisTooltip(m,Z)}else{if(k&&k.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(Z,k,v)}else{if(k&&k.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(Z,k,v)}else{this._lastDataByCoordSys=null;this._hide(v)}}}},_showOrMove:function(k,e){var i=k.get("showDelay");e=ko(e,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(e,i)):e()},_showAxisTooltip:function(Iq,Z){var m=this._ecModel;var It=this._tooltipModel;var v3=[Z.offsetX,Z.offsetY];var i=[];var v2=[];var Is=Dh([Z.tooltipOption,It]);var Ir=this._renderMode;var v=this._newLine;var k={};tU(Iq,function(e){tU(e.dataByAxis,function(Ix){var Iw=m.getComponent(Ix.axisDim+"Axis",Ix.axisIndex);var Iy=Ix.value;var Iv=[];if(!Iw||Iy==null){return}var Iz=sJ(Iy,Iw.axis,m,Ix.seriesDataIndices,Ix.valueLabelOpt);pb(Ix.seriesDataIndices,function(IG){var IE=m.getSeriesByIndex(IG.seriesIndex);var ID=IG.dataIndexInside;var IA=IE&&IE.getDataParams(ID);IA.axisDim=Ix.axisDim;IA.axisIndex=Ix.axisIndex;IA.axisType=Ix.axisType;IA.axisId=Ix.axisId;IA.axisValue=nX(Iw.axis,Iy);IA.axisValueLabel=Iz;if(IA){v2.push(IA);var IF=IE.formatTooltip(ID,true,null,Ir);var IC;if(tM(IF)){IC=IF.html;var IB=IF.markers;v7(k,IB)}else{IC=IF}Iv.push(IC)}});var Iu=Iz;if(Ir!=="html"){i.push(Iv.join(v))}else{i.push((Iu?mx(Iu)+v:"")+Iv.join(v))}})},this);i.reverse();i=i.join(this._newLine+this._newLine);var v1=Z.position;this._showOrMove(Is,function(){if(this._updateContentNotChangedOnAxis(Iq)){this._updatePosition(Is,v1,v3[0],v3[1],this._tooltipContent,v2)}else{this._showTooltipContent(Is,i,v2,Math.random(),v3[0],v3[1],v1,undefined,k)}})},_showSeriesItemTooltip:function(Is,k,v1){var Ir=this._ecModel;var v3=k.seriesIndex;var v=Ir.getSeriesByIndex(v3);var It=k.dataModel||v;var Iw=k.dataIndex;var Iv=k.dataType;var Iq=It.getData();var Ix=Dh([Iq.getItemModel(Iw),It,v&&(v.coordinateSystem||{}).model,this._tooltipModel]);var Iu=Ix.get("trigger");if(Iu!=null&&Iu!=="item"){return}var Z=It.getDataParams(Iw,Iv);var i=It.formatTooltip(Iw,false,Iv,this._renderMode);var m;var v2;if(tM(i)){m=i.html;v2=i.markers}else{m=i;v2=null}var Iy="item_"+It.name+"_"+Iw;this._showOrMove(Ix,function(){this._showTooltipContent(Ix,m,Z,Iy,Is.offsetX,Is.offsetY,Is.position,Is.target,v2)});v1({type:"showTip",dataIndexInside:Iw,dataIndex:Iq.getRawIndex(Iw),seriesIndex:v3,from:this.uid})},_showComponentItemTooltip:function(v2,k,v1){var i=k.tooltip;if(typeof i==="string"){var v=i;i={content:v,formatter:v}}var Z=new fx(i,this._tooltipModel,this._ecModel);var v3=Z.get("content");var m=Math.random();this._showOrMove(Z,function(){this._showTooltipContent(Z,v3,Z.get("formatterParams")||{},m,v2.offsetX,v2.offsetY,v2.position,k)});v1({type:"showTip",from:this.uid})},_showTooltipContent:function(Iq,i,k,It,v2,v1,Z,e,m){this._ticket="";if(!Iq.get("showContent")||!Iq.get("show")){return}var Ir=this._tooltipContent;var v3=Iq.get("formatter");Z=Z||Iq.get("position");var v=i;if(v3&&typeof v3==="string"){v=ex(v3,k,true)}else{if(typeof v3==="function"){var Is=pC(function(Iv,Iu){if(Iv===this._ticket){Ir.setContent(Iu,m,Iq);this._updatePosition(Iq,Z,v2,v1,Ir,k,e)}},this);this._ticket=It;v=v3(k,It,Is)}}Ir.setContent(v,m,Iq);Ir.show(Iq);this._updatePosition(Iq,Z,v2,v1,Ir,k,e)},_updatePosition:function(Iv,v3,It,Is,v2,m,i){var v=this._api.getWidth();var k=this._api.getHeight();v3=v3||Iv.get("position");var e=v2.getSize();var v1=Iv.get("align");var Z=Iv.get("verticalAlign");var Ir=i&&i.getBoundingRect().clone();i&&Ir.applyTransform(i.transform);if(typeof v3==="function"){v3=v3([It,Is],m,v2.el,Ir,{viewSize:[v,k],contentSize:e.slice()})}if(GL(v3)){It=zN(v3[0],v);Is=zN(v3[1],k)}else{if(tM(v3)){v3.width=e[0];v3.height=e[1];var Iu=kX(v3,{width:v,height:k});It=Iu.x;Is=Iu.y;v1=null;Z=null}else{if(typeof v3==="string"&&i){var Iq=B(v3,Ir,e);It=Iq[0];Is=Iq[1]}else{var Iq=ds(It,Is,v2,v,k,v1?null:20,Z?null:20);It=Iq[0];Is=Iq[1]}}}v1&&(It-=C7(v1)?e[0]/2:v1==="right"?e[0]:0);Z&&(Is-=C7(Z)?e[1]/2:Z==="bottom"?e[1]:0);if(Iv.get("confine")){var Iq=nv(It,Is,v2,v,k);It=Iq[0];Is=Iq[1]}v2.moveTo(It,Is)},_updateContentNotChangedOnAxis:function(k){var i=this._lastDataByCoordSys;var e=!!i&&i.length===k.length;e&&tU(i,function(v1,Z){var v=v1.dataByAxis||{};var m=k[Z]||{};var v2=m.dataByAxis||[];e&=v.length===v2.length;e&&tU(v,function(It,v3){var Ir=v2[v3]||{};var Iq=It.seriesDataIndices||[];var Is=Ir.seriesDataIndices||[];e&=It.value===Ir.value&&It.axisType===Ir.axisType&&It.axisId===Ir.axisId&&Iq.length===Is.length;e&&tU(Iq,function(Iv,Iu){var Iw=Is[Iu];e&=Iv.seriesIndex===Iw.seriesIndex&&Iv.dataIndex===Iw.dataIndex})})});this._lastDataByCoordSys=k;return !!e},_hide:function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})},dispose:function(e,i){if(sZ.node){return}this._tooltipContent.hide();ae("itemTooltip",i)}});function Dh(k){var e=k.pop();while(k.length){var i=k.pop();if(i){if(fx.isInstance(i)){i=i.get("tooltip",true)}if(typeof i==="string"){i={formatter:i}}e=new fx(i,e,e.ecModel)}}return e}function BB(i,e){return i.dispatchAction||ko(e.dispatchAction,e)}function ds(v2,v1,Z,m,k,i,v){var Iq=Z.getOuterSize();var e=Iq.width;var v3=Iq.height;if(i!=null){if(v2+e+i>m){v2-=e+i}else{v2+=i}}if(v!=null){if(v1+v3+v>k){v1-=v3+v}else{v1+=v}}return[v2,v1]}function nv(i,v2,v1,Z,k){var m=v1.getOuterSize();var v=m.width;var e=m.height;i=Math.min(i+v,Z)-v;v2=Math.min(v2+e,k)-e;i=Math.max(i,0);v2=Math.max(v2,0);return[i,v2]}function B(m,v2,e){var v=e[0];var k=e[1];var v3=5;var Iq=0;var v1=0;var i=v2.width;var Z=v2.height;switch(m){case"inside":Iq=v2.x+i/2-v/2;v1=v2.y+Z/2-k/2;break;case"top":Iq=v2.x+i/2-v/2;v1=v2.y-k-v3;break;case"bottom":Iq=v2.x+i/2-v/2;v1=v2.y+Z+v3;break;case"left":Iq=v2.x-v-v3;v1=v2.y+Z/2-k/2;break;case"right":Iq=v2.x+i+v3;v1=v2.y+Z/2-k/2}return[Iq,v1]}function C7(e){return e==="center"||e==="middle"}b1({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});b1({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});function pi(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function xG(e){return e.dim}function y7(i,e,k){var v={};var m=BY(q7(e.getSeriesByType(i),function(Z){return !e.isSeriesFiltered(Z)&&Z.coordinateSystem&&Z.coordinateSystem.type==="polar"}));e.eachSeriesByType(i,function(IA){if(IA.coordinateSystem.type!=="polar"){return}var IO=IA.getData();var IP=IA.coordinateSystem;var Iv=IP.getBaseAxis();var It=pi(IA);var Iw=m[xG(Iv)][It];var Iu=Iw.offset;var Is=Iw.width;var II=IP.getOtherAxis(Iv);var v2=IA.coordinateSystem.cx;var v1=IA.coordinateSystem.cy;var Z=IA.get("barMinHeight")||0;var ID=IA.get("barMinAngle")||0;v[It]=v[It]||[];var v3=IO.mapDimension(II.dim);var Iz=IO.mapDimension(Iv.dim);var IK=lW(IO,v3);var Ir=II.getExtent()[0];for(var Iy=0,IH=IO.count();Iy<IH;Iy++){var IC=IO.get(v3,Iy);var IL=IO.get(Iz,Iy);if(isNaN(IC)){continue}var IN=IC>=0?"p":"n";var IM=Ir;if(IK){if(!v[It][IL]){v[It][IL]={p:Ir,n:Ir}}IM=v[It][IL][IN]}var IG;var Ix;var IE;var IB;if(II.dim==="radius"){var IF=II.dataToRadius(IC)-Ir;var IJ=Iv.dataToAngle(IL);if(Math.abs(IF)<Z){IF=(IF<0?-1:1)*Z}IG=IM;Ix=IM+IF;IE=IJ-Iu;IB=IE-Is;IK&&(v[It][IL][IN]=Ix)}else{var IQ=II.dataToAngle(IC,true)-Ir;var Iq=Iv.dataToRadius(IL);if(Math.abs(IQ)<ID){IQ=(IQ<0?-1:1)*ID}IG=Iq+Iu;Ix=IG+Is;IE=IM;IB=IM+IQ;IK&&(v[It][IL][IN]=IB)}IO.setItemLayout(Iy,{cx:v2,cy:v1,r0:IG,r:Ix,startAngle:-IE*Math.PI/180,endAngle:-IB*Math.PI/180})}},this)}function BY(i,m){var k={};pb(i,function(Ir,Iw){var Iu=Ir.getData();var Z=Ir.coordinateSystem;var v2=Z.getBaseAxis();var Iq=v2.getExtent();var It=v2.type==="category"?v2.getBandWidth():(Math.abs(Iq[1]-Iq[0])/Iu.count());var Iy=k[xG(v2)]||{bandWidth:It,remainedWidth:It,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var v1=Iy.stacks;k[xG(v2)]=Iy;var Is=pi(Ir);if(!v1[Is]){Iy.autoWidthCount++}v1[Is]=v1[Is]||{width:0,maxWidth:0};var Ix=zS(Ir.get("barWidth"),It);var v=zS(Ir.get("barMaxWidth"),It);var Iv=Ir.get("barGap");var v3=Ir.get("barCategoryGap");if(Ix&&!v1[Is].width){Ix=Math.min(Iy.remainedWidth,Ix);v1[Is].width=Ix;Iy.remainedWidth-=Ix}v&&(v1[Is].maxWidth=v);(Iv!=null)&&(Iy.gap=Iv);(v3!=null)&&(Iy.categoryGap=v3)});var e={};pb(k,function(Iw,v1){e[v1]={};var v=Iw.stacks;var v3=Iw.bandWidth;var Z=zS(Iw.categoryGap,v3);var It=zS(Iw.gap,1);var v2=Iw.remainedWidth;var Iu=Iw.autoWidthCount;var Is=(v2-Z)/(Iu+(Iu-1)*It);Is=Math.max(Is,0);pb(v,function(Iy,Ix){var Iz=Iy.maxWidth;if(Iz&&Iz<Is){Iz=Math.min(Iz,v2);if(Iy.width){Iz=Math.min(Iz,Iy.width)}v2-=Iz;Iy.width=Iz;Iu--}});Is=(v2-Z)/(Iu+(Iu-1)*It);Is=Math.max(Is,0);var Ir=0;var Iv;pb(v,function(Iy,Ix){if(!Iy.width){Iy.width=Is}Iv=Iy;Ir+=Iy.width*(1+It)});if(Iv){Ir-=Iv.width*It}var Iq=-Ir/2;pb(v,function(Iy,Ix){e[v1][Ix]=e[v1][Ix]||{offset:Iq,width:Iy.width};Iq+=Iy.width*(1+It)})});return e}function hs(i,e){BW.call(this,"radius",i,e);this.type="category"}hs.prototype={constructor:hs,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToRadius:BW.prototype.dataToCoord,radiusToData:BW.prototype.coordToData};mt(hs,BW);var eK=fM();function bb(i,e){e=e||[0,360];BW.call(this,"angle",i,e);this.type="category"}bb.prototype={constructor:bb,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToAngle:BW.prototype.dataToCoord,angleToData:BW.prototype.coordToData,calculateCategoryInterval:function(){var m=this;var Iu=m.getLabelModel();var Iv=m.scale;var It=Iv.getExtent();var i=Iv.count();if(It[1]-It[0]<1){return 0}var v=It[0];var Is=m.dataToCoord(v+1)-m.dataToCoord(v);var Z=Math.abs(Is);var Iq=Gv(v,Iu.getFont(),"center","top");var Ir=Math.max(Iq.height,7);var v3=Ir/Z;isNaN(v3)&&(v3=Infinity);var k=Math.max(0,Math.floor(v3));var e=eK(m.model);var v2=e.lastAutoInterval;var v1=e.lastTickCount;if(v2!=null&&v1!=null&&Math.abs(v2-k)<=1&&Math.abs(v1-i)<=1&&v2>k){k=v2}else{e.lastTickCount=i;e.lastAutoInterval=k}return k}};mt(bb,BW);var sp=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new hs();this._angleAxis=new bb();this._radiusAxis.polar=this._angleAxis.polar=this};sp.prototype={type:"polar",axisPointerEnabled:true,constructor:sp,dimensions:["radius","angle"],model:null,containPoint:function(e){var i=this.pointToCoord(e);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var m=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&m.push(i);k.scale.type===e&&m.push(k);return m},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var e=this._angleAxis;return i===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var e=(i!=null&&i!=="auto")?this.getAxis(i):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,i){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],i),this._angleAxis.dataToAngle(e[1],i)])},pointToData:function(e,i){var k=this.pointToCoord(e);return[this._radiusAxis.radiusToData(k[0],i),this._angleAxis.angleToData(k[1],i)]},pointToCoord:function(Z){var Iq=Z[0]-this.cx;var v2=Z[1]-this.cy;var v3=this.getAngleAxis();var v1=v3.getExtent();var k=Math.min(v1[0],v1[1]);var e=Math.max(v1[0],v1[1]);v3.inverse?(k=e-360):(e=k+360);var m=Math.sqrt(Iq*Iq+v2*v2);Iq/=m;v2/=m;var v=Math.atan2(-v2,Iq)/Math.PI*180;var i=v<k?1:-1;while(v<k||v>e){v+=i*360}return[m,v]},coordToPoint:function(v){var i=v[0];var k=v[1]/180*Math.PI;var e=Math.cos(k)*i+this.cx;var m=-Math.sin(k)*i+this.cy;return[e,m]}};var ap=aH.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});v7(ap.prototype,nD);var dq={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function sd(i,e){return e.type||(e.data?"category":"value")}mT("angle",ap,sd,dq.angle);mT("radius",ap,sd,dq.radius);p5({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var k;var e=this.ecModel;e.eachComponent(i,function(m){if(m.getCoordSysModel()===this){k=m}},this);return k},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function ww(i,v,v1){var e=v.get("center");var k=v1.getWidth();var v2=v1.getHeight();i.cx=zS(e[0],k);i.cy=zS(e[1],v2);var m=i.getRadiusAxis();var v3=Math.min(k,v2)/2;var Z=zS(v.get("radius"),v3);m.inverse?m.setExtent(Z,0):m.setExtent(0,Z)}function Ci(e,m){var v1=this;var i=v1.getAngleAxis();var v=v1.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);v.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(v2){if(v2.coordinateSystem===v1){var v3=v2.getData();pb(v3.mapDimension("radius",true),function(Iq){v.scale.unionExtentFromData(v3,jD(v3,Iq))});pb(v3.mapDimension("angle",true),function(Iq){i.scale.unionExtentFromData(v3,jD(v3,Iq))})}});nN(i.scale,i.model);nN(v.scale,v.model);if(i.type==="category"&&!i.onBand){var k=i.getExtent();var Z=360/i.scale.count();i.inverse?(k[1]+=Z):(k[1]-=Z);i.setExtent(k[0],k[1])}}function mQ(k,i){k.type=i.get("type");k.scale=ns(i);k.onBand=i.get("boundaryGap")&&k.type==="category";k.inverse=i.get("inverse");if(i.mainType==="angleAxis"){k.inverse^=i.get("clockwise");var e=i.get("startAngle");k.setExtent(e,e+(k.inverse?-360:360))}i.axis=k;k.model=i}var w7={dimensions:sp.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("polar",function(v1,m){var Iq=new sp(m);Iq.update=Ci;var v3=Iq.getRadiusAxis();var Z=Iq.getAngleAxis();var v2=v1.findAxisModel("radiusAxis");var v=v1.findAxisModel("angleAxis");mQ(v3,v2);mQ(Z,v);ww(Iq,v1,i);k.push(Iq);v1.coordinateSystem=Iq;Iq.model=v1});e.eachSeries(function(m){if(m.get("coordinateSystem")==="polar"){var v=e.queryComponents({mainType:"polar",index:m.get("polarIndex"),id:m.get("polarId")})[0];if(om){if(!v){throw new Error('Polar "'+gw(m.get("polarIndex"),m.get("polarId"),0)+'" not found')}}m.coordinateSystem=v.coordinateSystem}});return k}};fB.register("polar",w7);var CZ=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function cM(k,i,m){i[1]>i[0]&&(i=i.slice().reverse());var v=k.coordToPoint([i[0],m]);var e=k.coordToPoint([i[1],m]);return{x1:v[0],y1:v[1],x2:e[0],y2:e[1]}}function yn(i){var e=i.getRadiusAxis();return e.inverse?0:1}function e6(i){var k=i[0];var e=i[i.length-1];if(k&&e&&Math.abs(Math.abs(k.coord-e.coord)-360)<0.0001){i.pop()}}f4.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(m,e){this.group.removeAll();if(!m.get("show")){return}var k=m.axis;var Z=k.polar;var v=Z.getRadiusAxis().getExtent();var i=k.getTicksCoords();var v1=Ej(k.getViewLabels(),function(v2){var v2=C9(v2);v2.coord=k.dataToCoord(v2.tickValue);return v2});e6(v1);e6(i);pb(CZ,function(v2){if(m.get(v2+".show")&&(!k.scale.isBlank()||v2==="axisLine")){this["_"+v2](m,Z,i,v,v1)}},this)},_axisLine:function(i,Z,e,v){var m=i.getModel("axisLine.lineStyle");var k=new GN({shape:{cx:Z.cx,cy:Z.cy,r:v[yn(Z)]},style:m.getLineStyle(),z2:1,silent:true});k.style.fill=null;this.group.add(k)},_axisTick:function(m,Z,k,v){var v1=m.getModel("axisTick");var v2=(v1.get("inside")?-1:1)*v1.get("length");var e=v[yn(Z)];var i=Ej(k,function(v3){return new zG({shape:cM(Z,[e,e+v2],v3.coord)})});this.group.add(rb(i,{style:Di(v1.getModel("lineStyle").getLineStyle(),{stroke:m.get("axisLine.lineStyle.color")})}))},_axisLabel:function(i,v1,e,Z,v2){var k=i.getCategories(true);var v=i.getModel("axisLabel");var m=v.get("margin");pb(v2,function(Is,Iv){var Iz=v;var It=Is.tickValue;var v3=Z[yn(v1)];var Iq=v1.coordToPoint([v3+m,Is.coord]);var Iu=v1.cx;var Ir=v1.cy;var Iw=Math.abs(Iq[0]-Iu)/v3<0.3?"center":(Iq[0]>Iu?"left":"right");var Iy=Math.abs(Iq[1]-Ir)/v3<0.3?"middle":(Iq[1]>Ir?"top":"bottom");if(k&&k[It]&&k[It].textStyle){Iz=new fx(k[It].textStyle,v,v.ecModel)}var Ix=new iT({silent:true});this.group.add(Ix);pg(Ix.style,Iz,{x:Iq[0],y:Iq[1],textFill:Iz.getTextColor()||i.get("axisLine.lineStyle.color"),text:Is.formattedLabel,textAlign:Iw,textVerticalAlign:Iy})},this)},_splitLine:function(k,e,v2,Z){var m=k.getModel("splitLine");var v3=m.getModel("lineStyle");var Ir=v3.get("color");var Is=0;Ir=Ir instanceof Array?Ir:[Ir];var v1=[];for(var v=0;v<v2.length;v++){var Iq=(Is++)%Ir.length;v1[Iq]=v1[Iq]||[];v1[Iq].push(new zG({shape:cM(e,Z,v2[v].coord)}))}for(var v=0;v<v1.length;v++){this.group.add(rb(v1[v],{style:Di({stroke:Ir[v%Ir.length]},v3.getLineStyle()),silent:true,z:k.get("z")}))}},_splitArea:function(v,m,Ir,v3){if(!Ir.length){return}var It=v.getModel("splitArea");var Iv=It.getModel("areaStyle");var Iw=Iv.get("color");var Ix=0;Iw=Iw instanceof Array?Iw:[Iw];var Iq=[];var Is=Math.PI/180;var e=-Ir[0].coord*Is;var v1=Math.min(v3[0],v3[1]);var Z=Math.max(v3[0],v3[1]);var k=v.get("clockwise");for(var v2=1;v2<Ir.length;v2++){var Iu=(Ix++)%Iw.length;Iq[Iu]=Iq[Iu]||[];Iq[Iu].push(new tA({shape:{cx:m.cx,cy:m.cy,r0:v1,r:Z,startAngle:e,endAngle:-Ir[v2].coord*Is,clockwise:k},silent:true}));e=-Ir[v2].coord*Is}for(var v2=0;v2<Iq.length;v2++){this.group.add(rb(Iq[v2],{style:Di({fill:Iw[v2%Iw.length]},Iv.getAreaStyle()),silent:true}))}}});var ET=["axisLine","axisTickLabel","axisName"];var iB=["splitLine","splitArea"];f4.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(v2,v){this.group.removeAll();if(!v2.get("show")){return}var i=v2.axis;var e=i.polar;var Iq=e.getAngleAxis();var v3=i.getTicksCoords();var v1=Iq.getExtent()[0];var k=i.getExtent();var m=li(e,v2,v1);var Z=new db(v2,m);pb(ET,Z.add,Z);this.group.add(Z.getGroup());pb(iB,function(Ir){if(v2.get(Ir+".show")&&!i.scale.isBlank()){this["_"+Ir](v2,e,v1,k,v3)}},this)},_splitLine:function(v2,e,v1,v,Iq){var k=v2.getModel("splitLine");var v3=k.getModel("lineStyle");var It=v3.get("color");var Is=0;It=It instanceof Array?It:[It];var Z=[];for(var m=0;m<Iq.length;m++){var Ir=(Is++)%It.length;Z[Ir]=Z[Ir]||[];Z[Ir].push(new GN({shape:{cx:e.cx,cy:e.cy,r:Iq[m].coord},silent:true}))}for(var m=0;m<Z.length;m++){this.group.add(rb(Z[m],{style:Di({stroke:It[m%It.length],fill:null},v3.getLineStyle()),silent:true}))}},_splitArea:function(v1,e,Z,m,v3){if(!v3.length){return}var v2=v1.getModel("splitArea");var Ir=v2.getModel("areaStyle");var It=Ir.get("color");var Iu=0;It=It instanceof Array?It:[It];var v=[];var Is=v3[0].coord;for(var k=1;k<v3.length;k++){var Iq=(Iu++)%It.length;v[Iq]=v[Iq]||[];v[Iq].push(new tA({shape:{cx:e.cx,cy:e.cy,r0:Is,r:v3[k].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));Is=v3[k].coord}for(var k=0;k<v.length;k++){this.group.add(rb(v[k],{style:Di({fill:It[k%It.length]},Ir.getAreaStyle()),silent:true}))}}});function li(i,e,k){return{position:[i.cx,i.cy],rotation:k/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var d0=Gt.extend({makeElOption:function(e,Ir,It,v2,v1){var m=It.axis;if(m.dim==="angle"){this.animationThreshold=Math.PI/18}var i=m.polar;var v=i.getOtherAxis(m);var Z=v.getExtent();var Iv;Iv=m["dataTo"+tj(m.dim)](Ir);var Iq=v2.get("type");if(Iq&&Iq!=="none"){var Is=y8(v2);var Iu=rX[Iq](m,i,Iv,Z,Is);Iu.style=Is;e.graphicKey=Iu.type;e.pointer=Iu}var v3=v2.get("label.margin");var k=m2(Ir,It,v2,i,v3);Fv(e,It,v2,v1,k)}});function m2(It,Iq,v,Iy,k){var Z=Iq.axis;var Iu=Z.dataToCoord(It);var e=Iy.getAngleAxis().getExtent()[0];e=e/180*Math.PI;var v1=Iy.getRadiusAxis().getExtent();var Ix;var Iv;var i;if(Z.dim==="radius"){var Ir=CF();kk(Ir,Ir,e);vp(Ir,Ir,[Iy.cx,Iy.cy]);Ix=wa([Iu,-k],Ir);var Iw=Iq.getModel("axisLabel").get("rotate")||0;var v3=db.innerTextLayout(e,Iw*Math.PI/180,-1);Iv=v3.textAlign;i=v3.textVerticalAlign}else{var Is=v1[1];Ix=Iy.coordToPoint([Is+k,Iu]);var v2=Iy.cx;var m=Iy.cy;Iv=Math.abs(Ix[0]-v2)/Is<0.3?"center":(Ix[0]>v2?"left":"right");i=Math.abs(Ix[1]-m)/Is<0.3?"middle":(Ix[1]>m?"top":"bottom")}return{position:Ix,align:Iv,verticalAlign:i}}var rX={line:function(k,m,e,v,i){return k.dim==="angle"?{type:"Line",shape:GJ(m.coordToPoint([v[0],e]),m.coordToPoint([v[1],e]))}:{type:"Circle",shape:{cx:m.cx,cy:m.cy,r:e}}},shadow:function(m,v,i,v1,k){var e=Math.max(1,m.getBandWidth());var Z=Math.PI/180;return m.dim==="angle"?{type:"Sector",shape:kp(v.cx,v.cy,v1[0],v1[1],(-i-e/2)*Z,(-i+e/2)*Z)}:{type:"Sector",shape:kp(v.cx,v.cy,i-e/2,i+e/2,0,Math.PI*2)}}};f4.registerAxisPointerClass("PolarAxisPointer",d0);pu(sy(y7,"bar"));qB({type:"polar"});var x4=aH.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){aH.prototype.init.apply(this,arguments);DE(e,"label",["show"])},optionUpdated:function(){var i=this.option;var e=this;i.regions=h2.getFilledRegions(i.regions,i.map,i.nameMap);this._optionModelMap=xf(i.regions||[],function(m,k){if(k.name){m.set(k.name,new fx(k,e))}return m},CN());this.updateSelectedMap(i.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new fx(null,this,this.ecModel)},getFormattedLabel:function(i,e){var m=this.getRegionModel(i);var k=m.get("label."+e+".formatter");var v={name:i};if(typeof k==="function"){v.status=e;return k(v)}else{if(typeof k==="string"){return k.replace("{a}",i!=null?i:"")}}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});Gu(x4,EY);qB({type:"geo",init:function(e,k){var i=new Cn(k,true);this._mapDraw=i;this.group.add(i.group)},render:function(k,e,m,v){if(v&&v.type==="geoToggleSelect"&&v.from===this.uid){return}var i=this._mapDraw;if(k.get("show")){i.draw(k,e,m,this,v)}else{this._mapDraw.group.removeAll()}this.group.silent=k.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function Cy(i,e){e.update="updateView";b1(e,function(v,k){var m={};k.eachComponent({mainType:"geo",query:v},function(Z){Z[i](v.name);var v1=Z.coordinateSystem;pb(v1.regions,function(v2){m[v2.name]=Z.isSelected(v2.name)||false})});return{selected:m,name:v.name}})}Cy("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});Cy("select",{type:"geoSelect",event:"geoselected"});Cy("unSelect",{type:"geoUnSelect",event:"geounselected"});var vf=["rect","polygon","keep","clear"];var H6=function(v,e){var m=v&&v.brush;if(!GL(m)){m=m?[m]:[]}if(!m.length){return}var i=[];pb(m,function(Iq){var v3=Iq.hasOwnProperty("toolbox")?Iq.toolbox:[];if(v3 instanceof Array){i=i.concat(v3)}});var Z=v&&v.toolbox;if(GL(Z)){Z=Z[0]}if(!Z){Z={feature:{}};v.toolbox=[Z]}var v1=(Z.feature||(Z.feature={}));var v2=v1.brush||(v1.brush={});var k=v2.type||(v2.type=[]);k.push.apply(k,i);lh(k);if(e&&!k.length){k.push.apply(k,vf)}};function lh(e){var i={};pb(e,function(k){i[k]=1});e.length=0;pb(i,function(k,m){e.push(m)})}var tS=pb;function ri(i){if(i){for(var e in i){if(i.hasOwnProperty(e)){return true}}}}function Ag(k,e,m){var i={};tS(e,function(Z){var v1=i[Z]=v();tS(k[Z],function(Iq,v3){if(!mJ.isValidType(v3)){return}var v2={type:v3,visual:Iq};m&&m(v2,Z);v1[v3]=new mJ(v2);if(v3==="opacity"){v2=C9(v2);v2.type="colorAlpha";v1.__hidden.__alphaForOpacity=new mJ(v2)}})});return i;function v(){var Z=function(){};Z.prototype.__hidden=Z.prototype;var v1=new Z();return v1}}function ne(i,m,k){var e;pb(k,function(v){if(m.hasOwnProperty(v)&&ri(m[v])){e=true}});e&&pb(k,function(v){if(m.hasOwnProperty(v)&&ri(m[v])){i[v]=C9(m[v])}else{delete i[v]}})}function dy(m,Z,k,v2,Ir,i){var v={};pb(m,function(It){var Is=mJ.prepareVisualTypes(Z[It]);v[It]=Is});var v3;function v1(Is){return k.getItemVisual(v3,Is)}function Iq(Is,It){k.setItemVisual(v3,Is,It)}if(i==null){k.each(e)}else{k.each([i],e)}function e(Is,Iy){v3=i==null?Is:Iy;var Iv=k.getRawDataItem(v3);if(Iv&&Iv.visualMap===false){return}var Iu=v2.call(Ir,Is);var Ix=Z[Iu];var It=v[Iu];for(var Iw=0,Iz=It.length;Iw<Iz;Iw++){var IA=It[Iw];Ix[IA]&&Ix[IA].applyVisual(Is,v1,Iq)}}}function lo(e,i,Z,v){var m={};pb(e,function(v2){var v1=mJ.prepareVisualTypes(i[v2]);m[v2]=v1});function k(v3,Is){if(v!=null){v=Is.getDimension(v)}function Iv(IA){return Is.getItemVisual(Ix,IA)}function Iy(IA,IB){Is.setItemVisual(Ix,IA,IB)}var Ix;while((Ix=v3.next())!=null){var Iq=Is.getRawDataItem(Ix);if(Iq&&Iq.visualMap===false){return}var Iz=v!=null?Is.get(v,Ix,true):Ix;var v2=Z(Iz);var It=i[v2];var v1=m[v2];for(var Ir=0,Iu=v1.length;Ir<Iu;Ir++){var Iw=v1[Ir];It[Iw]&&It[Iw].applyVisual(Iz,Iv,Iy)}}}return{progress:k}}var aw={lineX:tJ(0),lineY:tJ(1),rect:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])},rect:function(i,e,k){return i&&k.boundingRect.intersect(i)}},polygon:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])&&ER(k.range,i[0],i[1])},rect:function(v2,v1,i){var Z=i.range;if(!v2||Z.length<=1){return false}var v=v2.x;var m=v2.y;var k=v2.width;var v3=v2.height;var e=Z[0];if(ER(Z,v,m)||ER(Z,v+k,m)||ER(Z,v,m+v3)||ER(Z,v+k,m+v3)||CL.create(v2).contain(e[0],e[1])||s5(v,m,v+k,m,Z)||s5(v,m,v,m+v3,Z)||s5(v+k,m,v+k,m+v3,Z)||s5(v,m+v3,v+k,m+v3,Z)){return true}}}};function tJ(k){var i=["x","y"];var e=["width","height"];return{point:function(Z,v,v1){if(Z){var m=v1.range;var v2=Z[k];return eE(v2,m)}},rect:function(Z,v,v1){if(Z){var m=v1.range;var v2=[Z[i[k]],Z[i[k]]+Z[e[k]]];v2[1]<v2[0]&&v2.reverse();return eE(v2[0],m)||eE(v2[1],m)||eE(m[0],v2)||eE(m[1],v2)}}}}function eE(i,e){return e[0]<=i&&i<=e[1]}function s5(v,m,v3,v2,k){for(var e=0,v1=k[k.length-1];e<k.length;e++){var Z=k[e];if(dv(v,m,v3,v2,Z[0],Z[1],v1[0],v1[1])){return true}v1=Z}}function dv(v3,v2,v,m,e,Ir,v1,Z){var Iq=vg(v-v3,e-v1,m-v2,Ir-Z);if(bW(Iq)){return false}var k=vg(e-v3,e-v1,Ir-v2,Ir-Z)/Iq;if(k<0||k>1){return false}var i=vg(v-v3,e-v3,m-v2,Ir-v2)/Iq;if(i<0||i>1){return false}return true}function bW(e){return e<=(0.000001)&&e>=-(0.000001)}function vg(m,k,i,e){return m*e-k*i}var tz=pb;var iu=eR;var ui=sy;var nS=["dataToPoint","pointToData"];var Db=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function Dq(v,e,m){var i=this._targetInfoList=[];var Z={};var k=zx(e,v);tz(HH,function(v1,v2){if(!m||!m.include||iu(m.include,v2)>=0){v1(k,i,Z)}})}var ce=Dq.prototype;ce.setOutputRanges=function(i,e){this.matchOutputRanges(i,e,function(v,Z,m){(v.coordRanges||(v.coordRanges=[])).push(Z);if(!v.coordRange){v.coordRange=Z;var k=vS[v.brushType](0,m,Z);v.__rangeOffset={offset:tH[v.brushType](k.values,v.range,[1,1]),xyMinMax:k.xyMinMax}}})};ce.matchOutputRanges=function(k,i,e){tz(k,function(m){var v=this.findTargetInfo(m,i);if(v&&v!==true){pb(v.coordSyses,function(v1){var Z=vS[m.brushType](1,v1,m.range);e(m,Z.values,v1,i)})}},this)};ce.setInputRanges=function(i,e){tz(i,function(m){var Z=this.findTargetInfo(m,e);if(om){bM(!Z||Z===true||m.coordRange,"coordRange must be specified when coord index specified.");bM(!Z||Z!==true||m.range,"range must be specified in global brush.")}m.range=m.range||[];if(Z&&Z!==true){m.panelId=Z.panelId;var k=vS[m.brushType](0,Z.coordSys,m.coordRange);var v=m.__rangeOffset;m.range=v?tH[m.brushType](k.values,v.offset,En(k.xyMinMax,v.xyMinMax)):k.values}},this)};ce.makePanelOpts=function(i,e){return Ej(this._targetInfoList,function(m){var k=m.getPanelRect();return{panelId:m.panelId,defaultBrushType:e&&e(m),clipPath:Fk(k),isTargetByCursor:qO(k,i,m.coordSysModel),getLinearBrushOtherExtent:vC(k)}})};ce.controlSeries=function(k,i,e){var m=this.findTargetInfo(k,e);return m===true||(m&&iu(m.coordSyses,i.coordinateSystem)>=0)};ce.findTargetInfo=function(v1,e){var k=this._targetInfoList;var m=zx(e,v1);for(var Z=0;Z<k.length;Z++){var v2=k[Z];var v=v1.panelId;if(v){if(v2.panelId===v){return v2}}else{for(var Z=0;Z<yw.length;Z++){if(yw[Z](m,v2)){return v2}}}}return true};function ll(e){e[0]>e[1]&&e.reverse();return e}function zx(e,i){return nH(e,i,{includeMainTypes:Db})}var HH={grid:function(i,e){var k=i.xAxisModels;var v2=i.yAxisModels;var Z=i.gridModels;var v1=CN();var v={};var m={};if(!k&&!v2&&!Z){return}tz(k,function(v3){var Iq=v3.axis.grid.model;v1.set(Iq.id,Iq);v[Iq.id]=true});tz(v2,function(v3){var Iq=v3.axis.grid.model;v1.set(Iq.id,Iq);m[Iq.id]=true});tz(Z,function(v3){v1.set(v3.id,v3);v[v3.id]=true;m[v3.id]=true});v1.each(function(Ir){var v3=Ir.coordinateSystem;var Iq=[];tz(v3.getCartesians(),function(It,Is){if(iu(k,It.getAxis("x").model)>=0||iu(v2,It.getAxis("y").model)>=0){Iq.push(It)}});e.push({panelId:"grid--"+Ir.id,gridModel:Ir,coordSysModel:Ir,coordSys:Iq[0],coordSyses:Iq,getPanelRect:op.grid,xAxisDeclared:v[Ir.id],yAxisDeclared:m[Ir.id]})})},geo:function(i,e){tz(i.geoModels,function(k){var m=k.coordinateSystem;e.push({panelId:"geo--"+k.id,geoModel:k,coordSysModel:k,coordSys:m,coordSyses:[m],getPanelRect:op.geo})})}};var yw=[function(i,v){var e=i.xAxisModel;var k=i.yAxisModel;var m=i.gridModel;!m&&e&&(m=e.axis.grid.model);!m&&k&&(m=k.axis.grid.model);return m&&m===v.gridModel},function(i,k){var e=i.geoModel;return e&&e===k.geoModel}];var op={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys;var i=e.getBoundingRect().clone();i.applyTransform(aI(e));return i}};var vS={lineX:ui(kx,0),lineY:ui(kx,1),rect:function(Z,i,v){var m=i[nS[Z]]([v[0][0],v[1][0]]);var k=i[nS[Z]]([v[0][1],v[1][1]]);var e=[ll([m[0],k[0]]),ll([m[1],k[1]])];return{values:e,xyMinMax:e}},polygon:function(v,k,m){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];var i=Ej(m,function(Z){var v1=k[nS[v]](Z);e[0][0]=Math.min(e[0][0],v1[0]);e[1][0]=Math.min(e[1][0],v1[1]);e[0][1]=Math.max(e[0][1],v1[0]);e[1][1]=Math.max(e[1][1],v1[1]);return v1});return{values:i,xyMinMax:e}}};function kx(k,v1,m,Z){if(om){bM(m.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var v=m.getAxis(["x","y"][k]);var i=ll(Ej([0,1],function(v2){return v1?v.coordToData(v.toLocalCoord(Z[v2])):v.toGlobalCoord(v.dataToCoord(Z[v2]))}));var e=[];e[k]=i;e[1-k]=[NaN,NaN];return{values:i,xyMinMax:e}}var tH={lineX:ui(nu,0),lineY:ui(nu,1),rect:function(e,i,k){return[[e[0][0]-k[0]*i[0][0],e[0][1]-k[0]*i[0][1]],[e[1][0]-k[1]*i[1][0],e[1][1]-k[1]*i[1][1]]]},polygon:function(e,i,k){return Ej(e,function(v,m){return[v[0]-k[0]*i[m][0],v[1]-k[1]*i[m][1]]})}};function nu(i,e,k,m){return[e[0]-m[i]*k[0],e[1]-m[i]*k[1]]}function En(v,e){var k=Hf(v);var i=Hf(e);var m=[k[0]/i[0],k[1]/i[1]];isNaN(m[0])&&(m[0]=1);isNaN(m[1])&&(m[1]=1);return m}function Hf(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var GU=["inBrush","outOfBrush"];var pq="__ecBrushSelect";var wg="__ecInBrushSelectEvent";var Bz=Ca.VISUAL.BRUSH;pu(Bz,function(e,i,k){e.eachComponent({mainType:"brush"},function(m){k&&k.type==="takeGlobalCursor"&&m.setBrushOption(k.key==="brush"?k.brushOption:{brushType:false});var v=m.brushTargetManager=new Dq(m.option,e);v.setInputRanges(m.areas,e)})});G(Bz,function(i,k,v){var m=[];var Z;var e;i.eachComponent({mainType:"brush"},function(IB,v3){var It={brushId:IB.id,brushIndex:v3,brushName:IB.name,areas:C9(IB.areas),selected:[]};m.push(It);var Ir=IB.option;var Ix=Ir.brushLink;var Iv=[];var v2=[];var IA=[];var Iy=0;if(!v3){Z=Ir.throttleType;e=Ir.throttleDelay}var v1=Ej(IB.areas,function(IC){return jN(Di({boundingRect:p6[IC.brushType](IC)},IC))});var Iu=Ag(IB.option,GU,function(IC){IC.mappingMethod="fixed"});GL(Ix)&&pb(Ix,function(IC){Iv[IC]=1});function Is(IC){return Ix==="all"||Iv[IC]}function Iq(IC){return !!IC.length}i.eachSeries(function(IE,ID){var IC=IA[ID]=[];IE.subType==="parallel"?Iw(IE,ID,IC):Iz(IE,ID,IC)});function Iw(ID,IC){var IE=ID.coordinateSystem;Iy|=IE.hasAxisBrushed();Is(IC)&&IE.eachActiveState(ID.getData(),function(IG,IF){IG==="active"&&(v2[IF]=1)})}function Iz(IF,IE,ID){var IC=DX(IF);if(!IC||Hi(IB,IE)){return}pb(v1,function(IH){IC[IH.brushType]&&IB.brushTargetManager.controlSeries(IH,IF,i)&&ID.push(IH);Iy|=Iq(ID)});if(Is(IE)&&Iq(ID)){var IG=IF.getData();IG.each(function(IH){if(B3(IC,ID,IG,IH)){v2[IH]=1}})}}i.eachSeries(function(IG,IF){var IE={seriesId:IG.id,seriesIndex:IF,seriesName:IG.name,dataIndex:[]};It.selected.push(IE);var ID=DX(IG);var IC=IA[IF];var IH=IG.getData();var II=Is(IF)?function(IJ){return v2[IJ]?(IE.dataIndex.push(IH.getRawIndex(IJ)),"inBrush"):"outOfBrush"}:function(IJ){return B3(ID,IC,IH,IJ)?(IE.dataIndex.push(IH.getRawIndex(IJ)),"inBrush"):"outOfBrush"};(Is(IF)?Iy:Iq(IC))&&dy(GU,Iu,IH,II)})});pY(k,Z,e,m,v)});function pY(k,v1,e,Z,v){if(!v){return}var m=k.getZr();if(m[wg]){return}if(!m[pq]){m[pq]=AY}var i=mM(m,pq,e,v1);i(k,Z)}function AY(e,k){if(!e.isDisposed()){var i=e.getZr();i[wg]=true;e.dispatchAction({type:"brushSelect",batch:k});i[wg]=false}}function B3(m,k,v2,Z){for(var v=0,e=k.length;v<e;v++){var v1=k[v];if(m[v1.brushType](Z,v2,v1.selectors,v1)){return true}}}function DX(k){var m=k.brushSelector;if(we(m)){var e=[];pb(aw,function(Z,v){e[v]=function(v2,Ir,v1,Iq){var v3=Ir.getItemLayout(v2);return Z[m](v3,v1,Iq)}});return e}else{if(E9(m)){var i={};pb(aw,function(Z,v){i[v]=m});return i}}return m}function Hi(i,e){var k=i.option.seriesIndex;return k!=null&&k!=="all"&&(GL(k)?eR(k,e)<0:e!==k)}function jN(i){var e=i.selectors={};pb(aw[i.brushType],function(m,k){e[k]=function(v){return m(v,e,i)}});return i}var p6={lineX:V,lineY:V,rect:function(e){return bI(e.range)},polygon:function(v1){var m;var k=v1.range;for(var Z=0,e=k.length;Z<e;Z++){m=m||[[Infinity,-Infinity],[Infinity,-Infinity]];var v=k[Z];v[0]<m[0][0]&&(m[0][0]=v[0]);v[0]>m[0][1]&&(m[0][1]=v[0]);v[1]<m[1][0]&&(m[1][0]=v[1]);v[1]>m[1][1]&&(m[1][1]=v[1])}return m&&bI(m)}};function bI(e){return new CL(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var fp=["#ddd"];var DI=p5({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(i,m){var e=this.option;!m&&ne(e,i,["inBrush","outOfBrush"]);var k=e.inBrush=e.inBrush||{};e.outOfBrush=e.outOfBrush||{color:fp};if(!k.hasOwnProperty("liftZ")){k.liftZ=5}},setAreas:function(e){if(om){bM(GL(e));pb(e,function(i){bM(i.brushType,"Illegal areas")})}if(!e){return}this.areas=Ej(e,function(i){return tY(this.option,i)},this)},setBrushOption:function(e){this.brushOption=tY(this.option,e);this.brushType=this.brushOption.brushType}});function tY(e,i){return v7({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new fx(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},i,true)}qB({type:"brush",init:function(e,i){this.ecModel=e;this.api=i;this.model;(this._brushController=new kz(i.getZr())).on("brush",ko(this._onBrush,this)).mount()},render:function(e){this.model=e;return cO.apply(this,arguments)},updateTransform:cO,updateView:cO,dispose:function(){this._brushController.dispose()},_onBrush:function(e,i){var k=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel);(!i.isEnd||i.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:k,areas:C9(e),$from:k})}});function cO(i,e,k,m){(!m||m.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}b1({type:"brush",event:"brush"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(k){k.setAreas(i.areas)})});b1({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var eZ={};function aF(e,i){eZ[e]=i}function a1(e){return eZ[e]}var qf=Cr.toolbox.brush;function te(i,e,k){this.model=i;this.ecModel=e;this.api=k;this._brushType;this._brushMode}te.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:C9(qf.title)};var cd=te.prototype;cd.render=cd.updateView=function(Z,i,m){var v;var e;var k;i.eachComponent({mainType:"brush"},function(v1){v=v1.brushType;e=v1.brushOption.brushMode||"single";k|=v1.areas.length});this._brushType=v;this._brushMode=e;pb(Z.get("type",true),function(v1){Z.setIconStatus(v1,(v1==="keep"?e==="multiple":v1==="clear"?k:v1===v)?"emphasis":"normal")})};cd.getIcons=function(){var e=this.model;var k=e.get("icon",true);var i={};pb(e.get("type",true),function(m){if(k[m]){i[m]=k[m]}});return i};cd.onclick=function(i,m,k){var v=this._brushType;var e=this._brushMode;if(k==="clear"){m.dispatchAction({type:"axisAreaSelect",intervals:[]});m.dispatchAction({type:"brush",command:"clear",areas:[]})}else{m.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:k==="keep"?v:(v===k?false:k),brushMode:k==="keep"?(e==="multiple"?"single":"multiple"):e}})}};aF("brush",te);y6(H6);var r3=86400000;function eb(i,e,k){this._model=i}eb.prototype={constructor:eb,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(k){k=vV(k);var Z=k.getFullYear();var e=k.getMonth()+1;e=e<10?"0"+e:e;var v=k.getDate();v=v<10?"0"+v:v;var i=k.getDay();i=Math.abs((i+7-this.getFirstDayOfWeek())%7);return{y:Z,m:e,d:v,day:i,time:k.getTime(),formatedDate:Z+"-"+e+"-"+v,date:k}},getNextNDay:function(e,i){i=i||0;if(i===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+i);return this.getDateInfo(e)},update:function(v1,v2){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var e=this._rangeInfo.weeks||1;var Iq=["width","height"];var i=this._model.get("cellSize").slice();var m=this._model.getBoxLayoutParams();var Z=this._orient==="horizontal"?[e,7]:[7,e];pb([0,1],function(Ir){if(k(i,Ir)){m[Iq[Ir]]=i[Ir]*Z[Ir]}});var v={width:v2.getWidth(),height:v2.getHeight()};var v3=this._rect=kX(m,v);pb([0,1],function(Ir){if(!k(i,Ir)){i[Ir]=v3[Iq[Ir]]/Z[Ir]}});function k(Is,Ir){return Is[Ir]!=null&&Is[Ir]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(v,v1){GL(v)&&(v=v[0]);v1==null&&(v1=true);var m=this.getDateInfo(v);var e=this._rangeInfo;var i=m.formatedDate;if(v1&&!(m.time>=e.start.time&&m.time<e.end.time+r3)){return[NaN,NaN]}var k=m.day;var Z=this._getRangeInfo([e.start.time,i]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+Z*this._sh+this._sh/2]}return[this._rect.x+Z*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]},pointToData:function(e){var i=this.pointToDate(e);return i&&i.time},dataToRect:function(i,k){var e=this.dataToPoint(i,k);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(e){var m=Math.floor((e[0]-this._rect.x)/this._sw)+1;var k=Math.floor((e[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(k,m-1,i)}return this._getDateByWeeksAndDay(m,k-1,i)},convertToPixel:sy(gM,"dataToPoint"),convertFromPixel:sy(gM,"pointToData"),_initRangeOption:function(){var k=this._model.get("range");var m=k;if(GL(m)&&m.length===1){m=m[0]}if(/^\d{4}$/.test(m)){k=[m+"-01-01",m+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(m)){var Z=this.getDateInfo(m);var i=Z.date;i.setMonth(i.getMonth()+1);var e=this.getNextNDay(i,-1);k=[Z.formatedDate,e.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(m)){k=[m,m]}var v=this._getRangeInfo(k);if(v.start.time>v.end.time){k.reverse()}return k},_getRangeInfo:function(Z){Z=[this.getDateInfo(Z[0]),this.getDateInfo(Z[1])];var m;if(Z[0].time>Z[1].time){m=true;Z.reverse()}var v3=Math.floor(Z[1].time/r3)-Math.floor(Z[0].time/r3)+1;var k=new Date(Z[0].time);var v=k.getDate();var v1=Z[1].date.getDate();k.setDate(v+v3-1);if(k.getDate()!==v1){var i=k.getTime()-Z[1].time>0?1:-1;while(k.getDate()!==v1&&(k.getTime()-Z[1].time)*i>0){v3-=i;k.setDate(v+v3-1)}}var e=Math.floor((v3+Z[0].day+6)/7);var v2=m?-e+1:e-1;m&&Z.reverse();return{range:[Z[0].formatedDate,Z[1].formatedDate],start:Z[0],end:Z[1],allDay:v3,weeks:e,nthWeek:v2,fweek:Z[0].day,lweek:Z[1].day}},_getDateByWeeksAndDay:function(v,k,i){var e=this._getRangeInfo(i);if(v>e.weeks||(v===0&&k<e.fweek)||(v===e.weeks&&k>e.lweek)){return false}var Z=(v-1)*7-e.fweek+k;var m=new Date(e.start.time);m.setDate(e.start.d+Z);return this.getDateInfo(m)}};eb.dimensions=eb.prototype.dimensions;eb.getDimensionsInfo=eb.prototype.getDimensionsInfo;eb.create=function(e,i){var k=[];e.eachComponent("calendar",function(m){var v=new eb(m,e,i);k.push(v);m.coordinateSystem=v});e.eachSeries(function(m){if(m.get("coordinateSystem")==="calendar"){m.coordinateSystem=k[m.get("calendarIndex")||0]}});return k};function gM(k,e,v1,Z){var m=v1.calendarModel;var i=v1.seriesModel;var v=m?m.coordinateSystem:i?i.coordinateSystem:null;return v===this?v[k](Z):null}fB.register("calendar",eb);var n9=aH.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(k,i,e,m){var v=g4(k);n9.superApply(this,"init",arguments);fQ(k,v)},mergeOption:function(e,i){n9.superApply(this,"mergeOption",arguments);fQ(this.option,e)}});function fQ(k,i){var m=k.cellSize;if(!GL(m)){m=k.cellSize=[m,m]}else{if(m.length===1){m[1]=m[0]}}var e=Ej([0,1],function(v){if(mY(i,v)){m[v]="auto"}return m[v]!=null&&m[v]!=="auto"});hg(k,i,{type:"box",ignoreSize:e})}var px={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var AD={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};qB({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(m,e,Z){var v1=this.group;v1.removeAll();var v=m.coordinateSystem;var i=v.getRangeInfo();var k=v.getOrient();this._renderDayRect(m,i,v1);this._renderLines(m,i,k,v1);this._renderYearText(m,i,k,v1);this._renderMonthText(m,k,v1);this._renderWeekText(m,i,k,v1)},_renderDayRect:function(k,e,Iq){var m=k.coordinateSystem;var Ir=k.getModel("itemStyle").getItemStyle();var v3=m.getCellWidth();var Z=m.getCellHeight();for(var v=e.start.time;v<=e.end.time;v=m.getNextNDay(v,1).time){var v2=m.dataToRect([v],false).tl;var v1=new EL({shape:{x:v2[0],y:v2[1],width:v3,height:Z},cursor:"default",style:Ir});Iq.add(v1)}},_renderLines:function(Z,k,v2,It){var Iu=this;var v1=Z.coordinateSystem;var Ir=Z.getModel("splitLine.lineStyle").getLineStyle();var Is=Z.get("splitLine.show");var Iq=Ir.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var e=k.start;for(var v3=0;e.time<=k.end.time;v3++){m(e.formatedDate);if(v3===0){e=v1.getDateInfo(k.start.y+"-"+k.start.m)}var v=e.date;v.setMonth(v.getMonth()+1);e=v1.getDateInfo(v)}m(v1.getNextNDay(k.end.time,1).formatedDate);function m(i){Iu._firstDayOfMonth.push(v1.getDateInfo(i));Iu._firstDayPoints.push(v1.dataToRect([i],false).tl);var Iv=Iu._getLinePointsOfOneWeek(Z,i,v2);Iu._tlpoints.push(Iv[0]);Iu._blpoints.push(Iv[Iv.length-1]);Is&&Iu._drawSplitline(Iv,Ir,It)}Is&&this._drawSplitline(Iu._getEdgesPoints(Iu._tlpoints,Iq,v2),Ir,It);Is&&this._drawSplitline(Iu._getEdgesPoints(Iu._blpoints,Iq,v2),Ir,It)},_getEdgesPoints:function(v,i,m){var k=[v[0].slice(),v[v.length-1].slice()];var e=m==="horizontal"?0:1;k[0][e]=k[0][e]-i/2;k[1][e]=k[1][e]+i/2;return k},_drawSplitline:function(e,k,i){var m=new Ac({z2:20,shape:{points:e},style:k});i.add(m)},_getLinePointsOfOneWeek:function(v,m,k){var v1=v.coordinateSystem;m=v1.getDateInfo(m);var v2=[];for(var Z=0;Z<7;Z++){var v3=v1.getNextNDay(m.time,Z);var e=v1.dataToRect([v3.time],false);v2[2*v3.day]=e.tl;v2[2*v3.day+1]=e[k==="horizontal"?"bl":"tr"]}return v2},_formatterLabel:function(e,i){if(typeof e==="string"&&e){return FC(e,i)}if(typeof e==="function"){return e(i)}return i.nameMap},_yearTextPositionControl:function(v,i,m,e,v1){i=i.slice();var Z=["center","bottom"];if(e==="bottom"){i[1]+=v1;Z=["center","top"]}else{if(e==="left"){i[0]-=v1}else{if(e==="right"){i[0]+=v1;Z=["center","top"]}else{i[1]-=v1}}}var k=0;if(e==="left"||e==="right"){k=Math.PI/2}return{rotation:k,position:i,style:{textAlign:Z[0],textVerticalAlign:Z[1]}}},_renderYearText:function(v,i,v2,Iu){var m=v.getModel("yearLabel");if(!m.get("show")){return}var v1=m.get("margin");var Ir=m.get("position");if(!Ir){Ir=v2!=="horizontal"?"top":"left"}var Iv=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var Ix=(Iv[0][0]+Iv[1][0])/2;var Iq=(Iv[0][1]+Iv[1][1])/2;var It=v2==="horizontal"?0:1;var Iw={top:[Ix,Iv[It][1]],bottom:[Ix,Iv[1-It][1]],left:[Iv[1-It][0],Iq],right:[Iv[It][0],Iq]};var e=i.start.y;if(+i.end.y>+i.start.y){e=e+"-"+i.end.y}var Is=m.get("formatter");var Z={start:i.start.y,end:i.end.y,nameMap:e};var v3=this._formatterLabel(Is,Z);var k=new iT({z2:30});pg(k.style,m,{text:v3}),k.attr(this._yearTextPositionControl(k,Iw[Ir],v2,Ir,v1));Iu.add(k)},_monthTextPositionControl:function(v3,Z,i,k,e){var v="left";var m="top";var v2=v3[0];var v1=v3[1];if(i==="horizontal"){v1=v1+e;if(Z){v="center"}if(k==="start"){m="bottom"}}else{v2=v2+e;if(Z){m="middle"}if(k==="start"){v="right"}}return{x:v2,y:v1,textAlign:v,textVerticalAlign:m}},_renderMonthText:function(v2,v3,Z){var m=v2.getModel("monthLabel");if(!m.get("show")){return}var Ix=m.get("nameMap");var Is=m.get("margin");var v=m.get("position");var Iu=m.get("align");var e=[this._tlpoints,this._blpoints];if(we(Ix)){Ix=px[Ix.toUpperCase()]||[]}var Ir=v==="start"?0:1;var k=v3==="horizontal"?0:1;Is=v==="start"?-Is:Is;var v1=(Iu==="center");for(var Iw=0;Iw<e[Ir].length-1;Iw++){var IA=e[Ir][Iw].slice();var Iq=this._firstDayOfMonth[Iw];if(v1){var Iy=this._firstDayPoints[Iw];IA[k]=(Iy[k]+e[0][Iw+1][k])/2}var Iv=m.get("formatter");var IC=Ix[+Iq.m-1];var Iz={yyyy:Iq.y,yy:(Iq.y+"").slice(2),MM:Iq.m,M:+Iq.m,nameMap:IC};var It=this._formatterLabel(Iv,Iz);var IB=new iT({z2:30});b0(pg(IB.style,m,{text:It}),this._monthTextPositionControl(IA,v1,v3,v,Is));Z.add(IB)}},_weekTextPositionControl:function(Iq,m,v,k,i){var v1="center";var Z="middle";var v3=Iq[0];var v2=Iq[1];var e=v==="start";if(m==="horizontal"){v3=v3+k+(e?1:-1)*i[0]/2;v1=e?"right":"left"}else{v2=v2+k+(e?1:-1)*i[1]/2;Z=e?"bottom":"top"}return{x:v3,y:v2,textAlign:v1,textVerticalAlign:Z}},_renderWeekText:function(v2,v,Ir,Iy){var Z=v2.getModel("dayLabel");if(!Z.get("show")){return}var Iq=v2.coordinateSystem;var Iw=Z.get("position");var Iu=Z.get("nameMap");var v3=Z.get("margin");var e=Iq.getFirstDayOfWeek();if(we(Iu)){Iu=AD[Iu.toUpperCase()]||[]}var m=Iq.getNextNDay(v.end.time,(7-v.lweek)).time;var k=[Iq.getCellWidth(),Iq.getCellHeight()];v3=zS(v3,k[Ir==="horizontal"?0:1]);if(Iw==="start"){m=Iq.getNextNDay(v.start.time,-(7+v.fweek)).time;v3=-v3}for(var Is=0;Is<7;Is++){var It=Iq.getNextNDay(m,Is);var Ix=Iq.dataToRect([It.time],false).center;var Iv=Is;Iv=Math.abs((Is+e)%7);var v1=new iT({z2:30});b0(pg(v1.style,Z,{text:Iu[Iv]}),this._weekTextPositionControl(Ix,Ir,Iw,v3,k));Iy.add(v1)}}});p5({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});qB({type:"title",render:function(v1,IC,Iu){this.group.removeAll();if(!v1.get("show")){return}var Ir=this.group;var Iq=v1.getModel("textStyle");var IB=v1.getModel("subtextStyle");var v2=v1.get("textAlign");var Iz=v1.get("textBaseline");var Iy=new iT({style:pg({},Iq,{text:v1.get("text"),textFill:Iq.getTextColor()},{disableBox:true}),z2:10});var e=Iy.getBoundingRect();var Z=v1.get("subtext");var v=new iT({style:pg({},IB,{text:Z,textFill:IB.getTextColor(),y:e.height+v1.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var v3=v1.get("link");var Iw=v1.get("sublink");var m=v1.get("triggerEvent",true);Iy.silent=!v3&&!m;v.silent=!Iw&&!m;if(v3){Iy.on("click",function(){window.open(v3,"_"+v1.get("target"))})}if(Iw){v.on("click",function(){window.open(Iw,"_"+v1.get("subtarget"))})}Iy.eventData=v.eventData=m?{componentType:"title",componentIndex:v1.componentIndex}:null;Ir.add(Iy);Z&&Ir.add(v);var Iv=Ir.getBoundingRect();var k=v1.getBoxLayoutParams();k.width=Iv.width;k.height=Iv.height;var IA=kX(k,{width:Iu.getWidth(),height:Iu.getHeight()},v1.get("padding"));if(!v2){v2=v1.get("left")||v1.get("right");if(v2==="middle"){v2="center"}if(v2==="right"){IA.x+=IA.width}else{if(v2==="center"){IA.x+=IA.width/2}}}if(!Iz){Iz=v1.get("top")||v1.get("bottom");if(Iz==="center"){Iz="middle"}if(Iz==="bottom"){IA.y+=IA.height}else{if(Iz==="middle"){IA.y+=IA.height/2}}Iz=Iz||"top"}Ir.attr("position",[IA.x,IA.y]);var Is={textAlign:v2,textVerticalAlign:Iz};Iy.setStyle(Is);v.setStyle(Is);Iv=Ir.getBoundingRect();var It=IA.margin;var Ix=v1.getItemStyle(["color","opacity"]);Ix.fill=v1.get("backgroundColor");var i=new EL({shape:{x:Iv.x-It[3],y:Iv.y-It[0],width:Iv.width+It[1]+It[3],height:Iv.height+It[0]+It[2],r:v1.get("borderRadius")},style:Ix,silent:true});iC(i);Ir.add(i)}});aH.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var N=["x","y","z","radius","angle","single"];var u=["cartesian2d","polar","singleAxis"];function CK(e){return eR(u,e)>=0}function cG(m,i){m=m.slice();var k=Ej(m,tj);i=(i||[]).slice();var e=Ej(i,tj);return function(Z,v){pb(m,function(v3,v2){var Iq={name:v3,capital:k[v2]};for(var v1=0;v1<i.length;v1++){Iq[i[v1]]=v3+e[v1]}Z.call(v,Iq)})}}var iQ=cG(N,["axisIndex","axis","index","id"]);function pZ(m,e,i){return function(v3){var v1={nodes:[],records:{}};e(function(Ir){v1.records[Ir.name]={}});if(!v3){return v1}v(v3,v1);var Iq;do{Iq=false;m(v2)}while(Iq);function v2(Ir){if(!Z(Ir,v1)&&k(Ir,v1)){v(Ir,v1);Iq=true}}return v1};function Z(v2,v1){return eR(v1.nodes,v2)>=0}function k(v3,v1){var v2=false;e(function(Iq){pb(i(v3,Iq)||[],function(Ir){v1.records[Iq.name][Ir]&&(v2=true)})});return v2}function v(v2,v1){v1.nodes.push(v2);e(function(v3){pb(i(v2,v3)||[],function(Iq){v1.records[v3.name][Iq]=true})})}}var tx=pb;var E3=o9;var gc=function(k,i,m,e){this._dimName=k;this._axisIndex=i;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=e;this._dataZoomModel=m};gc.prototype={constructor:gc,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[];var e=this.ecModel;e.eachSeries(function(k){if(CK(k.get("coordinateSystem"))){var v=this._dimName;var m=e.queryComponents({mainType:v+"Axis",index:k.get(v+"AxisIndex"),id:k.get(v+"AxisId")})[0];if(this._axisIndex===(m&&m.componentIndex)){i.push(k)}}},this);return i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var k=this._dimName;var e=this.ecModel;var i=this.getAxisModel();var v1=k==="x"||k==="y";var v;var m;if(v1){m="gridIndex";v=k==="x"?"y":"x"}else{m="polarIndex";v=k==="angle"?"radius":"angle"}var Z;e.eachComponent(v+"Axis",function(v2){if((v2.get(m)||0)===(i.get(m)||0)){Z=v2}});return Z},getMinMaxSpan:function(){return C9(this._minMaxSpan)},calculateDataWindow:function(v){var v1=this._dataExtent;var m=this.getAxisModel();var v2=m.axis.scale;var e=this._dataZoomModel.getRangePropMode();var i=[0,100];var k=[v.start,v.end];var Z=[];tx(["startValue","endValue"],function(v3){Z.push(v[v3]!=null?v2.parse(v[v3]):null)});tx([0,1],function(v3){var Ir=Z[v3];var Iq=k[v3];if(e[v3]==="percent"){if(Iq==null){Iq=i[v3]}Ir=v2.parse(EU(Iq,i,v1,true))}else{Iq=EU(Ir,v1,i,true)}Z[v3]=Ir;k[v3]=Iq});return{valueWindow:E3(Z),percentWindow:E3(k)}},reset:function(k){if(k!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=tO(this,this._dimName,e);var i=this.calculateDataWindow(k.option);this._valueWindow=i.valueWindow;this._percentWindow=i.percentWindow;wh(this);D1(this)},restore:function(e){if(e!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;D1(this,true)},filterData:function(v1,k){if(v1!==this._dataZoomModel){return}var i=this._dimName;var e=this.getTargetSeriesModels();var Z=v1.get("filterMode");var m=this._valueWindow;if(Z==="none"){return}tx(e,function(v2){var v3=v2.getData();var Iq=v3.mapDimension(i,true);if(!Iq.length){return}if(Z==="weakFilter"){v3.filterSelf(function(Iv){var Iz;var Is;var Iy;for(var It=0;It<Iq.length;It++){var Iw=v3.get(Iq[It],Iv);var Ix=!isNaN(Iw);var Iu=Iw<m[0];var Ir=Iw>m[1];if(Ix&&!Iu&&!Ir){return true}Ix&&(Iy=true);Iu&&(Iz=true);Ir&&(Is=true)}return Iy&&Iz&&Is})}else{tx(Iq,function(Is){if(Z==="empty"){v2.setData(v3.map(Is,function(It){return !v(It)?NaN:It}))}else{var Ir={};Ir[Is]=m;v3.selectRange(Ir)}})}tx(Iq,function(Ir){v3.setApproximateExtent(m,Ir)})});function v(v2){return v2>=m[0]&&v2<=m[1]}}};function tO(k,i,e){var m=[Infinity,-Infinity];tx(e,function(v){var Z=v.getData();if(Z){tx(Z.mapDimension(i,true),function(v2){var v1=Z.getApproximateExtent(v2);v1[0]<m[0]&&(m[0]=v1[0]);v1[1]>m[1]&&(m[1]=v1[1])})}});if(m[1]<m[0]){m=[NaN,NaN]}po(k,m);return m}function po(v,v1){var m=v.getAxisModel();var k=m.getMin(true);var Z=m.get("type")==="category";var i=Z&&m.getCategories().length;if(k!=null&&k!=="dataMin"&&typeof k!=="function"){v1[0]=k}else{if(Z){v1[0]=i>0?0:NaN}}var e=m.getMax(true);if(e!=null&&e!=="dataMax"&&typeof e!=="function"){v1[1]=e}else{if(Z){v1[1]=i>0?i-1:NaN}}if(!m.get("scale",true)){v1[0]>0&&(v1[0]=0);v1[1]<0&&(v1[1]=0)}return v1}function D1(m,v1){var k=m.getAxisModel();var i=m._percentWindow;var v=m._valueWindow;if(!i){return}var e=ye(v,[0,500]);e=Math.min(e,20);var Z=v1||(i[0]===0&&i[1]===100);k.setRange(Z?null:+v[0].toFixed(e),Z?null:+v[1].toFixed(e))}function wh(e){var i=e._minMaxSpan={};var k=e._dataZoomModel;tx(["min","max"],function(m){i[m+"Span"]=k.get(m+"Span");var Z=k.get(m+"ValueSpan");if(Z!=null){i[m+"ValueSpan"]=Z;Z=e.getAxisModel().axis.scale.parse(Z);if(Z!=null){var v=e._dataExtent;i[m+"Span"]=EU(v[0]+Z,v,[0,100],true)}}})}var ty=pb;var qP=iQ;var yF=p5({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(k,i,e){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var m=FF(k);this.mergeDefaultAndTheme(k,e);this.doInit(m)},mergeOption:function(i){var e=FF(i);v7(this.option,i,true);this.doInit(e)},doInit:function(i){var e=this.option;if(!sZ.canvasSupported){e.realtime=false}this._setDefaultThrottle(i);aT(this,i);ty([["start","startValue"],["end","endValue"]],function(m,k){if(this._rangePropMode[k]==="value"){e[m[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(k,v,v1,i){var m=this.dependentModels[k.axis][v];var Z=m.__dzAxisProxy||(m.__dzAxisProxy=new gc(k.name,v,this,i));e[k.name+"_"+v]=Z},this)},_resetTarget:function(){var e=this.option;var i=this._judgeAutoMode();qP(function(k){var m=k.axisIndex;e[m]=mr(e[m])},this);if(i==="axisIndex"){this._autoSetAxisIndex()}else{if(i==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var k=false;qP(function(m){if(i[m.axisIndex]!=null){k=true}},this);var e=i.orient;if(e==null&&k){return"orient"}else{if(!k){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var v=true;var e=this.get("orient",true);var i=this.option;var k=this.dependentModels;if(v){var m=e==="vertical"?"y":"x";if(k[m+"Axis"].length){i[m+"AxisIndex"]=[0];v=false}else{ty(k.singleAxis,function(Z){if(v&&Z.get("orient",true)===e){i.singleAxisIndex=[Z.componentIndex];v=false}})}}if(v){qP(function(v1){if(!v){return}var Iq=[];var v3=this.dependentModels[v1.axis];if(v3.length&&!Iq.length){for(var v2=0,Z=v3.length;v2<Z;v2++){if(v3[v2].get("type")==="category"){Iq.push(v2)}}}i[v1.axisIndex]=Iq;if(Iq.length){v=false}},this)}if(v){this.ecModel.eachSeries(function(Z){if(this._isSeriesHasAllAxesTypeOf(Z,"value")){qP(function(v1){var Ir=i[v1.axisIndex];var v3=Z.get(v1.axisIndex);var Iq=Z.get(v1.axisId);var v2=Z.ecModel.queryComponents({mainType:v1.axis,index:v3,id:Iq})[0];if(om){if(!v2){throw new Error(v1.axis+' "'+gw(v3,Iq,0)+'" not found')}}v3=v2.componentIndex;if(eR(Ir,v3)<0){Ir.push(v3)}})}},this)}},_autoSetOrient:function(){var e;this.eachTargetAxis(function(i){!e&&(e=i.name)},this);this.option.orient=e==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(i,e){var k=true;qP(function(m){var Z=i.get(m.axisIndex);var v=this.dependentModels[m.axis][Z];if(!v||v.get("type")!==e){k=false}},this);return k},_setDefaultThrottle:function(i){if(i.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var e;qP(function(i){if(e==null){var k=this.get(i.axisIndex);if(k.length){e=this.dependentModels[i.axis][k[0]]}}},this);return e},eachTargetAxis:function(k,i){var e=this.ecModel;qP(function(m){ty(this.get(m.axisIndex),function(v){k.call(i,m,v,this,e)},this)},this)},getAxisProxy:function(i,e){return this._axisProxies[i+"_"+e]},getAxisModel:function(k,e){var i=this.getAxisProxy(k,e);return i&&i.getAxisModel()},setRawRange:function(e,k){var i=this.option;ty([["start","startValue"],["end","endValue"]],function(m){if(e[m[0]]!=null||e[m[1]]!=null){i[m[0]]=e[m[0]];i[m[1]]=e[m[1]]}},this);!k&&aT(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}},getValueRange:function(i,e){if(i==null&&e==null){var k=this.findRepresentativeAxisProxy();if(k){return k.getDataValueWindow()}}else{return this.getAxisProxy(i,e).getDataValueWindow()}},findRepresentativeAxisProxy:function(i){if(i){return i.__dzAxisProxy}var k=this._axisProxies;for(var e in k){if(k.hasOwnProperty(e)&&k[e].hostedBy(this)){return k[e]}}for(var e in k){if(k.hasOwnProperty(e)&&!k[e].hostedBy(this)){return k[e]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function FF(i){var e={};ty(["start","end","startValue","endValue","throttle"],function(k){i.hasOwnProperty(k)&&(e[k]=i[k])});return e}function aT(m,k){var i=m._rangePropMode;var e=m.get("rangeMode");ty([["start","startValue"],["end","endValue"]],function(v1,Z){var v2=k[v1[0]]!=null;var v=k[v1[1]]!=null;if(v2&&!v){i[Z]="percent"}else{if(!v2&&v){i[Z]="value"}else{if(e){i[Z]=e[Z]}else{if(v2){i[Z]="percent"}}}}})}var Ea=sW.extend({type:"dataZoom",render:function(m,e,i,k){this.dataZoomModel=m;this.ecModel=e;this.api=i},getTargetCoordInfo:function(){var m=this.dataZoomModel;var e=this.ecModel;var i={};m.eachTargetAxis(function(v,v1){var Z=e.getComponent(v.axis,v1);if(Z){var v2=Z.getCoordSysModel();v2&&k(v2,Z,i[v2.mainType]||(i[v2.mainType]=[]),v2.componentIndex)}},this);function k(Iq,v1,v,v3){var v2;for(var Z=0;Z<v.length;Z++){if(v[Z].model===Iq){v2=v[Z];break}}if(!v2){v.push(v2={model:Iq,axisModels:[],coordIndex:v3})}v2.axisModels.push(v1)}return i}});var DG=yF.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var A1=EL;var l2=EU;var E1=o9;var pz=ko;var tv=pb;var xi=7;var bC=1;var ok=30;var p9="horizontal";var c3="vertical";var jK=5;var m7=["line","bar","candlestick","scatter"];var eJ=Ea.extend({type:"dataZoom.slider",init:function(e,i){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=i},render:function(m,e,i,k){eJ.superApply(this,"render",arguments);mM(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=m.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!k||k.type!=="dataZoom"||k.from!==this.uid){this._buildView()}this._updateView()},remove:function(){eJ.superApply(this,"remove",arguments);cH(this,"_dispatchZoomAction")},dispose:function(){eJ.superApply(this,"dispose",arguments);cH(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var i=this._displayables.barGroup=new Cc();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(i);this._positionGroup()},_resetLocation:function(){var v1=this.dataZoomModel;var v=this.api;var m=this._findCoordRect();var e={width:v.getWidth(),height:v.getHeight()};var i=this._orient===p9?{right:e.width-m.x-m.width,top:(e.height-ok-xi),width:m.width,height:ok}:{right:xi,top:m.y,width:ok,height:m.height};var k=g4(v1.option);pb(["right","top","width","height"],function(v2){if(k[v2]==="ph"){k[v2]=i[v2]}});var Z=kX(k,e,v1.padding);this._location={x:Z.x,y:Z.y};this._size=[Z.width,Z.height];this._orient===c3&&this._size.reverse()},_positionGroup:function(){var m=this.group;var i=this._location;var v=this._orient;var v2=this.dataZoomModel.getFirstTargetAxisModel();var e=v2&&v2.get("inverse");var v1=this._displayables.barGroup;var k=(this._dataShadowInfo||{}).otherAxisInverse;v1.attr((v===p9&&!e)?{scale:k?[1,1]:[1,-1]}:(v===p9&&e)?{scale:k?[-1,1]:[-1,-1]}:(v===c3&&!e)?{scale:k?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:k?[-1,-1]:[-1,1],rotation:Math.PI/2});var Z=m.getBoundingRect([v1]);m.attr("position",[i.x-Z.x,i.y-Z.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var k=this.dataZoomModel;var e=this._size;var i=this._displayables.barGroup;i.add(new A1({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:k.get("backgroundColor")},z2:-40}));i.add(new A1({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:ko(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var m=this._dataShadowInfo=this._prepareDataShadowInfo();if(!m){return}var Iw=this._size;var v=m.series;var v1=v.getRawData();var It=v.getShadowDim?v.getShadowDim():m.otherDim;if(It==null){return}var v3=v1.getDataExtent(It);var Iv=(v3[1]-v3[0])*0.3;v3=[v3[0]-Iv,v3[1]+Iv];var Iu=[0,Iw[1]];var Is=[0,Iw[0]];var Iq=[[Iw[0],0],[0,0]];var Ir=[];var k=Is[1]/(v1.count()-1);var e=0;var i=Math.round(v1.count()/Iw[0]);var v2;v1.each([It],function(Iz,Ix){if(i>0&&(Ix%i)){e+=k;return}var IA=Iz==null||isNaN(Iz)||Iz==="";var Iy=IA?0:l2(Iz,v3,Iu,true);if(IA&&!v2&&Ix){Iq.push([Iq[Iq.length-1][0],0]);Ir.push([Ir[Ir.length-1][0],0])}else{if(!IA&&v2){Iq.push([e,0]);Ir.push([e,0])}}Iq.push([e,Iy]);Ir.push([e,Iy]);e+=k;v2=IA});var Z=this.dataZoomModel;this._displayables.barGroup.add(new ic({shape:{points:Iq},style:Di({fill:Z.get("dataBackgroundColor")},Z.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new Ac({shape:{points:Ir},style:Z.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var m=this.dataZoomModel;var k=m.get("showDataShadow");if(k===false){return}var i;var e=this.ecModel;m.eachTargetAxis(function(v,Z){var v1=m.getAxisProxy(v.name,Z).getTargetSeriesModels();pb(v1,function(Iq){if(i){return}if(k!==true&&eR(m7,Iq.get("type"))<0){return}var Ir=e.getComponent(v.axis,Z).axis;var v2=qn(v.name);var v3;var Is=Iq.coordinateSystem;if(v2!=null&&Is.getOtherAxis){v3=Is.getOtherAxis(Ir).inverse}v2=Iq.getData().mapDimension(v2);i={thisAxis:Ir,series:Iq,thisDim:v.name,otherDim:v2,otherAxisInverse:v3}},this)},this);return i},_renderHandle:function(){var Z=this._displayables;var k=Z.handles=[];var e=Z.handleLabels=[];var m=this._displayables.barGroup;var i=this._size;var v=this.dataZoomModel;m.add(Z.filler=new A1({draggable:true,cursor:l4(this._orient),drift:pz(this._onDragMove,this,"all"),onmousemove:function(v1){GV(v1.event)},ondragstart:pz(this._showDataInfo,this,true),ondragend:pz(this._onDragEnd,this),onmouseover:pz(this._showDataInfo,this,true),onmouseout:pz(this._showDataInfo,this,false),style:{fill:v.get("fillerColor"),textPosition:"inside"}}));m.add(new A1(iC({silent:true,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:v.get("dataBackgroundColor")||v.get("borderColor"),lineWidth:bC,fill:"rgba(0,0,0,0)"}})));tv([0,1],function(Ir){var v3=Gf(v.get("handleIcon"),{cursor:l4(this._orient),draggable:true,drift:pz(this._onDragMove,this,Ir),onmousemove:function(Is){GV(Is.event)},ondragend:pz(this._onDragEnd,this),onmouseover:pz(this._showDataInfo,this,true),onmouseout:pz(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var v2=v3.getBoundingRect();this._handleHeight=zS(v.get("handleSize"),this._size[1]);this._handleWidth=v2.width/v2.height*this._handleHeight;v3.setStyle(v.getModel("handleStyle").getItemStyle());var Iq=v.get("handleColor");if(Iq!=null){v3.style.fill=Iq}m.add(k[Ir]=v3);var v1=v.textStyleModel;this.group.add(e[Ir]=new iT({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:v1.getTextColor(),textFont:v1.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange();var i=this._getViewExtent();this._handleEnds=[l2(e[0],[0,100],i,true),l2(e[1],[0,100],i,true)]},_updateInterval:function(e,v2){var i=this.dataZoomModel;var v=this._handleEnds;var v3=this._getViewExtent();var v1=i.findRepresentativeAxisProxy().getMinMaxSpan();var Z=[0,100];nx(v2,v,v3,i.get("zoomLock")?"all":e,v1.minSpan!=null?l2(v1.minSpan,Z,v3,true):null,v1.maxSpan!=null?l2(v1.maxSpan,Z,v3,true):null);var k=this._range;var m=this._range=E1([l2(v[0],v3,Z,true),l2(v[1],v3,Z,true)]);return !k||k[0]!==m[0]||k[1]!==m[1]},_updateView:function(k){var v=this._displayables;var m=this._handleEnds;var e=E1(m.slice());var i=this._size;tv([0,1],function(v2){var v1=v.handles[v2];var Z=this._handleHeight;v1.attr({scale:[Z/2,Z/2],position:[m[v2],i[1]/2-Z/2]})},this);v.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:i[1]});this._updateDataInfo(k)},_updateDataInfo:function(Is){var v1=this.dataZoomModel;var i=this._displayables;var v=i.handleLabels;var Z=this._orient;var Iq=["",""];if(v1.get("showDetail")){var e=v1.findRepresentativeAxisProxy();if(e){var m=e.getAxisModel().axis;var v2=this._range;var v3=Is?e.calculateDataWindow({start:v2[0],end:v2[1]}).valueWindow:e.getDataValueWindow();Iq=[this._formatLabel(v3[0],m),this._formatLabel(v3[1],m)]}}var Ir=E1(this._handleEnds.slice());k.call(this,0);k.call(this,1);function k(Ix){var Iv=aI(i.handles[Ix].parent,this.group);var Iu=n2(Ix===0?"right":"left",Iv);var Iw=this._handleWidth/2+jK;var It=wa([Ir[Ix]+(Ix===0?-Iw:Iw),this._size[1]/2],Iv);v[Ix].setStyle({x:It[0],y:It[1],textVerticalAlign:Z===p9?"middle":Iu,textAlign:Z===p9?Iu:"center",text:Iq[Ix]})}},_formatLabel:function(v,m){var Z=this.dataZoomModel;var k=Z.get("labelFormatter");var i=Z.get("labelPrecision");if(i==null||i==="auto"){i=m.getPixelPrecision()}var e=(v==null||isNaN(v))?"":(m.type==="category"||m.type==="time")?m.scale.getLabel(Math.round(v)):v.toFixed(Math.min(i,20));return E9(k)?k(v,e):we(k)?k.replace("{value}",e):e},_showDataInfo:function(e){e=this._dragging||e;var i=this._displayables.handleLabels;i[0].attr("invisible",!e);i[1].attr("invisible",!e)},_onDragMove:function(v1,k,i){this._dragging=true;var v=this._displayables.barGroup.getLocalTransform();var m=wa([k,i],v,true);var Z=this._updateInterval(v1,m[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e);Z&&e&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction()},_onClickPanelClick:function(v){var k=this._size;var m=this._displayables.barGroup.transformCoordToLocal(v.offsetX,v.offsetY);if(m[0]<0||m[0]>k[0]||m[1]<0||m[1]>k[1]){return}var v1=this._handleEnds;var i=(v1[0]+v1[1])/2;var Z=this._updateInterval("all",m[0]-i);this._updateView();Z&&this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var k;tv(this.getTargetCoordInfo(),function(v){if(!k&&v.length){var m=v[0].model.coordinateSystem;k=m.getRect&&m.getRect()}});if(!k){var i=this.api.getWidth();var e=this.api.getHeight();k={x:i*0.2,y:e*0.2,width:i*0.6,height:e*0.6}}return k}});function qn(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function l4(e){return e==="vertical"?"ns-resize":"ew-resize"}yF.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true}});var br="\0_ec_dataZoom_roams";function aD(v,v1){var k=oL(v);var i=v1.dataZoomId;var m=v1.coordId;pb(k,function(v2,Iq){var v3=v2.dataZoomInfos;if(v3[i]&&eR(v1.allCoordIds,m)<0){delete v3[i];v2.count--}});K(k);var e=k[m];if(!e){e=k[m]={coordId:m,dataZoomInfos:{},count:0};e.controller=nP(v,e);e.dispatchAction=sy(dC,v)}!(e.dataZoomInfos[i])&&e.count++;e.dataZoomInfos[i]=v1;var Z=Ia(e.dataZoomInfos);e.controller.enable(Z.controlType,Z.opt);e.controller.setPointerChecker(v1.containsPoint);mM(e,"dispatchAction",v1.dataZoomModel.get("throttle",true),"fixRate")}function fm(k,e){var i=oL(k);pb(i,function(m){m.controller.dispose();var v=m.dataZoomInfos;if(v[e]){delete v[e];m.count--}});K(i)}function j5(e){return e.type+"\0_"+e.id}function oL(e){var i=e.getZr();return i[br]||(i[br]={})}function nP(k,i){var e=new ad(k.getZr());pb(["pan","zoom","scrollMove"],function(m){e.on(m,function(Z){var v=[];pb(i.dataZoomInfos,function(v2){if(!Z.isAvailableBehavior(v2.dataZoomModel.option)){return}var v3=(v2.getRange||{})[m];var v1=v3&&v3(i.controller,Z);!v2.dataZoomModel.get("disabled",true)&&v1&&v.push({dataZoomId:v2.dataZoomId,start:v1[0],end:v1[1]})});v.length&&i.dispatchAction(v)})});return e}function K(e){pb(e,function(i,k){if(!i.count){i.controller.dispose();delete e[k]}})}function dC(i,e){i.dispatchAction({type:"dataZoom",batch:e})}function Ia(i){var v;var k="type_";var e={type_true:2,type_move:1,type_false:0,type_undefined:-1};var m=true;pb(i,function(v2){var v1=v2.dataZoomModel;var Z=v1.get("disabled",true)?false:v1.get("zoomLock",true)?"move":true;if(e[k+Z]>e[k+v]){v=Z}m&=v1.get("preventDefaultMouseMove",true)});return{controlType:v,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!m}}}var pw=ko;var q2=Ea.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(m,e,i,k){q2.superApply(this,"render",arguments);this._range=m.getPercentRange();pb(this.getTargetCoordInfo(),function(v,Z){var v1=Ej(v,function(v2){return j5(v2.model)});pb(v,function(v2){var Iq=v2.model;var v3={};pb(["pan","zoom","scrollMove"],function(Ir){v3[Ir]=pw(cv[Ir],this,v2,Z)},this);aD(i,{coordId:j5(Iq),allCoordIds:v1,containsPoint:function(Is,Ir,It){return Iq.coordinateSystem.containPoint([Ir,It])},dataZoomId:m.id,dataZoomModel:m,getRange:v3})},this)},this)},dispose:function(){fm(this.api,this.dataZoomModel.id);q2.superApply(this,"dispose",arguments);this._range=null}});var cv={zoom:function(i,m,v2,v3){var Z=this._range;var v1=Z.slice();var Is=i.axisModels[0];if(!Is){return}var Ir=vG[m](null,[v3.originX,v3.originY],Is,v2,i);var k=(Ir.signal>0?(Ir.pixelStart+Ir.pixelLength-Ir.pixel):(Ir.pixel-Ir.pixelStart))/Ir.pixelLength*(v1[1]-v1[0])+v1[0];var v=Math.max(1/v3.scale,0);v1[0]=(v1[0]-k)*v+k;v1[1]=(v1[1]-k)*v+k;var Iq=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();nx(0,v1,[0,100],0,Iq.minSpan,Iq.maxSpan);this._range=v1;if(Z[0]!==v1[0]||Z[1]!==v1[1]){return v1}},pan:cA(function(k,m,v,v1,i,Z){var v2=vG[v1]([Z.oldX,Z.oldY],[Z.newX,Z.newY],m,i,v);return v2.signal*(k[1]-k[0])*v2.pixel/v2.pixelLength}),scrollMove:cA(function(k,m,v,v1,i,Z){var v2=vG[v1]([0,0],[Z.scrollDelta,Z.scrollDelta],m,i,v);return v2.signal*(k[1]-k[0])*Z.scrollDelta})};function cA(e){return function(v,v2,i,v1){var v3=this._range;var k=v3.slice();var m=v.axisModels[0];if(!m){return}var Z=e(k,m,v,v2,i,v1);nx(Z,k,[0,100],"all");this._range=k;if(v3[0]!==k[0]||v3[1]!==k[1]){return k}}}var vG={grid:function(v2,i,m,e,Z){var v=m.axis;var k={};var v1=Z.model.coordinateSystem.getRect();v2=v2||[0,0];if(v.dim==="x"){k.pixel=i[0]-v2[0];k.pixelLength=v1.width;k.pixelStart=v1.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v2[1];k.pixelLength=v1.height;k.pixelStart=v1.y;k.signal=v.inverse?-1:1}return k},polar:function(e,m,Iq,v1,i){var v=Iq.axis;var v2={};var k=i.model.coordinateSystem;var Z=k.getRadiusAxis().getExtent();var v3=k.getAngleAxis().getExtent();e=e?k.pointToCoord(e):[0,0];m=k.pointToCoord(m);if(Iq.mainType==="radiusAxis"){v2.pixel=m[0]-e[0];v2.pixelLength=Z[1]-Z[0];v2.pixelStart=Z[0];v2.signal=v.inverse?1:-1}else{v2.pixel=m[1]-e[1];v2.pixelLength=v3[1]-v3[0];v2.pixelStart=v3[0];v2.signal=v.inverse?-1:1}return v2},singleAxis:function(v2,i,m,e,Z){var v=m.axis;var v1=Z.model.coordinateSystem.getRect();var k={};v2=v2||[0,0];if(v.orient==="horizontal"){k.pixel=i[0]-v2[0];k.pixelLength=v1.width;k.pixelStart=v1.x;k.signal=v.inverse?1:-1}else{k.pixel=i[1]-v2[1];k.pixelLength=v1.height;k.pixelStart=v1.y;k.signal=v.inverse?-1:1}return k}};ec({getTargetSeries:function(e){var i=CN();e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,v1){var Z=v1.getAxisProxy(m.name,v);pb(Z.getTargetSeriesModels(),function(v2){i.set(v2.uid,v2)})})});return i},modifyOutputEnd:true,overallReset:function(e,i){e.eachComponent("dataZoom",function(k){k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).reset(Z,i)});k.eachTargetAxis(function(m,v,Z){Z.getAxisProxy(m.name,v).filterData(Z,i)})});e.eachComponent("dataZoom",function(Z){var m=Z.findRepresentativeAxisProxy();var k=m.getDataPercentWindow();var v=m.getDataValueWindow();Z.setRawRange({start:k[0],end:k[1],startValue:v[0],endValue:v[1]},true)})}});b1("dataZoom",function(i,e){var k=pZ(ko(e.eachComponent,e,"dataZoom"),iQ,function(Z,v){return Z.get(v.axisIndex)});var m=[];e.eachComponent({mainType:"dataZoom",query:i},function(Z,v){m.push.apply(m,k(Z).nodes)});pb(m,function(Z,v){Z.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var tu=pb;var H5=function(i){var e=i&&i.visualMap;if(!GL(e)){e=e?[e]:[]}tu(e,function(k){if(!k){return}if(oO(k,"splitList")&&!oO(k,"pieces")){k.pieces=k.splitList;delete k.splitList}var m=k.pieces;if(m&&GL(m)){tu(m,function(v){if(tM(v)){if(oO(v,"start")&&!oO(v,"min")){v.min=v.start}if(oO(v,"end")&&!oO(v,"max")){v.max=v.end}}})}})};function oO(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}aH.registerSubTypeDefaulter("visualMap",function(e){return(!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable))?"continuous":"piecewise"});var oI=Ca.VISUAL.COMPONENT;G(oI,{createOnAllSeries:true,reset:function(i,e){var k=[];e.eachComponent("visualMap",function(m){var v=i.pipelineContext;if(!m.isTargetSeries(i)||(v&&v.large)){return}k.push(lo(m.stateList,m.targetVisuals,ko(m.getValueState,m),m.getDataDimension(i.getData())))});return k}});G(oI,{createOnAllSeries:true,reset:function(i,e){var m=i.getData();var k=[];e.eachComponent("visualMap",function(v1){if(v1.isTargetSeries(i)){var v=v1.getVisualMeta(ko(dm,null,i,v1))||{stops:[],outerColors:[]};var v2=v1.getDataDimension(m);var Z=m.getDimensionInfo(v2);if(Z!=null){v.dimension=Z.index;k.push(v)}}});i.getData().setVisual("visualMeta",k)}});function dm(Z,Iu,It,v){var v2=Iu.targetVisuals[v];var k=mJ.prepareVisualTypes(v2);var m={color:Z.getData().getVisual("color")};for(var v1=0,v3=k.length;v1<v3;v1++){var Ir=k[v1];var e=v2[Ir==="opacity"?"__alphaForOpacity":Ir];e&&e.applyVisual(It,Iq,Is)}return m.color;function Iq(i){return m[i]}function Is(i,Iv){m[i]=Iv}}var HO={get:function(m,i,e){var k=C9((qi[m]||{})[i]);return e?(GL(k)?k[k.length-1]:k):k}};var qi={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var mN=mJ.mapVisual;var oz=mJ.eachVisual;var Ik=GL;var tt=pb;var E0=o9;var l1=EU;var vK=V;var nQ=p5({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(k,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(k,e)},optionUpdated:function(i,k){var e=this.option;if(!sZ.canvasSupported){e.realtime=false}!k&&ne(e,i,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(i){var e=this.stateList;i=ko(i,this);this.controllerVisuals=Ag(this.option.controller,e,i);this.targetVisuals=Ag(this.option.target,e,i)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex;var i=[];if(e==null||e==="all"){this.ecModel.eachSeries(function(k,m){i.push(m)})}else{i=mr(e)}return i},eachTargetSeries:function(i,e){pb(this.getTargetSeriesIndices(),function(k){i.call(e,this.ecModel.getSeriesByIndex(k))},this)},isTargetSeries:function(e){var i=false;this.eachTargetSeries(function(k){k===e&&(i=true)});return i},formatValueText:function(v2,Z,v1){var k=this.option;var m=k.precision;var v=this.dataBound;var v3=k.formatter;var Iq;var i;v1=v1||["<",">"];if(GL(v2)){v2=v2.slice();Iq=true}i=Z?v2:(Iq?[e(v2[0]),e(v2[1])]:e(v2));if(we(v3)){return v3.replace("{value}",Iq?i[0]:i).replace("{value2}",Iq?i[1]:i)}else{if(E9(v3)){return Iq?v3(v2[0],v2[1]):v3(v2)}}if(Iq){if(v2[0]===v[0]){return v1[0]+" "+i[1]}else{if(v2[1]===v[1]){return v1[1]+" "+i[0]}else{return i[0]+" - "+i[1]}}}else{return i}function e(Ir){return Ir===v[0]?"min":Ir===v[1]?"max":(+Ir).toFixed(Math.min(m,20))}},resetExtent:function(){var e=this.option;var i=E0([e.min,e.max]);this._dataExtent=i},getDataDimension:function(v){var v2=this.option.dimension;var v1=v.dimensions;if(v2==null&&!v1.length){return}if(v2!=null){return v.getDimension(v2)}var k=v.dimensions;for(var m=k.length-1;m>=0;m--){var Z=k[m];var e=v.getDimensionInfo(Z);if(!e.isCalculationCoord){return Z}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var m=this.ecModel;var v2=this.option;var e={inRange:v2.inRange,outOfRange:v2.outOfRange};var v=v2.target||(v2.target={});var k=v2.controller||(v2.controller={});v7(v,e);v7(k,e);var Z=this.isCategory();v1.call(this,v);v1.call(this,k);v3.call(this,v,"inRange","outOfRange");i.call(this,k);function v1(Iq){if(Ik(v2.color)&&!Iq.inRange){Iq.inRange={color:v2.color.slice().reverse()}}Iq.inRange=Iq.inRange||{color:m.get("gradientColor")};tt(this.stateList,function(Is){var It=Iq[Is];if(we(It)){var Ir=HO.get(It,"active",Z);if(Ir){Iq[Is]={};Iq[Is][It]=Ir}else{delete Iq[Is]}}},this)}function v3(It,Iu,Ir){var Is=It[Iu];var Iq=It[Ir];if(Is&&!Iq){Iq=It[Ir]={};tt(Is,function(Ix,Iw){if(!mJ.isValidType(Iw)){return}var Iv=HO.get(Iw,"inactive",Z);if(Iv!=null){Iq[Iw]=Iv;if(Iw==="color"&&!Iq.hasOwnProperty("opacity")&&!Iq.hasOwnProperty("colorAlpha")){Iq.opacity=[0,0]}}})}}function i(Iq){var It=(Iq.inRange||{}).symbol||(Iq.outOfRange||{}).symbol;var Is=(Iq.inRange||{}).symbolSize||(Iq.outOfRange||{}).symbolSize;var Ir=this.get("inactiveColor");tt(this.stateList,function(Ix){var Iy=this.itemSize;var Iw=Iq[Ix];if(!Iw){Iw=Iq[Ix]={color:Z?Ir:[Ir]}}if(Iw.symbol==null){Iw.symbol=It&&C9(It)||(Z?"roundRect":["roundRect"])}if(Iw.symbolSize==null){Iw.symbolSize=Is&&C9(Is)||(Z?Iy[0]:[Iy[0],Iy[0]])}Iw.symbol=mN(Iw.symbol,function(Iz){return(Iz==="none"||Iz==="square")?"roundRect":Iz});var Iv=Iw.symbolSize;if(Iv!=null){var Iu=-Infinity;oz(Iv,function(Iz){Iz>Iu&&(Iu=Iz)});Iw.symbolSize=mN(Iv,function(Iz){return l1(Iz,[0,Iu],[0,Iy[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:vK,getValueState:vK,getVisualMeta:vK});var nA=[20,140];var f3=nQ.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,i){f3.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(k){k.mappingMethod="linear";k.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){f3.superApply(this,"resetItemSize",arguments);var e=this.itemSize;this._orient==="horizontal"&&e.reverse();(e[0]==null||isNaN(e[0]))&&(e[0]=nA[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=nA[1])},_resetRange:function(){var i=this.getExtent();var e=this.option.range;if(!e||e.auto){i.auto=1;this.option.range=i}else{if(GL(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],i[0]);e[1]=Math.min(e[1],i[1])}}},completeVisualOption:function(){nQ.prototype.completeVisualOption.apply(this,arguments);pb(this.stateList,function(i){var e=this.option.controller[i].symbolSize;if(e&&e[0]!==e[1]){e[0]=0}},this)},setSelected:function(e){this.option.range=e.slice();this._resetRange()},getSelected:function(){var i=this.getExtent();var e=o9((this.get("range")||[]).slice());e[0]>i[1]&&(e[0]=i[1]);e[1]>i[1]&&(e[1]=i[1]);e[0]<i[0]&&(e[0]=i[0]);e[1]<i[0]&&(e[1]=i[0]);return e},getValueState:function(k){var e=this.option.range;var i=this.getExtent();return((e[0]<=i[0]||e[0]<=k)&&(e[1]>=i[1]||k<=e[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(v1,Z){i[0]<=v1&&v1<=i[1]&&v.push(Z)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getVisualMeta:function(v2){var m=zY(this,"outOfRange",this.getExtent());var Ir=zY(this,"inRange",this.option.range.slice());var v3=[];function k(It,Is){v3.push({value:It,color:v2(It,Is)})}var Z=0;var Iq=0;var i=Ir.length;var v1=m.length;for(;Iq<v1&&(!Ir.length||m[Iq]<=Ir[0]);Iq++){if(m[Iq]<Ir[Z]){k(m[Iq],"outOfRange")}}for(var v=1;Z<i;Z++,v=0){v&&v3.length&&k(Ir[Z],"outOfRange");k(Ir[Z],"inRange")}for(var v=1;Iq<v1;Iq++){if(!Ir.length||Ir[Ir.length-1]<m[Iq]){if(v){v3.length&&k(v3[v3.length-1].value,"outOfRange");v=0}k(m[Iq],"outOfRange")}}var e=v3.length;return{stops:v3,outerColors:[e?v3[0].color:"transparent",e?v3[e-1].color:"transparent"]}}});function zY(k,e,v3){if(v3[0]===v3[1]){return v3.slice()}var v1=200;var Z=(v3[1]-v3[0])/v1;var v2=v3[0];var v=[];for(var m=0;m<=v1&&v2<v3[1];m++){v.push(v2);v2+=Z}v.push(v3[1]);return v}var xK=qB({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,i){this.ecModel=e;this.api=i;this.visualMapModel},render:function(i,e,k,m){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(m){var e=this.visualMapModel;var k=Bn(e.get("padding")||0);var i=m.getBoundingRect();m.add(new EL({z2:-1,silent:true,shape:{x:i.x-k[3],y:i.y-k[0],width:i.width+k[3]+k[1],height:i.height+k[0]+k[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(v1,m,e){e=e||{};var k=e.forceState;var Ir=this.visualMapModel;var v3={};if(m==="symbol"){v3.symbol=Ir.get("itemSymbol")}if(m==="color"){var v=Ir.get("contentColor");v3.color=v}function Iq(Is){return v3[Is]}function Z(Is,It){v3[Is]=It}var v2=Ir.controllerVisuals[k||Ir.getValueState(v1)];var i=mJ.prepareVisualTypes(v2);pb(i,function(It){var Is=v2[It];if(e.convertOpacityToAlpha&&It==="opacity"){It="colorAlpha";Is=v2.__alphaForOpacity}if(mJ.dependsOn(It,m)){Is&&Is.applyVisual(v1,Iq,Z)}});return v3[m]},positionGroup:function(k){var e=this.visualMapModel;var i=this.api;AC(k,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:V});function F4(Is,v3,Iu){var v2=Is.option;var e=v2.align;if(e!=null&&e!=="auto"){return e}var Ir={width:v3.getWidth(),height:v3.getHeight()};var m=v2.orient==="horizontal"?1:0;var It=[["left","right","width"],["top","bottom","height"]];var k=It[m];var v=[0,null,10];var v1={};for(var Z=0;Z<3;Z++){v1[It[1-m][Z]]=v[Z];v1[k[Z]]=Z===2?Iu[0]:v2[k[Z]]}var Iv=[["x","width",3],["y","height",0]][m];var Iq=kX(v1,Ir,v2.padding);return k[(Iq.margin[Iv[2]]||0)+Iq[Iv[0]]+Iq[Iv[1]]*0.5<Ir[Iv[1]]*0.5?0:1]}function bc(e){pb(e||[],function(i){if(e.dataIndex!=null){e.dataIndexInside=e.dataIndex;e.dataIndex=null}});return e}var l0=EU;var ts=pb;var jr=Math.min;var AK=Math.max;var bY=12;var fP=6;var gD=xK.extend({type:"visualMap.continuous",init:function(){gD.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,m){if(!m||m.type!=="selectDataRange"||m.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var k=this.visualMapModel;var i=this.group;this._orient=k.get("orient");this._useHandle=k.get("calculable");this._resetInterval();this._renderBar(i);var e=k.get("text");this._renderEndsText(i,e,0);this._renderEndsText(i,e,1);this._updateView(true);this.renderBackground(i);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(i)},_renderEndsText:function(v3,i,Is){if(!i){return}var Iq=i[1-Is];Iq=Iq!=null?Iq+"":"";var v2=this.visualMapModel;var e=v2.get("textGap");var Ir=v2.itemSize;var v1=this._shapes.barGroup;var m=this._applyTransform([Ir[0]/2,Is===0?-e:Ir[1]+e],v1);var v=this._applyTransform(Is===0?"bottom":"top",v1);var k=this._orient;var Z=this.visualMapModel.textStyleModel;this.group.add(new iT({style:{x:m[0],y:m[1],textVerticalAlign:k==="horizontal"?"middle":v,textAlign:k==="horizontal"?v:"center",text:Iq,textFont:Z.getFont(),textFill:Z.getTextColor()}}))},_renderBar:function(Z){var v3=this.visualMapModel;var k=this._shapes;var Iq=v3.itemSize;var m=this._orient;var v=this._useHandle;var i=F4(v3,this.api,Iq);var v1=k.barGroup=this._createBarGroup(i);v1.add(k.outOfRange=vl());v1.add(k.inRange=vl(null,v?uo(this._orient):null,ko(this._dragHandle,this,"all",false),ko(this._dragHandle,this,"all",true)));var v2=v3.textStyleModel.getTextRect("");var e=AK(v2.width,v2.height);if(v){k.handleThumbs=[];k.handleLabels=[];k.handleLabelPoints=[];this._createHandle(v1,0,Iq,e,m,i);this._createHandle(v1,1,Iq,e,m,i)}this._createIndicator(v1,Iq,e,m);Z.add(v1)},_createHandle:function(Ir,k,Is,e,Z){var v3=ko(this._dragHandle,this,k,false);var m=ko(this._dragHandle,this,k,true);var v2=vl(zW(k,e),uo(this._orient),v3,m);v2.position[0]=Is[0];Ir.add(v2);var Iq=this.visualMapModel.textStyleModel;var v=new iT({draggable:true,drift:v3,onmousemove:function(It){GV(It.event)},ondragend:m,style:{x:0,y:0,text:"",textFont:Iq.getFont(),textFill:Iq.getTextColor()}});this.group.add(v);var v1=[Z==="horizontal"?e/2:e*1.5,Z==="horizontal"?(k===0?-(e*1.5):(e*1.5)):(k===0?-e/2:e/2)];var i=this._shapes;i.handleThumbs[k]=v2;i.handleLabelPoints[k]=v1;i.handleLabels[k]=v},_createIndicator:function(v,v3,e,m){var v1=vl([[0,0]],"move");v1.position[0]=v3[0];v1.attr({invisible:true,silent:true});v.add(v1);var Z=this.visualMapModel.textStyleModel;var i=new iT({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:Z.getFont(),textFill:Z.getTextColor()}});this.group.add(i);var v2=[m==="horizontal"?e/2:fP+3,0];var k=this._shapes;k.indicator=v1;k.indicatorLabel=i;k.indicatorLabelPoint=v2},_dragHandle:function(v,m,i,e){if(!this._useHandle){return}this._dragging=!m;if(!m){var k=this._applyTransform([i,e],this._shapes.barGroup,true);this._updateInterval(v,k[1]);this._updateView()}if(m===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(m){!this._hovering&&this._clearHoverLinkToSeries()}else{if(vR(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[v],false)}}},_resetInterval:function(){var i=this.visualMapModel;var k=this._dataInterval=i.getSelected();var m=i.getExtent();var e=[0,i.itemSize[1]];this._handleEnds=[l0(k[0],m,e,true),l0(k[1],m,e,true)]},_updateInterval:function(Z,v){v=v||0;var i=this.visualMapModel;var m=this._handleEnds;var e=[0,i.itemSize[1]];nx(v,m,e,Z,0);var k=i.getExtent();this._dataInterval=[l0(m[0],e,k,true),l0(m[1],e,k,true)]},_updateView:function(v2){var m=this.visualMapModel;var Z=m.getExtent();var k=this._shapes;var i=[0,m.itemSize[1]];var v=v2?i:this._handleEnds;var v1=this._createBarVisual(this._dataInterval,Z,v,"inRange");var e=this._createBarVisual(Z,Z,i,"outOfRange");k.inRange.setStyle({fill:v1.barColor,opacity:v1.opacity}).setShape("points",v1.barPoints);k.outOfRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);this._updateHandle(v,v1)},_createBarVisual:function(Z,v1,v2,k){var v={forceState:k,convertOpacityToAlpha:true};var i=this._makeColorGradient(Z,v);var m=[this.getControllerVisual(Z[0],"symbolSize",v),this.getControllerVisual(Z[1],"symbolSize",v)];var e=this._createBarPoints(v2,m);return{barColor:new uG(0,0,0,1,i),barPoints:e,handlesColor:[i[0].color,i[i.length-1].color]}},_makeColorGradient:function(v2,v1){var e=100;var m=[];var Z=(v2[1]-v2[0])/e;m.push({color:this.getControllerVisual(v2[0],"color",v1),offset:0});for(var v=1;v<e;v++){var k=v2[0]+Z*v;if(k>v2[1]){break}m.push({color:this.getControllerVisual(k,"color",v1),offset:v/e})}m.push({color:this.getControllerVisual(v2[1],"color",v1),offset:1});return m},_createBarPoints:function(k,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],k[0]],[i[0],k[0]],[i[0],k[1]],[i[0]-e[1],k[1]]]},_createBarGroup:function(i){var k=this._orient;var e=this.visualMapModel.get("inverse");return new Cc((k==="horizontal"&&!e)?{scale:i==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(k==="horizontal"&&e)?{scale:i==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(k==="vertical"&&!e)?{scale:i==="left"?[1,-1]:[-1,-1]}:{scale:i==="left"?[1,1]:[-1,1]})},_updateHandle:function(Z,v){if(!this._useHandle){return}var e=this._shapes;var k=this.visualMapModel;var m=e.handleThumbs;var i=e.handleLabels;ts([0,1],function(v3){var v2=m[v3];v2.setStyle("fill",v.handlesColor[v3]);v2.position[1]=Z[v3];var v1=wa(e.handleLabelPoints[v3],aI(v2,this.group));i[v3].setStyle({x:v1[0],y:v1[1],text:k.formatValueText(this._dataInterval[v3]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(v3===0?"bottom":"top"):"left",e.barGroup)})},this)},_showIndicator:function(Is,v1,Z,v3){var Iv=this.visualMapModel;var Ix=Iv.getExtent();var Iw=Iv.itemSize;var Iq=[0,Iw[1]];var It=l0(Is,Ix,Iq,true);var k=this._shapes;var Iu=k.indicator;if(!Iu){return}Iu.position[1]=It;Iu.attr("invisible",false);Iu.setShape("points",sk(!!Z,v3,It,Iw[1]));var e={convertOpacityToAlpha:true};var v=this.getControllerVisual(Is,"color",e);Iu.setStyle("fill",v);var m=wa(k.indicatorLabelPoint,aI(Iu,this.group));var i=k.indicatorLabel;i.attr("invisible",false);var Ir=this._applyTransform("left",k.barGroup);var v2=this._orient;i.setStyle({text:(Z?Z:"")+Iv.formatValueText(v1),textVerticalAlign:v2==="horizontal"?Ir:"middle",textAlign:v2==="horizontal"?"center":Ir,x:m[0],y:m[1]})},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(k){e._hovering=true;if(!e._dragging){var i=e.visualMapModel.itemSize;var m=e._applyTransform([k.offsetX,k.offsetY],e._shapes.barGroup,true,true);m[1]=jr(AK(0,m[1]),i[1]);e._doHoverLinkToSeries(m[1],0<=m[0]&&m[0]<=i[0])}}).on("mouseout",function(){e._hovering=false;!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(e,k){var Iq=this.visualMapModel;var Is=Iq.itemSize;if(!Iq.option.hoverLink){return}var m=[0,Is[1]];var It=Iq.getExtent();e=jr(AK(m[0],e),m[1]);var i=AB(Iq,It,m);var v2=[e-i,e+i];var v1=l0(e,m,It,true);var Z=[l0(v2[0],m,It,true),l0(v2[1],m,It,true)];v2[0]<m[0]&&(Z[0]=-Infinity);v2[1]>m[1]&&(Z[1]=Infinity);if(k){if(Z[0]===-Infinity){this._showIndicator(v1,Z[1],"< ",i)}else{if(Z[1]===Infinity){this._showIndicator(v1,Z[0],"> ",i)}else{this._showIndicator(v1,v1," ",i)}}}var v=this._hoverLinkDataIndices;var v3=[];if(k||vR(Iq)){v3=this._hoverLinkDataIndices=Iq.findTargetDataIndices(Z)}var Ir=cp(v,v3);this._dispatchHighDown("downplay",bc(Ir[0]));this._dispatchHighDown("highlight",bc(Ir[1]))},_hoverLinkFromSeriesMouseOver:function(v1){var m=v1.target;var i=this.visualMapModel;if(!m||m.dataIndex==null){return}var k=this.ecModel.getSeriesByIndex(m.seriesIndex);if(!i.isTargetSeries(k)){return}var Z=k.getData(m.dataType);var v=Z.get(i.getDataDimension(Z),m.dataIndex,true);if(!isNaN(v)){this._showIndicator(v,v)}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bc(e));e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)},_applyTransform:function(v,k,e,m){var i=aI(k,m?null:this.group);return yj[GL(v)?"applyTransform":"transformDirection"](v,i,e)},_dispatchHighDown:function(i,e){e&&e.length&&this.api.dispatchAction({type:i,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function vl(k,m,i,e){return new ic({shape:{points:k},draggable:!!i,cursor:m,drift:i,onmousemove:function(v){GV(v.event)},ondragend:e})}function zW(i,e){return i===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function sk(i,k,m,e){return i?[[0,-jr(k,AK(m,0))],[fP,0],[0,jr(k,AK(e-m,0))]]:[[0,0],[5,-5],[5,5]]}function AB(i,v,e){var m=bY/2;var k=i.get("hoverLinkDataSize");if(k){m=l0(k,v,e,true)/2}return m}function vR(i){var e=i.get("hoverLinkOnHandle");return !!(e==null?i.get("realtime"):e)}function uo(e){return e==="vertical"?"ns-resize":"ew-resize"}var Ch={type:"selectDataRange",event:"dataRangeSelected",update:"update"};b1(Ch,function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(k){k.setSelected(i.selected)})});y6(H5);var s0=nQ.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(i,m){s0.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var k=this._mode=this._determineMode();ci[this._mode].call(this);this._resetSelected(i,m);var e=this.option.categories;this.resetVisual(function(Z,v){if(k==="categories"){Z.mappingMethod="category";Z.categories=C9(e)}else{Z.dataExtent=this.getExtent();Z.mappingMethod="piecewise";Z.pieceList=Ej(this._pieceList,function(v1){var v1=C9(v1);if(v!=="inRange"){v1.visual=null}return v1})}})},completeVisualOption:function(){var m=this.option;var k={};var v=mJ.listVisualTypes();var e=this.isCategory();pb(m.pieces,function(Z){pb(v,function(v1){if(Z.hasOwnProperty(v1)){k[v1]=1}})});pb(k,function(Z,v2){var v1=0;pb(this.stateList,function(v3){v1|=i(m,v3,v2)||i(m.target,v3,v2)},this);!v1&&pb(this.stateList,function(v3){(m[v3]||(m[v3]={}))[v2]=HO.get(v2,v3==="inRange"?"active":"inactive",e)})},this);function i(v2,Z,v1){return v2&&v2[Z]&&(tM(v2[Z])?v2[Z].hasOwnProperty(v1):v2[Z]===v1)}nQ.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(v,Z){var i=this.option;var e=this._pieceList;var k=(Z?i:v).selected||{};i.selected=k;pb(e,function(v3,v1){var v2=this.getSelectedMapKey(v3);if(!k.hasOwnProperty(v2)){k[v2]=true}},this);if(i.selectedMode==="single"){var m=false;pb(e,function(v3,v1){var v2=this.getSelectedMapKey(v3);if(k[v2]){m?(k[v2]=false):(m=true)}},this)}},getSelectedMapKey:function(e){return this._mode==="categories"?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=C9(e)},getValueState:function(i){var e=mJ.findPieceIndex(i,this._pieceList);return e!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var v=[];var m=k.getData();m.each(this.getDataDimension(m),function(v2,v1){var Z=mJ.findPieceIndex(v2,this._pieceList);Z===i&&v.push(v1)},this);e.push({seriesId:k.id,dataIndex:v})},this);return e},getRepresentValue:function(i){var e;if(this.isCategory()){e=i.value}else{if(i.value!=null){e=i.value}else{var k=i.interval||[];e=(k[0]===-Infinity&&k[1]===Infinity)?0:(k[0]+k[1])/2}}return e},getVisualMeta:function(v){if(this.isCategory()){return}var m=[];var v1=[];var i=this;function v2(Ir,Iq){var Is=i.getRepresentValue({interval:Ir});if(!Iq){Iq=i.getValueState(Is)}var v3=v(Is,Iq);if(Ir[0]===-Infinity){v1[0]=v3}else{if(Ir[1]===Infinity){v1[1]=v3}else{m.push({value:Ir[0],color:v3},{value:Ir[1],color:v3})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var k=e[0].interval[0];k!==-Infinity&&e.unshift({interval:[-Infinity,k]});k=e[e.length-1].interval[1];k!==Infinity&&e.push({interval:[k,Infinity]})}var Z=-Infinity;pb(e,function(Iq){var v3=Iq.interval;if(v3){v3[0]>Z&&v2([Z,v3[0]],"outOfRange");v2(v3.slice());Z=v3[1]}},this);return{stops:m,outerColors:v1}}});var ci={splitNumber:function(){var v1=this.option;var e=this._pieceList;var k=Math.min(v1.precision,20);var v2=this.getExtent();var i=v1.splitNumber;i=Math.max(parseInt(i,10),1);v1.splitNumber=i;var Iq=(v2[1]-v2[0])/i;while(+Iq.toFixed(k)!==Iq&&k<5){k++}v1.precision=k;Iq=+Iq.toFixed(k);var v=0;if(v1.minOpen){e.push({index:v++,interval:[-Infinity,v2[0]],close:[0,0]})}for(var v3=v2[0],m=v+i;v<m;v3+=Iq){var Z=v===i-1?v2[1]:(v3+Iq);e.push({index:v++,interval:[v3,Z],close:[1,1]})}if(v1.maxOpen){e.push({index:v++,interval:[v2[1],Infinity],close:[0,0]})}W(e);pb(e,function(Ir){Ir.text=this.formatValueText(Ir.interval)},this)},categories:function(){var e=this.option;pb(e.categories,function(i){this._pieceList.push({text:this.formatValueText(i,true),value:i})},this);Fi(e,this._pieceList)},pieces:function(){var i=this.option;var e=this._pieceList;pb(i.pieces,function(Z,v2){if(!tM(Z)){Z={value:Z}}var Iu={text:"",index:v2};if(Z.label!=null){Iu.text=Z.label}if(Z.hasOwnProperty("value")){var Ir=Iu.value=Z.value;Iu.interval=[Ir,Ir];Iu.close=[1,1]}else{var m=Iu.interval=[];var It=Iu.close=[0,0];var k=[1,0,1];var v3=[-Infinity,Infinity];var v=[];for(var Is=0;Is<2;Is++){var Iq=[["gte","gt","min"],["lte","lt","max"]][Is];for(var v1=0;v1<3&&m[Is]==null;v1++){m[Is]=Z[Iq[v1]];It[Is]=k[v1];v[Is]=v1===2}m[Is]==null&&(m[Is]=v3[Is])}v[0]&&m[1]===Infinity&&(It[0]=0);v[1]&&m[0]===-Infinity&&(It[1]=0);if(om){if(m[0]>m[1]){console.warn("Piece "+v2+"is illegal: "+m+" lower bound should not greater then uppper bound.")}}if(m[0]===m[1]&&It[0]&&It[1]){Iu.value=m[0]}}Iu.visual=mJ.retrieveVisuals(Z);e.push(Iu)},this);Fi(i,e);W(e);pb(e,function(m){var v=m.close;var k=[["<",""][v[1]],[">",""][v[0]]];m.text=m.text||this.formatValueText(m.value!=null?m.value:m.interval,false,k)},this)}};function Fi(k,i){var e=k.inverse;if(k.orient==="vertical"?!e:e){i.reverse()}}var hq=xK.extend({type:"visualMap.piecewise",doRender:function(){var v=this.group;v.removeAll();var Iq=this.visualMapModel;var e=Iq.get("textGap");var v3=Iq.textStyleModel;var m=v3.getFont();var Is=v3.getTextColor();var i=this._getItemAlign();var Ir=Iq.itemSize;var k=this._getViewData();var v1=k.endsText;var v2=gw(Iq.get("showLabel",true),!v1);v1&&this._renderEndsText(v,v1[0],Ir,v2,i);pb(k.viewPieceList,Z,this);v1&&this._renderEndsText(v,v1[1],Ir,v2,i);fn(Iq.get("orient"),v,Iq.get("itemGap"));this.renderBackground(v);this.positionGroup(v);function Z(Iv){var Iu=Iv.piece;var Ix=new Cc();Ix.onclick=ko(this._onItemClick,this,Iu);this._enableHoverLink(Ix,Iv.indexInModelPieceList);var It=Iq.getRepresentValue(Iu);this._createItemSymbol(Ix,It,[0,0,Ir[0],Ir[1]]);if(v2){var Iw=this.visualMapModel.getValueState(It);Ix.add(new iT({style:{x:i==="right"?-e:Ir[0]+e,y:Ir[1]/2,text:Iu.text,textVerticalAlign:"middle",textAlign:i,textFont:m,textFill:Is,opacity:Iw==="outOfRange"?0.5:1}}))}v.add(Ix)}},_enableHoverLink:function(k,i){k.on("mouseover",ko(e,this,"highlight")).on("mouseout",ko(e,this,"downplay"));function e(v){var m=this.visualMapModel;m.option.hoverLink&&this.api.dispatchAction({type:v,batch:bc(m.findTargetDataIndices(i))})}},_getItemAlign:function(){var e=this.visualMapModel;var i=e.option;if(i.orient==="vertical"){return F4(e,this.api,e.itemSize)}else{var k=i.align;if(!k||k==="auto"){k="left"}return k}},_renderEndsText:function(v,Z,m,i,e){if(!Z){return}var v1=new Cc();var k=this.visualMapModel.textStyleModel;v1.add(new iT({style:{x:i?(e==="right"?m[0]:0):m[0]/2,y:m[1]/2,textVerticalAlign:"middle",textAlign:i?e:"center",text:Z,textFont:k.getFont(),textFill:k.getTextColor()}}));v.add(v1)},_getViewData:function(){var m=this.visualMapModel;var v=Ej(m.getPieceList(),function(v1,Z){return{piece:v1,indexInModelPieceList:Z}});var i=m.get("text");var k=m.get("orient");var e=m.get("inverse");if(k==="horizontal"?e:!e){v.reverse()}else{if(i){i=i.slice().reverse()}}return{viewPieceList:v,endsText:i}},_createItemSymbol:function(i,e,k){i.add(uc(this.getControllerVisual(e,"symbol"),k[0],k[1],k[2],k[3],this.getControllerVisual(e,"color")))},_onItemClick:function(m){var e=this.visualMapModel;var k=e.option;var i=C9(k.selected);var v=e.getSelectedMapKey(m);if(k.selectedMode==="single"){i[v]=true;pb(i,function(v1,Z){i[Z]=Z===v})}else{i[v]=!i[v]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});y6(H5);var co=j9;var cr=mx;function vP(e){DE(e,"label",["show"])}var sC=p5({type:"marker",dependencies:["series","grid","polar","geo"],init:function(k,i,e,m){if(om){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(k,e);this.mergeOption(k,e,m.createdBySelf,true)},isAnimationEnabled:function(){if(sZ.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(v,k,i,Z){var m=this.constructor;var e=this.mainType+"Model";if(!i){k.eachSeries(function(v2){var v3=v2.get(this.mainType,true);var v1=v2[e];if(!v3||!v3.data){v2[e]=null;return}if(!v1){if(Z){vP(v3)}pb(v3.data,function(Iq){if(Iq instanceof Array){vP(Iq[0]);vP(Iq[1])}else{vP(Iq)}});v1=new m(v3,this,k);b0(v1,{mainType:this.mainType,seriesIndex:v2.seriesIndex,name:v2.name,createdBySelf:true});v1.__hostSeries=v2}else{v1.mergeOption(v3,k,true)}v2[e]=v1},this)}},formatTooltip:function(k){var Z=this.getData();var v=this.getRawValue(k);var m=GL(v)?Ej(v,co).join(", "):co(v);var e=Z.getName(k);var i=cr(this.name);if(v!=null||e){i+="<br />"}if(e){i+=cr(e);if(v!=null){i+=" : "}}if(v!=null){i+=cr(m)}return i},getData:function(){return this._data},setData:function(e){this._data=e}});Gu(sC,vb);sC.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}}});var it=eR;function lU(e){return !(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function jh(e){return !isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function sX(e,k,v2,i,v,Ir){var Is=[];var Z=lW(k,i);var v1=Z?k.getCalculationInfo("stackResultDimension"):i;var Iq=xe(k,v1,e);var v3=k.indicesOfNearest(v1,Iq)[0];Is[v]=k.get(v2,v3);Is[Ir]=k.get(i,v3);var m=oM(k.get(i,v3));m=Math.min(m,20);if(m>=0){Is[Ir]=+Is[Ir].toFixed(m)}return Is}var uh=sy;var dz={min:uh(sX,"min"),max:uh(sX,"max"),average:uh(sX,"average")};function Fg(e,Ir){var Z=e.getData();var k=e.coordinateSystem;if(Ir&&!jh(Ir)&&!GL(Ir.coord)&&k){var v3=k.dimensions;var m=Ie(Ir,Z,k,e);Ir=C9(Ir);if(Ir.type&&dz[Ir.type]&&m.baseAxis&&m.valueAxis){var v1=it(v3,m.baseAxis.dim);var Iq=it(v3,m.valueAxis.dim);Ir.coord=dz[Ir.type](Z,m.baseDataDim,m.valueDataDim,v1,Iq);Ir.value=Ir.coord[Iq]}else{var v2=[Ir.xAxis!=null?Ir.xAxis:Ir.radiusAxis,Ir.yAxis!=null?Ir.yAxis:Ir.angleAxis];for(var v=0;v<2;v++){if(dz[v2[v]]){v2[v]=xe(Z,Z.mapDimension(v3[v]),v2[v])}}Ir.coord=v2}}return Ir}function Ie(m,v,k,e){var i={};if(m.valueIndex!=null||m.valueDim!=null){i.valueDataDim=m.valueIndex!=null?v.getDimension(m.valueIndex):m.valueDim;i.valueAxis=k.getAxis(uZ(e,i.valueDataDim));i.baseAxis=k.getOtherAxis(i.valueAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim)}else{i.baseAxis=e.getBaseAxis();i.valueAxis=k.getOtherAxis(i.baseAxis);i.baseDataDim=v.mapDimension(i.baseAxis.dim);i.valueDataDim=v.mapDimension(i.valueAxis.dim)}return i}function uZ(m,k){var v1=m.getData();var Z=v1.dimensions;k=v1.getDimension(k);for(var v=0;v<Z.length;v++){var e=v1.getDimensionInfo(Z[v]);if(e.name===k){return e.coordDim}}}function c2(e,i){return(e&&e.containData&&i.coord&&!lU(i))?e.containData(i.coord):true}function gL(i,m,e,k){if(k<2){return i.coord&&i.coord[k]}return i.value}function xe(m,v,i){if(i==="average"){var e=0;var k=0;m.each(v,function(v1,Z){if(!isNaN(v1)){e+=v1;k++}});return e/k}else{if(i==="median"){return m.getMedian(v)}else{return m.getDataExtent(v,true)[i==="max"?1:0]}}}var tm=qB({type:"marker",init:function(){this.markerGroupMap=CN()},render:function(i,e,k){var v=this.markerGroupMap;v.each(function(Z){Z.__keep=false});var m=this.type+"Model";e.eachSeries(function(v1){var Z=v1[m];Z&&this.renderSeries(v1,Z,e,k)},this);v.each(function(Z){!Z.__keep&&this.group.remove(Z.group)},this)},renderSeries:function(){}});function hb(m,e,k){var i=e.coordinateSystem;m.each(function(v1){var v2=m.getItemModel(v1);var Z;var Ir=zS(v2.get("x"),k.getWidth());var v3=zS(v2.get("y"),k.getHeight());if(!isNaN(Ir)&&!isNaN(v3)){Z=[Ir,v3]}else{if(e.getMarkerPosition){Z=e.getMarkerPosition(m.getValues(m.dimensions,v1))}else{if(i){var v=m.get(i.dimensions[0],v1);var Iq=m.get(i.dimensions[1],v1);Z=i.dataToPoint([v,Iq])}}}if(!isNaN(Ir)){Z[0]=Ir}if(!isNaN(v3)){Z[1]=v3}m.setItemLayout(v1,Z)})}tm.extend({type:"markPoint",updateTransform:function(k,e,i){e.eachSeries(function(m){var v=m.markPointModel;if(v){hb(v.getData(),m,i);this.markerGroupMap.get(m.id).updateLayout(v)}},this)},renderSeries:function(k,v2,Z,v1){var m=k.coordinateSystem;var v3=k.id;var i=k.getData();var Iq=this.markerGroupMap;var e=Iq.get(v3)||Iq.set(v3,new Fd());var v=aC(m,k,v2);v2.setData(v);hb(v2.getData(),k,v1);v.each(function(Ir){var Is=v.getItemModel(Ir);var It=Is.getShallow("symbolSize");if(typeof It==="function"){It=It(v2.getRawValue(Ir),v2.getDataParams(Ir))}v.setItemVisual(Ir,{symbolSize:It,color:Is.get("itemStyle.color")||i.getVisual("color"),symbol:Is.getShallow("symbol")})});e.updateData(v);this.group.add(e.group);v.eachItemGraphicEl(function(Ir){Ir.traverse(function(Is){Is.dataModel=v2})});e.__keep=true;e.group.silent=v2.get("silent")||k.get("silent")}});function aC(i,e,Z){var k;if(i){k=Ej(i&&i.dimensions,function(v1){var v2=e.getData().getDimensionInfo(e.getData().mapDimension(v1))||{};return Di({name:v1},v2)})}else{k=[{name:"value",type:"float"}]}var m=new xw(k,Z);var v=Ej(Z.get("data"),sy(Fg,e));if(i){v=q7(v,sy(c2,i))}m.initData(v,null,i?gL:function(v1){return v1.value});return m}y6(function(e){e.markPoint=e.markPoint||{}});sC.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"}});var yy=function(k,v,v2,Iu){var Z=k.getData();var e=Iu.type;if(!GL(Iu)&&(e==="min"||e==="max"||e==="average"||e==="median"||(Iu.xAxis!=null||Iu.yAxis!=null))){var It;var v3;var Is;if(Iu.yAxis!=null||Iu.xAxis!=null){v3=Iu.yAxis!=null?"y":"x";It=v.getAxis(v3);Is=gw(Iu.yAxis,Iu.xAxis)}else{var m=Ie(Iu,Z,v,k);v3=m.valueDataDim;It=m.valueAxis;Is=xe(Z,v3,e)}var Iq=v3==="x"?0:1;var Ir=1-Iq;var i=C9(Iu);var Iv={};i.type=null;i.coord=[];Iv.coord=[];i.coord[Ir]=-Infinity;Iv.coord[Ir]=Infinity;var v1=v2.get("precision");if(v1>=0&&typeof Is==="number"){Is=+Is.toFixed(Math.min(v1,20))}i.coord[Iq]=Iv.coord[Iq]=Is;Iu=[i,Iv,{type:e,valueIndex:Iu.valueIndex,value:Is}]}Iu=[Fg(k,Iu[0]),Fg(k,Iu[1]),b0({},Iu[2])];Iu[2].type=Iu[2].type||"";v7(Iu[2],Iu[0]);v7(Iu[2],Iu[1]);return Iu};function GW(e){return !isNaN(e)&&!isFinite(e)}function zZ(v,e,k,i){var Z=1-v;var m=i.dimensions[v];return GW(e[Z])&&GW(k[Z])&&e[v]===k[v]&&i.getAxis(m).containData(e[v])}function H4(k,m){if(k.type==="cartesian2d"){var e=m[0].coord;var i=m[1].coord;if(e&&i&&(zZ(1,e,i,k)||zZ(0,e,i,k))){return true}}return c2(k,m[0])&&c2(k,m[1])}function ij(v2,It,v1,v,v3){var Z=v.coordinateSystem;var Iv=v2.getItemModel(It);var Iu;var e=zS(Iv.get("x"),v3.getWidth());var m=zS(Iv.get("y"),v3.getHeight());if(!isNaN(e)&&!isNaN(m)){Iu=[e,m]}else{if(v.getMarkerPosition){Iu=v.getMarkerPosition(v2.getValues(v2.dimensions,It))}else{var Is=Z.dimensions;var Ir=v2.get(Is[0],It);var Iq=v2.get(Is[1],It);Iu=Z.dataToPoint([Ir,Iq])}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var Is=Z.dimensions;if(GW(v2.get(Is[0],It))){Iu[0]=k.toGlobalCoord(k.getExtent()[v1?0:1])}else{if(GW(v2.get(Is[1],It))){Iu[1]=i.toGlobalCoord(i.getExtent()[v1?0:1])}}}if(!isNaN(e)){Iu[0]=e}if(!isNaN(m)){Iu[1]=m}}v2.setItemLayout(It,Iu)}tm.extend({type:"markLine",updateTransform:function(i,e,k){e.eachSeries(function(v){var m=v.markLineModel;if(m){var v1=m.getData();var v2=m.__from;var Z=m.__to;v2.each(function(v3){ij(v2,v3,true,v,k);ij(Z,v3,false,v,k)});v1.each(function(v3){v1.setItemLayout(v3,[v2.getItemLayout(v3),Z.getItemLayout(v3)])});this.markerGroupMap.get(v.id).updateLayout()}},this)},renderSeries:function(m,Z,v1,v2){var v=m.coordinateSystem;var Is=m.id;var e=m.getData();var Iv=this.markerGroupMap;var v3=Iv.get(Is)||Iv.set(Is,new hy());this.group.add(v3.group);var Ir=aB(v,m,Z);var Iu=Ir.from;var Iq=Ir.to;var k=Ir.line;Z.__from=Iu;Z.__to=Iq;Z.setData(k);var Iw=Z.get("symbol");var i=Z.get("symbolSize");if(!GL(Iw)){Iw=[Iw,Iw]}if(typeof i==="number"){i=[i,i]}Ir.from.each(function(Ix){It(Iu,Ix,true);It(Iq,Ix,false)});k.each(function(Ix){var Iy=k.getItemModel(Ix).get("lineStyle.color");k.setItemVisual(Ix,{color:Iy||Iu.getItemVisual(Ix,"color")});k.setItemLayout(Ix,[Iu.getItemLayout(Ix),Iq.getItemLayout(Ix)]);k.setItemVisual(Ix,{fromSymbolSize:Iu.getItemVisual(Ix,"symbolSize"),fromSymbol:Iu.getItemVisual(Ix,"symbol"),toSymbolSize:Iq.getItemVisual(Ix,"symbolSize"),toSymbol:Iq.getItemVisual(Ix,"symbol")})});v3.updateData(k);Ir.line.eachItemGraphicEl(function(Iy,Ix){Iy.traverse(function(Iz){Iz.dataModel=Z})});function It(IA,Iy,Ix){var Iz=IA.getItemModel(Iy);ij(IA,Iy,Ix,m,v2);IA.setItemVisual(Iy,{symbolSize:Iz.get("symbolSize")||i[Ix?0:1],symbol:Iz.get("symbol",true)||Iw[Ix?0:1],color:Iz.get("itemStyle.color")||e.getVisual("color")})}v3.__keep=true;v3.group.silent=Z.get("silent")||m.get("silent")}});function aB(m,i,Z){var v1;if(m){v1=Ej(m&&m.dimensions,function(Iq){var Ir=i.getData().getDimensionInfo(i.getData().mapDimension(Iq))||{};return Di({name:Iq},Ir)})}else{v1=[{name:"value",type:"float"}]}var v3=new xw(v1,Z);var v2=new xw(v1,Z);var e=new xw([],Z);var k=Ej(Z.get("data"),sy(yy,i,m,Z));if(m){k=q7(k,sy(H4,m))}var v=m?gL:function(Iq){return Iq.value};v3.initData(Ej(k,function(Iq){return Iq[0]}),null,v);v2.initData(Ej(k,function(Iq){return Iq[1]}),null,v);e.initData(Ej(k,function(Iq){return Iq[2]}));e.hasItemOption=true;return{from:v3,to:v2,line:e}}y6(function(e){e.markLine=e.markLine||{}});sC.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}}});var gK=function(m,v,i,v2){var Z=Fg(m,v2[0]);var e=Fg(m,v2[1]);var Iq=gw;var v1=Z.coord;var k=e.coord;v1[0]=Iq(v1[0],-Infinity);v1[1]=Iq(v1[1],-Infinity);k[0]=Iq(k[0],Infinity);k[1]=Iq(k[1],Infinity);var v3=aa([{},Z,e]);v3.coord=[Z.coord,e.coord];v3.x0=Z.x;v3.y0=Z.y;v3.x1=e.x;v3.y1=e.y;return v3};function dD(e){return !isNaN(e)&&!isFinite(e)}function jJ(m,e,k,i){var v=1-m;return dD(e[v])&&dD(k[v])}function Cv(k,m){var e=m.coord[0];var i=m.coord[1];if(k.type==="cartesian2d"){if(e&&i&&(jJ(1,e,i,k)||jJ(0,e,i,k))){return true}}return c2(k,{coord:e,x:m.x0,y:m.y0})||c2(k,{coord:i,x:m.x1,y:m.y1})}function x2(v1,Is,Ir,v,v2){var Z=v.coordinateSystem;var Iu=v1.getItemModel(Is);var It;var e=zS(Iu.get(Ir[0]),v2.getWidth());var m=zS(Iu.get(Ir[1]),v2.getHeight());if(!isNaN(e)&&!isNaN(m)){It=[e,m]}else{if(v.getMarkerPosition){It=v.getMarkerPosition(v1.getValues(Ir,Is))}else{var Iq=v1.get(Ir[0],Is);var v3=v1.get(Ir[1],Is);var Iv=[Iq,v3];Z.clampData&&Z.clampData(Iv,Iv);It=Z.dataToPoint(Iv,true)}if(Z.type==="cartesian2d"){var k=Z.getAxis("x");var i=Z.getAxis("y");var Iq=v1.get(Ir[0],Is);var v3=v1.get(Ir[1],Is);if(dD(Iq)){It[0]=k.toGlobalCoord(k.getExtent()[Ir[0]==="x0"?0:1])}else{if(dD(v3)){It[1]=i.toGlobalCoord(i.getExtent()[Ir[1]==="y0"?0:1])}}}if(!isNaN(e)){It[0]=e}if(!isNaN(m)){It[1]=m}}return It}var gh=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];tm.extend({type:"markArea",updateTransform:function(k,e,i){e.eachSeries(function(v){var m=v.markAreaModel;if(m){var Z=m.getData();Z.each(function(v1){var v3=Ej(gh,function(Iq){return x2(Z,v1,Iq,v,i)});Z.setItemLayout(v1,v3);var v2=Z.getItemGraphicEl(v1);v2.setShape("points",v3)})}},this)},renderSeries:function(v,k,v1,v2){var Z=v.coordinateSystem;var Iq=v.id;var i=v.getData();var m=this.markerGroupMap;var e=m.get(Iq)||m.set(Iq,{group:new Cc()});this.group.add(e.group);e.__keep=true;var v3=aA(Z,v,k);k.setData(v3);v3.each(function(Ir){v3.setItemLayout(Ir,Ej(gh,function(Is){return x2(v3,Ir,Is,v,v2)}));v3.setItemVisual(Ir,{color:i.getVisual("color")})});v3.diff(e.__data).add(function(Ir){var Is=new ic({shape:{points:v3.getItemLayout(Ir)}});v3.setItemGraphicEl(Ir,Is);e.group.add(Is)}).update(function(It,Is){var Ir=e.__data.getItemGraphicEl(Is);oU(Ir,{shape:{points:v3.getItemLayout(It)}},k,It);e.group.add(Ir);v3.setItemGraphicEl(It,Ir)}).remove(function(Ir){var Is=e.__data.getItemGraphicEl(Ir);e.group.remove(Is)}).execute();v3.eachItemGraphicEl(function(Iu,Is){var Iv=v3.getItemModel(Is);var Iw=Iv.getModel("label");var Ir=Iv.getModel("emphasis.label");var It=v3.getItemVisual(Is,"color");Iu.useStyle(Di(Iv.getModel("itemStyle").getItemStyle(),{fill:im(It,0.4),stroke:It}));Iu.hoverStyle=Iv.getModel("emphasis.itemStyle").getItemStyle();BH(Iu.style,Iu.hoverStyle,Iw,Ir,{labelFetcher:k,labelDataIndex:Is,defaultText:v3.getName(Is)||"",isRectText:true,autoColor:It});yr(Iu,{});Iu.dataModel=k});e.__data=v3;e.group.silent=k.get("silent")||v.get("silent")}});function aA(Z,m,k){var v1;var v;var v2=["x0","y0","x1","y1"];if(Z){v1=Ej(Z&&Z.dimensions,function(v3){var Iq=m.getData();var Ir=Iq.getDimensionInfo(Iq.mapDimension(v3))||{};return Di({name:v3},Ir)});v=new xw(Ej(v2,function(Iq,v3){return{name:Iq,type:v1[v3%2].type}}),k)}else{v1=[{name:"value",type:"float"}];v=new xw(v1,k)}var i=Ej(k.get("data"),sy(gK,m,Z,k));if(Z){i=q7(i,sy(Cv,Z))}var e=Z?function(Iq,Is,v3,Ir){return Iq.coord[Math.floor(Ir/2)][Ir%2]}:function(v3){return v3.value};v.initData(i,null,e);v.hasItemOption=true;return v}y6(function(e){e.markArea=e.markArea||{}});var H3=function(i){var e=i&&i.timeline;if(!GL(e)){e=e?[e]:[]}pb(e,function(k){if(!k){return}x(k)})};function x(i){var k=i.type;var e={number:"value",time:"time"};if(e[k]){i.axisType=e[k];delete i.type}B8(i);if(oN(i,"controlPosition")){var m=i.controlStyle||(i.controlStyle={});if(!oN(m,"position")){m.position=i.controlPosition}if(m.position==="none"&&!oN(m,"show")){m.show=false;delete m.position}delete i.controlPosition}pb(i.data||[],function(v){if(tM(v)&&!GL(v)){if(!oN(v,"value")&&oN(v,"name")){v.value=v.name}B8(v)}})}function B8(m){var Z=m.itemStyle||(m.itemStyle={});var k=Z.emphasis||(Z.emphasis={});var i=m.label||(m.label||{});var v=i.normal||(i.normal={});var e={normal:1,emphasis:1};pb(i,function(v2,v1){if(!e[v1]&&!oN(v,v1)){v[v1]=v2}});if(k.label&&!oN(i,"emphasis")){i.emphasis=k.label;delete k.label}}function oN(i,e){return i.hasOwnProperty(e)}aH.registerSubTypeDefaulter("timeline",function(){return"slider"});b1({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(k,e){var i=e.getComponent("timeline");if(i&&k.currentIndex!=null){i.setCurrentIndex(k.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()){i.setPlayState(false)}}e.resetOption("timeline");return Di({currentIndex:i.option.currentIndex},k)});b1({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(k,e){var i=e.getComponent("timeline");if(i&&k.playState!=null){i.setPlayState(k.playState)}});var b4=aH.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(k,i,e){this._data;this._names;this.mergeDefaultAndTheme(k,e);this._initData()},mergeOption:function(e){b4.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var i=this._data.count();if(this.option.loop){e=(e%i+i)%i}else{e>=i&&(e=i-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var k=this.option;var m=k.data||[];var e=k.axisType;var Z=this._names=[];if(e==="category"){var i=[];pb(m,function(Iq,v2){var Ir=x0(Iq);var v3;if(tM(Iq)){v3=C9(Iq);v3.value=v2}else{v3=v2}i.push(v3);if(!we(Ir)&&(Ir==null||isNaN(Ir))){Ir=""}Z.push(Ir+"")});m=i}var v1=({category:"ordinal",time:"time"})[e]||"number";var v=this._data=new xw([{name:"value",type:v1}],this);v.initData(m,Z)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var P=b4.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:true,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});Gu(P,vb);var sU=sW.extend({type:"timeline"});var sq=function(k,m,i,e){BW.call(this,k,m,i);this.type=e||"value";this.model=null};sq.prototype={constructor:sq,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}};mt(sq,BW);var pv=ko;var tr=pb;var yE=Math.PI;sU.extend({type:"timeline.slider",init:function(e,i){this.api=i;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(Z,e,v,v2){this.model=Z;this.api=v;this.ecModel=e;this.group.removeAll();if(Z.get("show",true)){var v1=this._layout(Z,v);var k=this._createGroup("mainGroup");var i=this._createGroup("labelGroup");var m=this._axis=this._createAxis(v1,Z);Z.formatTooltip=function(v3){return mx(m.scale.getLabel(v3))};tr(["AxisLine","AxisTick","Control","CurrentPointer"],function(v3){this["_render"+v3](v1,k,m,Z)},this);this._renderAxisLabel(v1,i,m,Z);this._position(v1,Z)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(v2,Is){var k=v2.get("label.position");var v3=v2.get("orient");var Iz=rR(v2,Is);if(k==null||k==="auto"){k=v3==="horizontal"?((Iz.y+Iz.height/2)<Is.getHeight()/2?"-":"+"):((Iz.x+Iz.width/2)<Is.getWidth()/2?"+":"-")}else{if(isNaN(k)){k=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[v3][k]}}var Iw={horizontal:"center",vertical:(k>=0||k==="+")?"left":"right"};var v={horizontal:(k>=0||k==="+")?"top":"bottom",vertical:"middle"};var IF={horizontal:0,vertical:yE/2};var i=v3==="vertical"?Iz.height:Iz.width;var Iu=v2.getModel("controlStyle");var v1=Iu.get("show",true);var It=v1?Iu.get("itemSize"):0;var IB=v1?Iu.get("itemGap"):0;var ID=It+IB;var IA=v2.get("label.rotate")||0;IA=IA*yE/180;var IC;var m;var Iy;var Z;var Iv=Iu.get("position",true);var Ir=v1&&Iu.get("showPlayBtn",true);var Ix=v1&&Iu.get("showPrevBtn",true);var e=v1&&Iu.get("showNextBtn",true);var Iq=0;var IE=i;if(Iv==="left"||Iv==="bottom"){Ir&&(IC=[0,0],Iq+=ID);Ix&&(m=[Iq,0],Iq+=ID);e&&(Iy=[IE-It,0],IE-=ID)}else{Ir&&(IC=[IE-It,0],IE-=ID);Ix&&(m=[0,0],Iq+=ID);e&&(Iy=[IE-It,0],IE-=ID)}Z=[Iq,IE];if(v2.get("inverse")){Z.reverse()}return{viewRect:Iz,mainLength:i,orient:v3,rotation:IF[v3],labelRotation:IA,labelPosOpt:k,labelAlign:v2.get("label.align")||Iw[v3],labelBaseline:v2.get("label.verticalAlign")||v2.get("label.baseline")||v[v3],playPosition:IC,prevBtnPosition:m,nextBtnPosition:Iy,axisExtent:Z,controlSize:It,controlGap:IB}},_position:function(It,v3){var Z=this._mainGroup;var Is=this._labelGroup;var Iw=It.viewRect;if(It.orient==="vertical"){var Iv=CF();var i=Iw.x;var e=Iw.y+Iw.height;vp(Iv,Iv,[-i,-e]);kk(Iv,Iv,-yE/2);vp(Iv,Iv,[i,e]);Iw=Iw.clone();Iw.applyTransform(Iv)}var k=Iq(Iw);var Iz=Iq(Z.getBoundingRect());var v1=Iq(Is.getBoundingRect());var Iy=Z.position;var Ix=Is.position;Ix[0]=Iy[0]=k[0][0];var v=It.labelPosOpt;if(isNaN(v)){var Ir=v==="+"?0:1;v2(Iy,Iz,k,1,Ir);v2(Ix,v1,k,1,1-Ir)}else{var Ir=v>=0?0:1;v2(Iy,Iz,k,1,Ir);Ix[1]=Iy[1]+v}Z.attr("position",Iy);Is.attr("position",Ix);Z.rotation=Is.rotation=It.rotation;Iu(Z);Iu(Is);function Iu(m){var IA=m.position;m.origin=[k[0][0]-IA[0],k[1][0]-IA[1]]}function Iq(m){return[[m.x,m.x+m.width],[m.y,m.y+m.height]]}function v2(IB,ID,IC,IA,m){IB[IA]+=IC[IA][m]-ID[IA][m]}},_createAxis:function(Z,k){var v=k.getData();var e=k.get("axisType");var v1=ns(k,e);v1.getTicks=function(){return v.mapArray(["value"],function(v2){return v2})};var m=v.getDataExtent("value");v1.setExtent(m[0],m[1]);v1.niceTicks();var i=new sq("value",v1,Z.axisExtent,e);i.model=k;return i},_createGroup:function(e){var i=this["_"+e]=new Cc();this.group.add(i);return i},_renderAxisLine:function(m,k,e,i){var v=e.getExtent();if(!i.get("lineStyle.show")){return}k.add(new zG({shape:{x1:v[0],y1:0,x2:v[1],y2:0},style:b0({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(Z,v,e,k){var m=k.getData();var i=e.scale.getTicks();tr(i,function(It){var Ir=e.dataToCoord(It);var Iq=m.getItemModel(It);var Is=Iq.getModel("itemStyle");var v2=Iq.getModel("emphasis.itemStyle");var v1={position:[Ir,0],onclick:pv(this._changeTimeline,this,It)};var v3=nc(Iq,Is,v,v1);yr(v3,v2.getItemStyle());if(Iq.get("tooltip")){v3.dataIndex=It;v3.dataModel=k}else{v3.dataIndex=v3.dataModel=null}},this)},_renderAxisLabel:function(v,m,e,i){var Z=e.getLabelModel();if(!Z.get("show")){return}var k=i.getData();var v1=e.getViewLabels();tr(v1,function(Iq){var Ir=Iq.tickValue;var Iu=k.getItemModel(Ir);var v3=Iu.getModel("label");var v2=Iu.getModel("emphasis.label");var It=e.dataToCoord(Iq.tickValue);var Is=new iT({position:[It,0],rotation:v.labelRotation-v.rotation,onclick:pv(this._changeTimeline,this,Ir),silent:false});pg(Is.style,v3,{text:Iq.formattedLabel,textAlign:v.labelAlign,textVerticalAlign:v.labelBaseline});m.add(Is);yr(Is,pg({},v2))},this)},_renderControl:function(k,Ir,i,e){var Z=k.controlSize;var Is=k.rotation;var v2=e.getModel("controlStyle").getItemStyle();var m=e.getModel("emphasis.controlStyle").getItemStyle();var v3=[0,-Z/2,Z,Z];var Iq=e.getPlayState();var v=e.get("inverse",true);v1(k.nextBtnPosition,"controlStyle.nextIcon",pv(this._changeTimeline,this,v?"-":"+"));v1(k.prevBtnPosition,"controlStyle.prevIcon",pv(this._changeTimeline,this,v?"+":"-"));v1(k.playPosition,"controlStyle."+(Iq?"stopIcon":"playIcon"),pv(this._handlePlayClick,this,!Iq),true);function v1(It,Ix,Iu,Iy){if(!It){return}var Iw={position:It,origin:[Z/2,0],rotation:Iy?-Is:0,rectHover:true,style:v2,onclick:Iu};var Iv=de(e,Ix,v3,Iw);Ir.add(Iv);yr(Iv,m)}},_renderCurrentPointer:function(m,v2,k,e){var v=e.getData();var Z=e.getCurrentIndex();var i=v.getItemModel(Z).getModel("checkpointStyle");var v1=this;var v3={onCreate:function(Iq){Iq.draggable=true;Iq.drift=pv(v1._handlePointerDrag,v1);Iq.ondragend=pv(v1._handlePointerDragend,v1);ux(Iq,Z,k,e,true)},onUpdate:function(Iq){ux(Iq,Z,k,e)}};this._currentPointer=nc(i,i,this._mainGroup,{},this._currentPointer,v3)},_handlePlayClick:function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(k,i,m){this._clearTimer();this._pointerChangeTimeline([m.offsetX,m.offsetY])},_handlePointerDragend:function(i){this._pointerChangeTimeline([i.offsetX,i.offsetY],true)},_pointerChangeTimeline:function(e,i){var k=this._toAxisCoord(e)[0];var m=this._axis;var v1=o9(m.getExtent().slice());k>v1[1]&&(k=v1[1]);k<v1[0]&&(k=v1[0]);this._currentPointer.position[0]=k;this._currentPointer.dirty();var Z=this._findNearestTick(k);var v=this.model;if(i||(Z!==v.getCurrentIndex()&&v.get("realtime"))){this._changeTimeline(Z)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(pv(e,this),this.model.get("playInterval"))}function e(){var i=this.model;this._changeTimeline(i.getCurrentIndex()+(i.get("rewind",true)?-1:1))}},_toAxisCoord:function(i){var e=this._mainGroup.getLocalTransform();return wa(i,e,true)},_findNearestTick:function(e){var k=this.model.getData();var v=Infinity;var m;var i=this._axis;k.each(["value"],function(v1,Z){var v3=i.dataToCoord(v1);var v2=Math.abs(v3-e);if(v2<v){v=v2;m=Z}});return m},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(e){var i=this.model.getCurrentIndex();if(e==="+"){e=i+1}else{if(e==="-"){e=i-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function rR(e,i){return kX(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}function de(v,e,m,k){var i=Bh(v.get(e).replace(/^path:\/\//,""),C9(k||{}),new CL(m[0],m[1],m[2],m[3]),"center");return i}function nc(i,Z,Ir,e,m,Is){var v=Z.get("color");if(!m){var It=i.get("symbol");m=uc(It,-1,-1,2,2,v);m.setStyle("strokeNoScale",true);Ir.add(m);Is&&Is.onCreate(m)}else{m.setColor(v);Ir.add(m);Is&&Is.onUpdate(m)}var v1=Z.getItemStyle(["color","symbol","symbolSize"]);m.setStyle(v1);e=v7({rectHover:true,z2:100},e,true);var k=i.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k];k[0]/=2;k[1]/=2;e.scale=k;var v3=i.get("symbolOffset");if(v3){var Iq=e.position=e.position||[0,0];Iq[0]+=zS(v3[0],k[0]);Iq[1]+=zS(v3[1],k[1])}var v2=i.get("symbolRotate");e.rotation=(v2||0)*Math.PI/180||0;m.attr(e);m.updateTransform();return m}function ux(v1,m,v,Z,i){if(v1.dragging){return}var e=Z.getModel("checkpointStyle");var k=v.dataToCoord(Z.getData().get(["value"],m));if(i||!e.get("animation",true)){v1.attr({position:[k,0]})}else{v1.stopAnimation(true);v1.animateTo({position:[k,0]},e.get("animationDuration",true),e.get("animationEasing",true))}}y6(H3);var kJ=p5({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},optionUpdated:function(){kJ.superApply(this,"optionUpdated",arguments);pb(this.option.feature,function(k,i){var e=a1(i);e&&v7(k,e.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});qB({type:"toolbox",render:function(Z,k,m,v2){var v3=this.group;v3.removeAll();if(!Z.get("show")){return}var Iq=+Z.get("itemSize");var Ir=Z.get("feature")||{};var i=this._features||(this._features={});var e=[];pb(Ir,function(It,Is){e.push(Is)});(new GB(this._featureNames||[],e)).add(v1).update(v1).remove(sy(v1,null)).execute();this._featureNames=e;function v1(Iv,Iz){var It=e[Iv];var Iw=e[Iz];var Iy=Ir[It];var Ix=new fx(Iy,Z,Z.ecModel);var Iu;if(It&&!Iw){if(r2(It)){Iu={model:Ix,onclick:Ix.option.onclick,featureName:It}}else{var Is=a1(It);if(!Is){return}Iu=new Is(Ix,k,m)}i[It]=Iu}else{Iu=i[Iw];if(!Iu){return}Iu.model=Ix;Iu.ecModel=k;Iu.api=m}if(!It&&Iw){Iu.dispose&&Iu.dispose(k,m);return}if(!Ix.get("show")||Iu.unusable){Iu.remove&&Iu.remove(k,m);return}v(Ix,Iu,It);Ix.setIconStatus=function(ID,IA){var IC=this.option;var IB=this.iconPaths;IC.iconStatus=IC.iconStatus||{};IC.iconStatus[ID]=IA;IB[ID]&&IB[ID].trigger(IA)};if(Iu.render){Iu.render(Ix,k,m,v2)}}function v(Iz,IB,IA){var Iu=Iz.getModel("iconStyle");var Is=Iz.getModel("emphasis.iconStyle");var Iy=IB.getIcons?IB.getIcons():Iz.get("icon");var Iv=Iz.get("title")||{};if(typeof Iy==="string"){var Iw=Iy;var Ix=Iv;Iy={};Iv={};Iy[IA]=Iw;Iv[IA]=Ix}var It=Iz.iconPaths={};pb(Iy,function(IC,IE){var ID=Gf(IC,{},{x:-Iq/2,y:-Iq/2,width:Iq,height:Iq});ID.setStyle(Iu.getItemStyle());ID.hoverStyle=Is.getItemStyle();yr(ID);if(Z.get("showTitle")){ID.__title=Iv[IE];ID.on("mouseover",function(){var IF=Is.getItemStyle();ID.setStyle({text:Iv[IE],textPosition:IF.textPosition||"bottom",textFill:IF.fill||IF.stroke||"#000",textAlign:IF.textAlign||"center"})}).on("mouseout",function(){ID.setStyle({textFill:null})})}ID.trigger(Iz.get("iconStatus."+IE)||"normal");v3.add(ID);ID.on("click",ko(IB.onclick,IB,k,m,IE));It[IE]=ID})}ef(v3,Z,m);v3.add(As(v3.getBoundingRect(),Z));v3.eachChild(function(Iw){var It=Iw.__title;var Iy=Iw.hoverStyle;if(Iy&&It){var Ix=Gv(It,pB(Iy));var Is=Iw.position[0]+v3.position[0];var Iz=Iw.position[1]+v3.position[1]+Iq;var Iv=false;if(Iz+Ix.height>m.getHeight()){Iy.textPosition="top";Iv=true}var Iu=Iv?(-5-Ix.height):(Iq+8);if(Is+Ix.width/2>m.getWidth()){Iy.textPosition=["100%",Iu];Iy.textAlign="right"}else{if(Is-Ix.width/2<0){Iy.textPosition=[0,Iu];Iy.textAlign="left"}}}})},updateView:function(m,e,i,k){pb(this._features,function(v){v.updateView&&v.updateView(v.model,e,i,k)})},remove:function(e,i){pb(this._features,function(k){k.remove&&k.remove(e,i)});this.group.removeAll()},dispose:function(e,i){pb(this._features,function(k){k.dispose&&k.dispose(e,i)})}});function r2(e){return e.indexOf("my")===0}var ot=Cr.toolbox.saveAsImage;function pr(e){this.model=e}pr.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:ot.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:ot.lang.slice()};pr.prototype.unusable=!sZ.canvasSupported;var cc=pr.prototype;cc.onclick=function(v3,Iq){var v2=this.model;var It=v2.get("name")||v3.get("title.0.text")||"echarts";var Z=document.createElement("a");var Is=v2.get("type",true)||"png";Z.download=It+"."+Is;Z.target="_blank";var i=Iq.getConnectedDataURL({type:Is,backgroundColor:v2.get("backgroundColor",true)||v3.get("backgroundColor")||"#fff",excludeComponents:v2.get("excludeComponents"),pixelRatio:v2.get("pixelRatio")});Z.href=i;if(typeof MouseEvent==="function"&&!sZ.browser.ie&&!sZ.browser.edge){var Iu=new MouseEvent("click",{view:window,bubbles:true,cancelable:false});Z.dispatchEvent(Iu)}else{if(window.navigator.msSaveOrOpenBlob){var k=atob(i.split(",")[1]);var v=k.length;var Ir=new Uint8Array(v);while(v--){Ir[v]=k.charCodeAt(v)}var e=new Blob([Ir]);window.navigator.msSaveOrOpenBlob(e,It+"."+Is)}else{var Iv=v2.get("lang");var v1='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+((Iv&&Iv[0])||"")+'" /></body>';var m=window.open();m.document.write(v1)}}};aF("saveAsImage",pr);var tf=Cr.toolbox.magicType;function mI(e){this.model=e}mI.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:C9(tf.title),option:{},seriesIndex:{}};var cb=mI.prototype;cb.getIcons=function(){var e=this.model;var k=e.get("icon");var i={};pb(e.get("type"),function(m){if(k[m]){i[m]=k[m]}});return i};var uw={line:function(i,m,e,k){if(i==="bar"){return v7({id:m,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.line")||{},true)}},bar:function(i,m,e,k){if(i==="line"){return v7({id:m,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.bar")||{},true)}},stack:function(i,m,e,k){if(i==="line"||i==="bar"){return v7({id:m,stack:"__ec_magicType_stack__"},k.get("option.stack")||{},true)}},tiled:function(i,m,e,k){if(i==="line"||i==="bar"){return v7({id:m,stack:""},k.get("option.tiled")||{},true)}}};var sb=[["line","bar"],["stack","tiled"]];cb.onclick=function(e,v,m){var k=this.model;var i=k.get("seriesIndex."+m);if(!uw[m]){return}var Z={series:[]};var v1=function(v2){var Iq=v2.subType;var Iv=v2.id;var Iy=uw[m](Iq,Iv,v2,k);if(Iy){Di(Iy,v2.option);Z.series.push(Iy)}var v3=v2.coordinateSystem;if(v3&&v3.type==="cartesian2d"&&(m==="line"||m==="bar")){var Is=v3.getAxesByScale("ordinal")[0];if(Is){var It=Is.dim;var Iw=It+"Axis";var Iu=e.queryComponents({mainType:Iw,index:v2.get(name+"Index"),id:v2.get(name+"Id")})[0];var Ix=Iu.componentIndex;Z[Iw]=Z[Iw]||[];for(var Ir=0;Ir<=Ix;Ir++){Z[Iw][Ix]=Z[Iw][Ix]||{}}Z[Iw][Ix].boundaryGap=m==="bar"}}};pb(sb,function(v2){if(eR(v2,m)>=0){pb(v2,function(v3){k.setIconStatus(v3,"normal")})}});k.setIconStatus(m,"emphasis");e.eachComponent({mainType:"series",query:i==null?null:{seriesIndex:i}},v1);v.dispatchAction({type:"changeMagicType",currentType:m,newOption:Z})};b1({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});aF("magicType",mI);var Er=Cr.toolbox.dataView;var fr=new Array(60).join("-");var HS="\t";function e5(e){var i={};var m=[];var k=[];e.eachRawSeries(function(v){var v1=v.coordinateSystem;if(v1&&(v1.type==="cartesian2d"||v1.type==="polar")){var v2=v1.getBaseAxis();if(v2.type==="category"){var Z=v2.dim+"_"+v2.index;if(!i[Z]){i[Z]={categoryAxis:v2,valueAxis:v1.getOtherAxis(v2),series:[]};k.push({axisDim:v2.dim,axisIndex:v2.index})}i[Z].series.push(v)}else{m.push(v)}}else{m.push(v)}});return{seriesGroupByCategoryAxis:i,other:m,meta:k}}function jC(i){var e=[];pb(i,function(Iq,Ir){var v1=Iq.categoryAxis;var Is=Iq.valueAxis;var v2=Is.dim;var k=[" "].concat(Ej(Iq.series,function(Iu){return Iu.name}));var m=[v1.model.getCategories()];pb(Iq.series,function(Iu){m.push(Iu.getRawData().mapArray(v2,function(Iv){return Iv}))});var It=[k.join(HS)];for(var Z=0;Z<m[0].length;Z++){var v3=[];for(var v=0;v<m.length;v++){v3.push(m[v][Z])}It.push(v3.join(HS))}e.push(It.join("\n"))});return e.join("\n\n"+fr+"\n\n")}function lO(e){return Ej(e,function(k){var v=k.getRawData();var i=[k.name];var m=[];v.each(v.dimensions,function(){var Z=arguments.length;var v3=arguments[Z-1];var v1=v.getName(v3);for(var v2=0;v2<Z-1;v2++){m[v2]=arguments[v2]}i.push((v1?(v1+HS):"")+m.join(HS))});return i.join("\n")}).join("\n\n"+fr+"\n\n")}function xa(i){var e=e5(i);return{value:q7([jC(e.seriesGroupByCategoryAxis),lO(e.other)],function(k){return k.replace(/[\n\t\s]/g,"")}).join("\n\n"+fr+"\n\n"),meta:e.meta}}function cy(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zp(i){var e=i.slice(0,i.indexOf("\n"));if(e.indexOf(HS)>=0){return true}}var yv=new RegExp("["+HS+"]+","g");function H8(v3){var v1=v3.split(/\n+/g);var v2=cy(v1.shift()).split(yv);var k=[];var Z=Ej(v2,function(i){return{name:i,data:[]}});for(var v=0;v<v1.length;v++){var e=cy(v1[v]).split(yv);k.push(e.shift());for(var m=0;m<e.length;m++){Z[m]&&(Z[m].data[v]=e[m])}}return{series:Z,categories:k}}function di(v2){var Ir=v2.split(/\n+/g);var v3=cy(Ir.shift());var m=[];for(var v=0;v<Ir.length;v++){var v1=cy(Ir[v]).split(yv);var e="";var Iq;var Z=false;if(isNaN(v1[0])){Z=true;e=v1[0];v1=v1.slice(1);m[v]={name:e,value:[]};Iq=m[v].value}else{Iq=m[v]=[]}for(var k=0;k<v1.length;k++){Iq.push(+v1[k])}if(Iq.length===1){Z?(m[v].value=Iq[0]):(m[v]=Iq[0])}}return{name:v3,data:m}}function Go(m,k){var i=m.split(new RegExp("\n*"+fr+"\n*","g"));var e={series:[]};pb(i,function(v3,Z){if(zp(v3)){var v=H8(v3);var v2=k[Z];var v1=v2.axisDim+"Axis";if(v2){e[v1]=e[v1]||[];e[v1][v2.axisIndex]={data:v.categories};e.series=e.series.concat(v.series)}}else{var v=di(v3);e.series.push(v)}});return e}function md(e){this._dom=null;this.model=e}md.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:C9(Er.title),lang:C9(Er.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};md.prototype.onclick=function(IA,v2){var v1=v2.getDom();var k=this.model;if(this._dom){v1.removeChild(this._dom)}var Is=document.createElement("div");Is.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";Is.style.backgroundColor=k.get("backgroundColor")||"#fff";var Iu=document.createElement("h4");var m=k.get("lang")||[];Iu.innerHTML=m[0]||k.get("title");Iu.style.cssText="margin: 10px 20px;";Iu.style.color=k.get("textColor");var Iz=document.createElement("div");var Iq=document.createElement("textarea");Iz.style.cssText="display:block;width:100%;overflow:auto;";var It=k.get("optionToContent");var v=k.get("contentToOption");var Z=xa(IA);if(typeof It==="function"){var Iy=It(v2.getOption());if(typeof Iy==="string"){Iz.innerHTML=Iy}else{if(ay(Iy)){Iz.appendChild(Iy)}}}else{Iz.appendChild(Iq);Iq.readOnly=k.get("readOnly");Iq.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";Iq.style.color=k.get("textColor");Iq.style.borderColor=k.get("textareaBorderColor");Iq.style.backgroundColor=k.get("textareaColor");Iq.value=Z.value}var Iw=Z.meta;var Iv=document.createElement("div");Iv.style.cssText="position:absolute;bottom:0;left:0;right:0;";var Ix="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var e=document.createElement("div");var i=document.createElement("div");Ix+=";background-color:"+k.get("buttonColor");Ix+=";color:"+k.get("buttonTextColor");var Ir=this;function v3(){v1.removeChild(Is);Ir._dom=null}ft(e,"click",v3);ft(i,"click",function(){var IB;try{if(typeof v==="function"){IB=v(Iz,v2.getOption())}else{IB=Go(Iq.value,Iw)}}catch(IC){v3();throw new Error("Data view format error "+IC)}if(IB){v2.dispatchAction({type:"changeDataView",newOption:IB})}v3()});e.innerHTML=m[1];i.innerHTML=m[2];i.style.cssText=Ix;e.style.cssText=Ix;!k.get("readOnly")&&Iv.appendChild(i);Iv.appendChild(e);ft(Iq,"keydown",function(IC){if((IC.keyCode||IC.which)===9){var ID=this.value;var IE=this.selectionStart;var IB=this.selectionEnd;this.value=ID.substring(0,IE)+HS+ID.substring(IB);this.selectionStart=this.selectionEnd=IE+1;GV(IC)}});Is.appendChild(Iu);Is.appendChild(Iz);Is.appendChild(Iv);Iz.style.height=(v1.clientHeight-80)+"px";v1.appendChild(Is);this._dom=Is};md.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)};md.prototype.dispose=function(e,i){this.remove(e,i)};function sr(e,i){return Ej(e,function(m,k){var v=i&&i[k];if(tM(v)&&!GL(v)){if(tM(m)&&!GL(m)){m=m.value}return Di({value:m},v)}else{return m}})}aF("dataView",md);b1({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(k,e){var i=[];pb(k.newOption.series,function(m){var v=e.getSeriesByName(m.name)[0];if(!v){i.push(b0({type:"scatter"},m))}else{var Z=v.get("data");i.push({name:m.name,data:sr(m.data,Z)})}});e.mergeOption(Di({series:i},k.newOption))});var tl=pb;var bo="\0_ec_hist_store";function yk(e,k){var i=oE(e);tl(k,function(v2,v){var v1=i.length-1;for(;v1>=0;v1--){var Z=i[v1];if(Z[v]){break}}if(v1<0){var v3=e.queryComponents({mainType:"dataZoom",subType:"select",id:v})[0];if(v3){var m=v3.getPercentRange();i[0][v]={dataZoomId:v,start:m[0],end:m[1]}}}});i.push(k)}function Bx(e){var k=oE(e);var m=k[k.length-1];k.length>1&&k.pop();var i={};tl(m,function(v1,v){for(var Z=k.length-1;Z>=0;Z--){var v1=k[Z][v];if(v1){i[v]=v1;break}}});return i}function Et(e){e[bo]=null}function DB(e){return oE(e).length}function oE(e){var i=e[bo];if(!i){i=e[bo]=[{}]}return i}yF.extend({type:"dataZoom.select"});Ea.extend({type:"dataZoom.select"});var mU=Cr.toolbox.dataZoom;var to=pb;var dn="\0_ec_\0toolbox-dataZoom_";function ue(i,e,k){(this._brushController=new kz(k.getZr())).on("brush",ko(this._onBrush,this)).mount();this._isZoomActive}ue.defaultOption={show:true,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:C9(mU.title)};var ca=ue.prototype;ca.render=function(m,e,i,k){this.model=m;this.ecModel=e;this.api=i;hY(m,e,this,k,i);qI(m,e)};ca.onclick=function(e,k,i){q5[i].call(this)};ca.remove=function(e,i){this._brushController.unmount()};ca.dispose=function(e,i){this._brushController.dispose()};var q5={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(Bx(this.ecModel))}};ca._onBrush=function(k,v){if(!v.isEnd||!k.length){return}var i={};var e=this.ecModel;this._brushController.updateCovers([]);var v1=new Dq(pL(this.model.option),e,{include:["grid"]});v1.matchOutputRanges(k,e,function(v3,Ir,v2){if(v2.type!=="cartesian2d"){return}var Iq=v3.brushType;if(Iq==="rect"){Z("x",v2,Ir[0]);Z("y",v2,Ir[1])}else{Z(({lineX:"x",lineY:"y"})[Iq],v2,Ir)}});yk(e,i);this._dispatchZoomAction(i);function Z(It,Iq,v2){var Ir=Iq.getAxis(It);var v3=Ir.model;var Iu=m(It,v3,e);var Is=Iu.findRepresentativeAxisProxy(v3).getMinMaxSpan();if(Is.minValueSpan!=null||Is.maxValueSpan!=null){v2=nx(0,v2.slice(),Ir.scale.getExtent(),0,Is.minValueSpan,Is.maxValueSpan)}Iu&&(i[Iu.id]={dataZoomId:Iu.id,startValue:v2[0],endValue:v2[1]})}function m(Ir,v3,v2){var Iq;v2.eachComponent({mainType:"dataZoom",subType:"select"},function(It){var Is=It.getAxisModel(Ir,v3.componentIndex);Is&&(Iq=It)});return Iq}};ca._dispatchZoomAction=function(e){var i=[];to(e,function(m,k){i.push(C9(m))});i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})};function pL(i){var e={};pb(["xAxisIndex","yAxisIndex"],function(k){e[k]=i[k];e[k]==null&&(e[k]="all");(e[k]===false||e[k]==="none")&&(e[k]=[])});return e}function qI(i,e){i.setIconStatus("back",DB(e)>1?"emphasis":"normal")}function hY(Z,e,i,v,m){var v1=i._isZoomActive;if(v&&v.type==="takeGlobalCursor"){v1=v.key==="dataZoomSelect"?v.dataZoomSelectActive:false}i._isZoomActive=v1;Z.setIconStatus("zoom",v1?"emphasis":"normal");var k=new Dq(pL(Z.option),e,{include:["grid"]});i._brushController.setPanels(k.makePanelOpts(m,function(v2){return(v2.xAxisDeclared&&!v2.yAxisDeclared)?"lineX":(!v2.xAxisDeclared&&v2.yAxisDeclared)?"lineY":"rect"})).enableBrush(v1?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:false)}aF("dataZoom",ue);y6(function(k){if(!k){return}var v=k.dataZoom||(k.dataZoom=[]);if(!GL(v)){k.dataZoom=v=[v]}var Z=k.toolbox;if(Z){if(GL(Z)){Z=Z[0]}if(Z&&Z.feature){var i=Z.feature.dataZoom;e("xAxis",i);e("yAxis",i)}}function e(Iq,v2){if(!v2){return}var v1=Iq+"Index";var v3=v2[v1];if(v3!=null&&v3!=="all"&&!GL(v3)){v3=(v3===false||v3==="none")?[]:[v3]}m(Iq,function(Ir,Is){if(v3!=null&&v3!=="all"&&eR(v3,Is)===-1){return}var It={type:"select",$fromToolbox:true,id:dn+Iq+Is};It[v1]=Is;v.push(It)})}function m(v3,v1){var v2=k[v3];if(!GL(v2)){v2=v2?[v2]:[]}to(v2,v1)}});var tG=Cr.toolbox.restore;function vT(e){this.model=e}vT.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:tG.title};var b9=vT.prototype;b9.onclick=function(e,k,i){Et(e);k.dispatchAction({type:"restore",from:this.uid})};aF("restore",vT);b1({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var f2="urn:schemas-microsoft-com:vml";var wK=typeof window==="undefined"?null:window;var zw=false;var sE=wK&&wK.document;function Bo(e){return cI(e)}var cI;if(sE&&!sZ.canvasSupported){try{!sE.namespaces.zrvml&&sE.namespaces.add("zrvml",f2);cI=function(e){return sE.createElement("<zrvml:"+e+' class="zrvml">')}}catch(Hp){cI=function(e){return sE.createElement("<"+e+' xmlns="'+f2+'" class="zrvml">')}}}function xS(){if(zw||!sE){return}zw=true;var e=sE.styleSheets;if(e.length<31){sE.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{e[0].addRule(".zrvml","behavior:url(#default#VML)")}}var FT=j7.CMD;var FM=Math.round;var DK=Math.sqrt;var B5=Math.abs;var DF=Math.cos;var Fy=Math.sin;var AI=Math.max;if(!sZ.canvasSupported){var mk=",";var bT="progid:DXImageTransform.Microsoft";var Hw=21600;var bQ=Hw/2;var ch=100000;var De=1000;var td=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";e.coordsize=Hw+","+Hw;e.coordorigin="0,0"};var B4=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var sH=function(k,i,e){return"rgb("+[k,i,e].join(",")+")"};var le=function(e,i){if(i&&e&&i.parentNode!==e){e.appendChild(i)}};var be=function(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}};var d1=function(e,k,i){return(parseFloat(e)||0)*ch+(parseFloat(k)||0)*De+i};var zM=function(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e};var ld=function(k,e,i){var m=eY(e);i=+i;if(isNaN(i)){i=1}if(m){k.color=sH(m[0],m[1],m[2]);k.opacity=i*m[3]}};var ey=function(e){var i=eY(e);return[sH(i[0],i[1],i[2]),i[3]]};var gS=function(v,IJ,Is){var IG=IJ.fill;if(IG!=null){if(IG instanceof lX){var v3;var IM=0;var IA=[0,0];var II=0;var IB=1;var m=Is.getBoundingRect();var e=m.width;var IF=m.height;if(IG.type==="linear"){v3="gradient";var Iv=Is.transform;var Z=[IG.x*e,IG.y*IF];var k=[IG.x2*e,IG.y2*IF];if(Iv){aY(Z,Z,Iv);aY(k,k,Iv)}var Iu=k[0]-Z[0];var It=k[1]-Z[1];IM=Math.atan2(Iu,It)*180/Math.PI;if(IM<0){IM+=360}if(IM<0.000001){IM=0}}else{v3="gradientradial";var Z=[IG.x*e,IG.y*IF];var Iv=Is.transform;var v2=Is.scale;var IC=e;var Iz=IF;IA=[(Z[0]-m.x)/IC,(Z[1]-m.y)/Iz];if(Iv){aY(Z,Z,Iv)}IC/=v2[0]*Hw;Iz/=v2[1]*Hw;var IN=AI(IC,Iz);II=2*0/IN;IB=2*IG.r/IN-II}var Iq=IG.colorStops.slice();Iq.sort(function(IO,i){return IO.offset-i.offset});var Iy=Iq.length;var IE=[];var Ir=[];for(var IH=0;IH<Iy;IH++){var ID=Iq[IH];var v1=ey(ID.color);Ir.push(ID.offset*IB+II+" "+v1[0]);if(IH===0||IH===Iy-1){IE.push(v1)}}if(Iy>=2){var IL=IE[0][0];var IK=IE[1][0];var Ix=IE[0][1]*IJ.opacity;var Iw=IE[1][1]*IJ.opacity;v.type=v3;v.method="none";v.focus="100%";v.angle=IM;v.color=IL;v.color2=IK;v.colors=Ir.join(",");v.opacity=Iw;v.opacity2=Ix}if(v3==="radial"){v.focusposition=IA.join(",")}}else{ld(v,IG,IJ.opacity)}}};var p8=function(i,e){if(e.lineDash!=null){i.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof lX)){ld(i,e.stroke,e.opacity)}};var sP=function(e,m,k,Z){var v=m=="fill";var i=e.getElementsByTagName(m)[0];if(k[m]!=null&&k[m]!=="none"&&(v||(!v&&k.lineWidth))){e[v?"filled":"stroked"]="true";if(k[m] instanceof lX){be(e,i)}if(!i){i=Bo(m)}v?gS(i,k,Z):p8(i,k);le(e,i)}else{e[v?"filled":"stroked"]="false";be(e,i)}};var DM=[[],[],[]];var oD=function(IK,IN){var v2=FT.M;var It=FT.C;var Iq=FT.L;var Iw=FT.A;var v=FT.Q;var IF=[];var Z;var IG;var IQ;var IP;var II;var IA;var IU=IK.data;var Is=IK.len();for(IP=0;IP<Is;){IQ=IU[IP++];IG="";Z=0;switch(IQ){case v2:IG=" m ";Z=1;II=IU[IP++];IA=IU[IP++];DM[0][0]=II;DM[0][1]=IA;break;case Iq:IG=" l ";Z=1;II=IU[IP++];IA=IU[IP++];DM[0][0]=II;DM[0][1]=IA;break;case v:case It:IG=" c ";Z=3;var Ix=IU[IP++];var IY=IU[IP++];var Iv=IU[IP++];var IW=IU[IP++];var Iu;var IV;if(IQ===v){Iu=Iv;IV=IW;Iv=(Iv+2*Ix)/3;IW=(IW+2*IY)/3;Ix=(II+2*Ix)/3;IY=(IA+2*IY)/3}else{Iu=IU[IP++];IV=IU[IP++]}DM[0][0]=Ix;DM[0][1]=IY;DM[1][0]=Iv;DM[1][1]=IW;DM[2][0]=Iu;DM[2][1]=IV;II=Iu;IA=IV;break;case Iw:var IJ=0;var IH=0;var Ir=1;var v3=1;var Iz=0;if(IN){IJ=IN[4];IH=IN[5];Ir=DK(IN[0]*IN[0]+IN[1]*IN[1]);v3=DK(IN[2]*IN[2]+IN[3]*IN[3]);Iz=Math.atan2(-IN[1]/v3,IN[0]/Ir)}var IC=IU[IP++];var IB=IU[IP++];var IE=IU[IP++];var ID=IU[IP++];var v1=IU[IP++]+Iz;var IR=IU[IP++]+v1+Iz;IP++;var IM=IU[IP++];var Iy=IC+DF(v1)*IE;var e=IB+Fy(v1)*ID;var Ix=IC+DF(IR)*IE;var IY=IB+Fy(IR)*ID;var IX=IM?" wa ":" at ";if(Math.abs(Iy-Ix)<0.0001){if(Math.abs(IR-v1)>0.01){if(IM){Iy+=270/Hw}}else{if(Math.abs(e-IB)<0.0001){if((IM&&Iy<IC)||(!IM&&Iy>IC)){IY-=270/Hw}else{IY+=270/Hw}}else{if((IM&&e<IB)||(!IM&&e>IB)){Ix+=270/Hw}else{Ix-=270/Hw}}}}IF.push(IX,FM(((IC-IE)*Ir+IJ)*Hw-bQ),mk,FM(((IB-ID)*v3+IH)*Hw-bQ),mk,FM(((IC+IE)*Ir+IJ)*Hw-bQ),mk,FM(((IB+ID)*v3+IH)*Hw-bQ),mk,FM((Iy*Ir+IJ)*Hw-bQ),mk,FM((e*v3+IH)*Hw-bQ),mk,FM((Ix*Ir+IJ)*Hw-bQ),mk,FM((IY*v3+IH)*Hw-bQ));II=Ix;IA=IY;break;case FT.R:var IT=DM[0];var IS=DM[1];IT[0]=IU[IP++];IT[1]=IU[IP++];IS[0]=IT[0]+IU[IP++];IS[1]=IT[1]+IU[IP++];if(IN){aY(IT,IT,IN);aY(IS,IS,IN)}IT[0]=FM(IT[0]*Hw-bQ);IS[0]=FM(IS[0]*Hw-bQ);IT[1]=FM(IT[1]*Hw-bQ);IS[1]=FM(IS[1]*Hw-bQ);IF.push(" m ",IT[0],mk,IT[1]," l ",IS[0],mk,IT[1]," l ",IS[0],mk,IS[1]," l ",IT[0],mk,IS[1]);break;case FT.Z:IF.push(" x ")}if(Z>0){IF.push(IG);for(var IO=0;IO<Z;IO++){var IL=DM[IO];IN&&aY(IL,IL,IN);IF.push(FM(IL[0]*Hw-bQ),mk,FM(IL[1]*Hw-bQ),IO<Z-1?mk:"")}}}return IF.join("")};mo.prototype.brushVML=function(v){var i=this.style;var k=this._vmlEl;if(!k){k=Bo("shape");td(k);this._vmlEl=k}sP(k,"fill",i,this);sP(k,"stroke",i,this);var Z=this.transform;var e=Z!=null;var v3=k.getElementsByTagName("stroke")[0];if(v3){var v1=i.lineWidth;if(e&&!i.strokeNoScale){var v2=Z[0]*Z[3]-Z[1]*Z[2];v1*=DK(B5(v2))}v3.weight=v1+"px"}var Iq=this.path||(this.path=new j7());if(this.__dirtyPath){Iq.beginPath();this.buildPath(Iq,this.shape);Iq.toStatic();this.__dirtyPath=false}k.path=oD(Iq,this.transform);k.style.zIndex=d1(this.zlevel,this.z,this.z2);le(v,k);if(i.text!=null){this.drawRectText(v,this.getBoundingRect())}else{this.removeRectText(v)}};mo.prototype.onRemove=function(e){be(e,this._vmlEl);this.removeRectText(e)};mo.prototype.onAdd=function(e){le(e,this._vmlEl);this.appendRectText(e)};var Ga=function(e){return(typeof e==="object")&&e.tagName&&e.tagName.toUpperCase()==="IMG"};Fx.prototype.brushVML=function(Iu){var IL=this.style;var k=IL.image;var IC;var IH;if(Ga(k)){var Iz=k.src;if(Iz===this._imageSrc){IC=this._imageWidth;IH=this._imageHeight}else{var IB=k.runtimeStyle;var IF=IB.width;var It=IB.height;IB.width="auto";IB.height="auto";IC=k.width;IH=k.height;IB.width=IF;IB.height=It;this._imageSrc=Iz;this._imageWidth=IC;this._imageHeight=IH}k=Iz}else{if(k===this._imageSrc){IC=this._imageWidth;IH=this._imageHeight}}if(!k){return}var IJ=IL.x||0;var II=IL.y||0;var v=IL.width;var Iq=IL.height;var v3=IL.sWidth;var Iv=IL.sHeight;var v2=IL.sx||0;var v1=IL.sy||0;var IK=v3&&Iv;var Ir=this._vmlEl;if(!Ir){Ir=sE.createElement("div");td(Ir);this._vmlEl=Ir}var IQ=Ir.style;var ID=false;var IN;var IG=1;var IE=1;if(this.transform){IN=this.transform;IG=DK(IN[0]*IN[0]+IN[1]*IN[1]);IE=DK(IN[2]*IN[2]+IN[3]*IN[3]);ID=IN[1]||IN[2]}if(ID){var IU=[IJ,II];var IT=[IJ+v,II];var IS=[IJ,II+Iq];var IR=[IJ+v,II+Iq];aY(IU,IU,IN);aY(IT,IT,IN);aY(IS,IS,IN);aY(IR,IR,IN);var Iy=AI(IU[0],IT[0],IS[0],IR[0]);var Ix=AI(IU[1],IT[1],IS[1],IR[1]);var Iw=[];Iw.push("M11=",IN[0]/IG,mk,"M12=",IN[2]/IE,mk,"M21=",IN[1]/IG,mk,"M22=",IN[3]/IE,mk,"Dx=",FM(IJ*IG+IN[4]),mk,"Dy=",FM(II*IE+IN[5]));IQ.padding="0 "+FM(Iy)+"px "+FM(Ix)+"px 0";IQ.filter=bT+".Matrix("+Iw.join("")+", SizingMethod=clip)"}else{if(IN){IJ=IJ*IG+IN[4];II=II*IE+IN[5]}IQ.filter="";IQ.left=FM(IJ)+"px";IQ.top=FM(II)+"px"}var IP=this._imageEl;var IM=this._cropEl;if(!IP){IP=sE.createElement("div");this._imageEl=IP}var i=IP.style;if(IK){if(!(IC&&IH)){var e=new Image();var Z=this;e.onload=function(){e.onload=null;IC=e.width;IH=e.height;i.width=FM(IG*IC*v/v3)+"px";i.height=FM(IE*IH*Iq/Iv)+"px";Z._imageWidth=IC;Z._imageHeight=IH;Z._imageSrc=k};e.src=k}else{i.width=FM(IG*IC*v/v3)+"px";i.height=FM(IE*IH*Iq/Iv)+"px"}if(!IM){IM=sE.createElement("div");IM.style.overflow="hidden";this._cropEl=IM}var IA=IM.style;IA.width=FM((v+v2*v/v3)*IG);IA.height=FM((Iq+v1*Iq/Iv)*IE);IA.filter=bT+".Matrix(Dx="+(-v2*v/v3*IG)+",Dy="+(-v1*Iq/Iv*IE)+")";if(!IM.parentNode){Ir.appendChild(IM)}if(IP.parentNode!=IM){IM.appendChild(IP)}}else{i.width=FM(IG*v)+"px";i.height=FM(IE*Iq)+"px";Ir.appendChild(IP);if(IM&&IM.parentNode){Ir.removeChild(IM);this._cropEl=null}}var Is="";var IO=IL.opacity;if(IO<1){Is+=".Alpha(opacity="+FM(IO*100)+") "}Is+=bT+".AlphaImageLoader(src="+k+", SizingMethod=scale)";i.filter=Is;Ir.style.zIndex=d1(this.zlevel,this.z,this.z2);le(Iu,Ir);if(IL.text!=null){this.drawRectText(Iu,this.getBoundingRect())}};Fx.prototype.onRemove=function(e){be(e,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(e)};Fx.prototype.onAdd=function(e){le(e,this._vmlEl);this.appendRectText(e)};var pk="normal";var iK={};var d=0;var ug=100;var cw=document.createElement("div");var dM=function(Z){var v=iK[Z];if(!v){if(d>ug){d=0;iK={}}var k=cw.style;var i;try{k.font=Z;i=k.fontFamily.split(",")[0]}catch(m){}v={style:k.fontStyle||pk,variant:k.fontVariant||pk,weight:k.fontWeight||pk,size:parseFloat(k.fontSize||12)|0,family:i||"Microsoft YaHei"};iK[Z]=v;d++}return v};var B0;g0("measureText",function(m,i){var k=sE;if(!B0){B0=k.createElement("div");B0.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";sE.body.appendChild(B0)}try{B0.style.font=i}catch(e){}B0.innerHTML="";B0.appendChild(k.createTextNode(m));return{width:B0.offsetWidth}});var er=new CL();var Ax=function(IJ,v1,Z,v2){var II=this.style;this.__dirty&&pj(II,true);var Iz=II.text;Iz!=null&&(Iz+="");if(!Iz){return}if(II.rich){var It=st(Iz,II);Iz=[];for(var IH=0;IH<It.lines.length;IH++){var IA=It.lines[IH].tokens;var Iw=[];for(var IF=0;IF<IA.length;IF++){Iw.push(IA[IF].text)}Iz.push(Iw.join(""))}Iz=Iz.join("\n")}var Iv;var Iu;var IE=II.textAlign;var v=II.textVerticalAlign;var v3=dM(II.font);var IB=v3.style+" "+v3.variant+" "+v3.weight+" "+v3.size+'px "'+v3.family+'"';Z=Z||Gv(Iz,IB,IE,v);var ID=this.transform;if(ID&&!v2){er.copy(v1);er.applyTransform(ID);v1=er}if(!v2){var Ir=II.textPosition;var Iy=II.textDistance;if(Ir instanceof Array){Iv=v1.x+zM(Ir[0],v1.width);Iu=v1.y+zM(Ir[1],v1.height);IE=IE||"left"}else{var IM=F0(Ir,v1,Iy);Iv=IM.x;Iu=IM.y;IE=IE||IM.textAlign;v=v||IM.textVerticalAlign}}else{Iv=v1.x;Iu=v1.y}Iv=uC(Iv,Z.width,IE);Iu=uy(Iu,Z.height,v);Iu+=Z.height/2;var IL=Bo;var Ix=this._textVmlEl;var IC;var k;var Iq;if(!Ix){Ix=IL("line");IC=IL("path");k=IL("textpath");Iq=IL("skew");k.style["v-text-align"]="left";td(Ix);IC.textpathok=true;k.on=true;Ix.from="0 0";Ix.to="1000 0.05";le(Ix,Iq);le(Ix,IC);le(Ix,k);this._textVmlEl=Ix}else{Iq=Ix.firstChild;IC=Iq.nextSibling;k=IC.nextSibling}var IG=[Iv,Iu];var Is=Ix.style;if(ID&&v2){aY(IG,IG,ID);Iq.on=true;Iq.matrix=ID[0].toFixed(3)+mk+ID[2].toFixed(3)+mk+ID[1].toFixed(3)+mk+ID[3].toFixed(3)+",0,0";Iq.offset=(FM(IG[0])||0)+","+(FM(IG[1])||0);Iq.origin="0 0";Is.left="0px";Is.top="0px"}else{Iq.on=false;Is.left=FM(Iv)+"px";Is.top=FM(Iu)+"px"}k.string=B4(Iz);try{k.style.font=IB}catch(IK){}sP(Ix,"fill",{fill:II.textFill,opacity:II.opacity},this);sP(Ix,"stroke",{stroke:II.textStroke,opacity:II.opacity,lineDash:II.lineDash},this);Ix.style.zIndex=d1(this.zlevel,this.z,this.z2);le(IJ,Ix)};var tN=function(e){be(e,this._textVmlEl);this._textVmlEl=null};var en=function(e){le(e,this._textVmlEl)};var ig=[zb,Il,Fx,mo,iT];for(var Af=0;Af<ig.length;Af++){var b8=ig[Af].prototype;b8.drawRectText=Ax;b8.removeRectText=tN;b8.appendRectText=en}iT.prototype.brushVML=function(e){var i=this.style;if(i.text!=null){this.drawRectText(e,{x:i.x||0,y:i.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};iT.prototype.onRemove=function(e){this.removeRectText(e)};iT.prototype.onAdd=function(e){this.appendRectText(e)}}function fl(e){return parseInt(e,10)}function ak(i,Z){xS();this.root=i;this.storage=Z;var e=document.createElement("div");var m=document.createElement("div");e.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";m.style.cssText="position:absolute;left:0;top:0;";i.appendChild(e);this._vmlRoot=m;this._vmlViewport=e;this.resize();var k=Z.delFromStorage;var v=Z.addToStorage;Z.delFromStorage=function(v1){k.call(Z,v1);if(v1){v1.onRemove&&v1.onRemove(m)}};Z.addToStorage=function(v1){v1.onAdd&&v1.onAdd(m);v.call(Z,v1)};this._firstPaint=true}ak.prototype={constructor:ak,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true,true);this._paintList(e)},_paintList:function(v){var k=this._vmlRoot;for(var e=0;e<v.length;e++){var m=v[e];if(m.invisible||m.ignore){if(!m.__alreadyNotVisible){m.onRemove(k)}m.__alreadyNotVisible=true}else{if(m.__alreadyNotVisible){m.onAdd(k)}m.__alreadyNotVisible=false;if(m.__dirty){m.beforeBrush&&m.beforeBrush();(m.brushVML||m.brush).call(m,k);m.afterBrush&&m.afterBrush()}}m.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(k);this._firstPaint=false}},resize:function(k,e){var k=k==null?this._getWidth():k;var e=e==null?this._getHeight():e;if(this._width!=k||this._height!=e){this._width=k;this._height=e;var i=this._vmlViewport.style;i.width=k+"px";i.height=e+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var e=this.root;var i=e.currentStyle;return((e.clientWidth||fl(i.width))-fl(i.paddingLeft)-fl(i.paddingRight))|0},_getHeight:function(){var e=this.root;var i=e.currentStyle;return((e.clientHeight||fl(i.height))-fl(i.paddingTop)-fl(i.paddingBottom))|0}};function gk(e){return function(){Gy('In IE8.0 VML mode painter not support method "'+e+'"')}}pb(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){ak.prototype[e]=gk(e)});w6("vml",ak);var ba="http://www.w3.org/2000/svg";function F6(e){return document.createElementNS(ba,e)}var FS=j7.CMD;var fs=Array.prototype.join;var B6="none";var rI=Math.round;var G0=Math.sin;var Ae=Math.cos;var yD=Math.PI;var GZ=Math.PI*2;var mc=180/yD;var lm=0.0001;function zi(e){return rI(e*10000)/10000}function hf(e){return e<lm&&e>-lm}function i8(e,k){var i=k?e.textFill:e.fill;return i!=null&&i!==B6}function eq(e,k){var i=k?e.textStroke:e.stroke;return i!=null&&i!==B6}function A0(i,e){if(e){rv(i,"transform","matrix("+fs.call(e,",")+")")}}function rv(i,e,k){if(!k||k.type!=="linear"&&k.type!=="radial"){if(typeof k==="string"&&k.indexOf("NaN")>-1){console.log(k)}i.setAttribute(e,k)}}function je(i,e,k){i.setAttributeNS("http://www.w3.org/1999/xlink",e,k)}function CV(Z,e,m,i){if(i8(e,m)){var v1=m?e.textFill:e.fill;v1=v1==="transparent"?B6:v1;if(Z.getAttribute("clip-path")!=="none"&&v1===B6){v1="rgba(0, 0, 0, 0.002)"}rv(Z,"fill",v1);rv(Z,"fill-opacity",e.fillOpacity!=null?e.fillOpacity*e.opacity:e.opacity)}else{rv(Z,"fill",B6)}if(eq(e,m)){var v2=m?e.textStroke:e.stroke;v2=v2==="transparent"?B6:v2;rv(Z,"stroke",v2);var v=m?e.textStrokeWidth:e.lineWidth;var v3=!m&&e.strokeNoScale?i.getLineScale():1;rv(Z,"stroke-width",v/v3);rv(Z,"paint-order",m?"stroke":"fill");rv(Z,"stroke-opacity",e.strokeOpacity!=null?e.strokeOpacity:e.opacity);var k=e.lineDash;if(k){rv(Z,"stroke-dasharray",e.lineDash.join(","));rv(Z,"stroke-dashoffset",rI(e.lineDashOffset||0))}else{rv(Z,"stroke-dasharray","")}e.lineCap&&rv(Z,"stroke-linecap",e.lineCap);e.lineJoin&&rv(Z,"stroke-linejoin",e.lineJoin);e.miterLimit&&rv(Z,"stroke-miterlimit",e.miterLimit)}else{rv(Z,"stroke",B6)}}function Ge(Iv){var Ix=[];var IH=Iv.data;var Iq=Iv.len();for(var IB=0;IB<Iq;){var IA=IH[IB++];var v1="";var k=0;switch(IA){case FS.M:v1="M";k=2;break;case FS.L:v1="L";k=2;break;case FS.Q:v1="Q";k=4;break;case FS.C:v1="C";k=6;break;case FS.A:var v=IH[IB++];var m=IH[IB++];var v3=IH[IB++];var v2=IH[IB++];var Ir=IH[IB++];var IF=IH[IB++];var IG=IH[IB++];var ID=IH[IB++];var Iw=Math.abs(IF);var Iy=hf(Iw-GZ)&&!hf(Iw);var e=false;if(Iw>=GZ){e=true}else{if(hf(Iw)){e=false}else{e=(IF>-yD&&IF<0||IF>yD)===!!ID}}var IE=zi(v+v3*Ae(Ir));var Z=zi(m+v2*G0(Ir));if(Iy){if(ID){IF=GZ-0.0001}else{IF=-GZ+0.0001}e=true;if(IB===9){Ix.push("M",IE,Z)}}var It=zi(v+v3*Ae(Ir+IF));var Is=zi(m+v2*G0(Ir+IF));Ix.push("A",zi(v3),zi(v2),rI(IG*mc),+e,+ID,It,Is);break;case FS.Z:v1="Z";break;case FS.R:var It=zi(IH[IB++]);var Is=zi(IH[IB++]);var Iu=zi(IH[IB++]);var IC=zi(IH[IB++]);Ix.push("M",It,Is,"L",It+Iu,Is,"L",It+Iu,Is+IC,"L",It,Is+IC,"L",It,Is);break}v1&&Ix.push(v1);for(var Iz=0;Iz<k;Iz++){Ix.push(zi(IH[IB++]))}}return Ix.join(" ")}var r0={};r0.brush=function(k){var i=k.style;var v=k.__svgEl;if(!v){v=F6("path");k.__svgEl=v}if(!k.path){k.createPathProxy()}var m=k.path;if(k.__dirtyPath){m.beginPath();k.buildPath(m,k.shape);k.__dirtyPath=false;var e=Ge(m);if(e.indexOf("NaN")<0){rv(v,"d",e)}}CV(v,i,false,k);A0(v,k.transform);if(i.text!=null){wk(k,k.getBoundingRect())}};var i3={};i3.brush=function(m){var k=m.style;var v=k.image;if(v instanceof HTMLImageElement){var e=v.src;v=e}if(!v){return}var v2=k.x||0;var v1=k.y||0;var i=k.width;var Z=k.height;var v3=m.__svgEl;if(!v3){v3=F6("image");m.__svgEl=v3}if(v!==m.__imageSrc){je(v3,"href",v);m.__imageSrc=v}rv(v3,"width",i);rv(v3,"height",Z);rv(v3,"x",v2);rv(v3,"y",v1);A0(v3,m.transform);if(k.text!=null){wk(m,m.getBoundingRect())}};var oo={};var ep=new CL();var wk=function(v,m,k){var IH=v.style;v.__dirty&&pj(IH,true);var Iy=IH.text;if(Iy==null){return}else{Iy+=""}var v2=v.__textSvgEl;if(!v2){v2=F6("text");v.__textSvgEl=v2}var Iv;var Iu;var Iq=IH.textPosition;var v3=IH.textDistance;var IC=IH.textAlign||"left";if(typeof IH.fontSize==="number"){IH.fontSize+="px"}var IA=IH.font||[IH.fontStyle||"",IH.fontWeight||"",IH.fontSize||"",IH.fontFamily||""].join(" ")||E2;var e=hp(IH.textVerticalAlign);k=Gv(Iy,IA,IC,e);var v1=k.lineHeight;if(Iq instanceof Array){Iv=m.x+Iq[0];Iu=m.y+Iq[1]}else{var Z=F0(Iq,m,v3);Iv=Z.x;Iu=Z.y;e=hp(Z.textVerticalAlign);IC=Z.textAlign}rv(v2,"alignment-baseline",e);if(IA){v2.style.font=IA}var IF=IH.textPadding;rv(v2,"x",Iv);rv(v2,"y",Iu);CV(v2,IH,true,v);if(v instanceof iT||v.style.transformText){A0(v2,v.transform)}else{if(v.transform){ep.copy(m);ep.applyTransform(v.transform);m=ep}else{var Is=v.transformCoordToGlobal(m.x,m.y);m.x=Is[0];m.y=Is[1];v.transform=lP(CF())}var IJ=IH.textOrigin;if(IJ==="center"){Iv=k.width/2+Iv;Iu=k.height/2+Iu}else{if(IJ){Iv=IJ[0]+Iv;Iu=IJ[1]+Iu}}var II=-IH.textRotation||0;var Ix=CF();kk(Ix,Ix,II);var Is=[v.transform[4],v.transform[5]];vp(Ix,Ix,Is);A0(v2,Ix)}var Iz=Iy.split("\n");var IB=Iz.length;var IE=IC;if(IE==="left"){IE="start";IF&&(Iv+=IF[3])}else{if(IE==="right"){IE="end";IF&&(Iv-=IF[1])}else{if(IE==="center"){IE="middle";IF&&(Iv+=(IF[3]-IF[1])/2)}}}var Iw=0;if(e==="after-edge"){Iw=-k.height+v1;IF&&(Iw-=IF[2])}else{if(e==="middle"){Iw=(-k.height+v1)/2;IF&&(Iu+=(IF[0]-IF[2])/2)}else{IF&&(Iw+=IF[0])}}if(v.__text!==Iy||v.__textFont!==IA){var Ir=v.__tspanList||[];v.__tspanList=Ir;for(var ID=0;ID<IB;ID++){var It=Ir[ID];if(!It){It=Ir[ID]=F6("tspan");v2.appendChild(It);rv(It,"alignment-baseline",e);rv(It,"text-anchor",IE)}else{It.innerHTML=""}rv(It,"x",Iv);rv(It,"y",Iu+ID*v1+Iw);It.appendChild(document.createTextNode(Iz[ID]))}for(;ID<Ir.length;ID++){v2.removeChild(Ir[ID])}Ir.length=IB;v.__text=Iy;v.__textFont=IA}else{if(v.__tspanList.length){var IG=v.__tspanList.length;for(var ID=0;ID<IG;++ID){var It=v.__tspanList[ID];if(It){rv(It,"x",Iv);rv(It,"y",Iu+ID*v1+Iw)}}}}};function hp(e){if(e==="middle"){return"middle"}else{if(e==="bottom"){return"after-edge"}else{return"hanging"}}}oo.drawRectText=wk;oo.brush=function(i){var e=i.style;if(e.text!=null){e.textPosition=[0,0];wk(i,{x:e.x||0,y:e.y||0,width:0,height:0},i.getBoundingRect())}};function of(){}of.prototype={diff:function(k,v3,m){if(!m){m=function(Iw,i){return Iw===i}}this.equals=m;var Iv=this;k=k.slice();v3=v3.slice();var Iq=v3.length;var v=k.length;var e=1;var It=Iq+v;var Is=[{newPos:-1,components:[]}];var Z=this.extractCommon(Is[0],v3,k,0);if(Is[0].newPos+1>=Iq&&Z+1>=v){var Iu=[];for(var v2=0;v2<v3.length;v2++){Iu.push(v2)}return[{indices:Iu,count:v3.length}]}function v1(){for(var Ix=-1*e;Ix<=e;Ix+=2){var IB;var Iw=Is[Ix-1];var i=Is[Ix+1];var Iy=(i?i.newPos:0)-Ix;if(Iw){Is[Ix-1]=undefined}var Iz=Iw&&Iw.newPos+1<Iq;var IA=i&&0<=Iy&&Iy<v;if(!Iz&&!IA){Is[Ix]=undefined;continue}if(!Iz||(IA&&Iw.newPos<i.newPos)){IB=cX(i);Iv.pushComponent(IB.components,undefined,true)}else{IB=Iw;IB.newPos++;Iv.pushComponent(IB.components,true,undefined)}Iy=Iv.extractCommon(IB,v3,k,Ix);if(IB.newPos+1>=Iq&&Iy+1>=v){return bx(Iv,IB.components,v3,k)}else{Is[Ix]=IB}}e++}while(e<=It){var Ir=v1();if(Ir){return Ir}}},pushComponent:function(k,e,m){var i=k[k.length-1];if(i&&i.added===e&&i.removed===m){k[k.length-1]={count:i.count+1,added:e,removed:m}}else{k.push({count:1,added:e,removed:m})}},extractCommon:function(v3,m,e,v2){var v=m.length;var i=e.length;var v1=v3.newPos;var k=v1-v2;var Z=0;while(v1+1<v&&k+1<i&&this.equals(m[v1+1],e[k+1])){v1++;k++;Z++}if(Z){v3.components.push({count:Z})}v3.newPos=v1;return k},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};function bx(Ir,v2,Z,e){var v1=0;var k=v2.length;var v3=0;var m=0;for(;v1<k;v1++){var Iq=v2[v1];if(!Iq.removed){var Is=[];for(var v=v3;v<v3+Iq.count;v++){Is.push(v)}Iq.indices=Is;v3+=Iq.count;if(!Iq.added){m+=Iq.count}}else{var Is=[];for(var v=m;v<m+Iq.count;v++){Is.push(v)}Iq.indices=Is;m+=Iq.count}}return v2}function cX(e){return{newPos:e.newPos,components:e.components.slice(0)}}var jm=new of();var gH=function(e,i,k){return jm.diff(e,i,k)};var nb="0";var gV="1";function s9(m,i,e,v,k){this._zrId=m;this._svgRoot=i;this._tagNames=typeof e==="string"?[e]:e;this._markLabel=v;this._domName=k||"_dom";this.nextId=0}s9.prototype.createElement=F6;s9.prototype.getDefs=function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){e=i.insertBefore(this.createElement("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}};s9.prototype.update=function(k,i){if(!k){return}var e=this.getDefs(false);if(k[this._domName]&&e.contains(k[this._domName])){if(typeof i==="function"){i(k)}}else{var m=this.add(k);if(m){k[this._domName]=m}}};s9.prototype.addDom=function(i){var e=this.getDefs(true);e.appendChild(i)};s9.prototype.removeDom=function(i){var e=this.getDefs(false);if(e&&i[this._domName]){e.removeChild(i[this._domName]);i[this._domName]=null}};s9.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var i=[];pb(this._tagNames,function(m){var k=e.getElementsByTagName(m);i=i.concat([].slice.call(k))});return i};s9.prototype.markAllUnused=function(){var i=this.getDoms();var e=this;pb(i,function(k){k[e._markLabel]=nb})};s9.prototype.markUsed=function(e){if(e){e[this._markLabel]=gV}};s9.prototype.removeUnused=function(){var e=this.getDefs(false);if(!e){return}var k=this.getDoms();var i=this;pb(k,function(m){if(m[i._markLabel]!==gV){e.removeChild(m)}})};s9.prototype.getSvgProxy=function(e){if(e instanceof mo){return r0}else{if(e instanceof Fx){return i3}else{if(e instanceof iT){return oo}else{return r0}}}};s9.prototype.getTextSvgElement=function(e){return e.__textSvgEl};s9.prototype.getSvgElement=function(e){return e.__svgEl};function gQ(i,e){s9.call(this,i,e,["linearGradient","radialGradient"],"__gradient_in_use__")}mt(gQ,s9);gQ.prototype.addWithoutUpdate=function(k,e){if(e&&e.style){var i=this;pb(["fill","stroke"],function(v){if(e.style[v]&&(e.style[v].type==="linear"||e.style[v].type==="radial")){var Z=e.style[v];var m=i.getDefs(true);var v1;if(Z._dom){v1=Z._dom;if(!m.contains(Z._dom)){i.addDom(v1)}}else{v1=i.add(Z)}i.markUsed(e);var v2=v1.getAttribute("id");k.setAttribute(v,"url(#"+v2+")")}})}};gQ.prototype.add=function(e){var i;if(e.type==="linear"){i=this.createElement("linearGradient")}else{if(e.type==="radial"){i=this.createElement("radialGradient")}else{Gy("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;i.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id);this.updateDom(e,i);this.addDom(i);return i};gQ.prototype.update=function(i){var e=this;s9.prototype.update.call(this,i,function(){var m=i.type;var k=i._dom.tagName;if(m==="linear"&&k==="linearGradient"||m==="radial"&&k==="radialGradient"){e.updateDom(i,i._dom)}else{e.removeDom(i);e.add(i)}})};gQ.prototype.updateDom=function(Z,v1){if(Z.type==="linear"){v1.setAttribute("x1",Z.x);v1.setAttribute("y1",Z.y);v1.setAttribute("x2",Z.x2);v1.setAttribute("y2",Z.y2)}else{if(Z.type==="radial"){v1.setAttribute("cx",Z.x);v1.setAttribute("cy",Z.y);v1.setAttribute("r",Z.r)}else{Gy("Illegal gradient type.");return}}if(Z.global){v1.setAttribute("gradientUnits","userSpaceOnUse")}else{v1.setAttribute("gradientUnits","objectBoundingBox")}v1.innerHTML="";var k=Z.colorStops;for(var v=0,e=k.length;v<e;++v){var m=this.createElement("stop");m.setAttribute("offset",k[v].offset*100+"%");m.setAttribute("stop-color",k[v].color);v1.appendChild(m)}Z._dom=v1};gQ.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;if(i&&i._dom){s9.prototype.markUsed.call(this,i._dom)}i=e.style.stroke;if(i&&i._dom){s9.prototype.markUsed.call(this,i._dom)}}};function jM(i,e){s9.call(this,i,e,"clipPath","__clippath_in_use__")}mt(jM,s9);jM.prototype.update=function(e){var k=this.getSvgElement(e);if(k){this.updateDom(k,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};jM.prototype.updateDom=function(v1,v3,Z){if(v3&&v3.length>0){var v=this.getDefs(true);var Iq=v3[0];var Ir;var e;var m=Z?"_textDom":"_dom";if(Iq[m]){e=Iq[m].getAttribute("id");Ir=Iq[m];if(!v.contains(Ir)){v.appendChild(Ir)}}else{e="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;Ir=this.createElement("clipPath");Ir.setAttribute("id",e);v.appendChild(Ir);Iq[m]=Ir}var k=this.getSvgProxy(Iq);if(Iq.transform&&Iq.parent.invTransform&&!Z){var i=Array.prototype.slice.call(Iq.transform);l(Iq.transform,Iq.parent.invTransform,Iq.transform);k.brush(Iq);Iq.transform=i}else{k.brush(Iq)}var v2=this.getSvgElement(Iq);Ir.innerHTML="";Ir.appendChild(v2.cloneNode());v1.setAttribute("clip-path","url(#"+e+")");if(v3.length>1){this.updateDom(Ir,v3.slice(1),Z)}}else{if(v1){v1.setAttribute("clip-path","none")}}};jM.prototype.markUsed=function(e){var i=this;if(e.__clipPaths&&e.__clipPaths.length>0){pb(e.__clipPaths,function(k){if(k._dom){s9.prototype.markUsed.call(i,k._dom)}if(k._textDom){s9.prototype.markUsed.call(i,k._textDom)}})}};function hk(i,e){s9.call(this,i,e,["filter"],"__filter_in_use__","_shadowDom")}mt(hk,s9);hk.prototype.addWithoutUpdate=function(m,i){if(i&&cx(i.style)){var k=i.style;var v;if(k._shadowDom){v=k._shadowDom;var e=this.getDefs(true);if(!e.contains(k._shadowDom)){this.addDom(v)}}else{v=this.add(i)}this.markUsed(i);var Z=v.getAttribute("id");m.style.filter="url(#"+Z+")"}};hk.prototype.add=function(e){var k=this.createElement("filter");var i=e.style;i._shadowDomId=i._shadowDomId||this.nextId++;k.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId);this.updateDom(e,k);this.addDom(k);return k};hk.prototype.update=function(m,e){var i=e.style;if(cx(i)){var k=this;s9.prototype.update.call(this,e,function(v){k.updateDom(e,v._shadowDom)})}else{this.remove(m,i)}};hk.prototype.remove=function(i,e){if(e._shadowDomId!=null){this.removeDom(e);i.style.filter=""}};hk.prototype.updateDom=function(v,m){var Iq=m.getElementsByTagName("feDropShadow");if(Iq.length===0){Iq=this.createElement("feDropShadow")}else{Iq=Iq[0]}var e=v.style;var It=v.scale?(v.scale[0]||1):1;var Is=v.scale?(v.scale[1]||1):1;var v1,Z,i,k;if(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY){v1=e.shadowOffsetX||0;Z=e.shadowOffsetY||0;i=e.shadowBlur;k=e.shadowColor}else{if(e.textShadowBlur){v1=e.textShadowOffsetX||0;Z=e.textShadowOffsetY||0;i=e.textShadowBlur;k=e.textShadowColor}else{this.removeDom(m,e);return}}Iq.setAttribute("dx",v1/It);Iq.setAttribute("dy",Z/Is);Iq.setAttribute("flood-color",k);var v3=i/2/It;var v2=i/2/Is;var Ir=v3+" "+v2;Iq.setAttribute("stdDeviation",Ir);m.setAttribute("x","-100%");m.setAttribute("y","-100%");m.setAttribute("width",Math.ceil(i/2*200)+"%");m.setAttribute("height",Math.ceil(i/2*200)+"%");m.appendChild(Iq);e._shadowDom=m};hk.prototype.markUsed=function(e){var i=e.style;if(i&&i._shadowDom){s9.prototype.markUsed.call(this,i._shadowDom)}};function cx(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function fj(e){return parseInt(e,10)}function nK(e){if(e instanceof mo){return r0}else{if(e instanceof Fx){return i3}else{if(e instanceof iT){return oo}else{return r0}}}}function HE(e,i){return i&&e&&i.parentNode!==e}function y9(i,m,e){if(HE(i,m)&&e){var k=e.nextSibling;k?i.insertBefore(m,k):i.appendChild(m)}}function qm(e,k){if(HE(e,k)){var i=e.firstChild;i?e.insertBefore(k,i):e.appendChild(k)}}function a4(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}}function Fj(e){return e.__textSvgEl}function nM(e){return e.__svgEl}var vB=function(k,Z,v,m){this.root=k;this.storage=Z;this._opts=v=b0({},v||{});var i=F6("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg");i.setAttribute("version","1.1");i.setAttribute("baseProfile","full");i.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new gQ(m,i);this.clipPathManager=new jM(m,i);this.shadowManager=new hk(m,i);var e=document.createElement("div");e.style.cssText="overflow:hidden;position:relative";this._svgRoot=i;this._viewport=e;k.appendChild(e);e.appendChild(i);this.resize(v.width,v.height);this._visibleList=[]};vB.prototype={constructor:vB,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true);this._paintList(e)},setBackgroundColor:function(e){this._viewport.style.background=e},_paintList:function(Iq){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var Iv=this._svgRoot;var Is=this._visibleList;var e=Iq.length;var v1=[];var v2;for(v2=0;v2<e;v2++){var v=Iq[v2];var Z=nK(v);var Ir=nM(v)||Fj(v);if(!v.invisible){if(v.__dirty){Z&&Z.brush(v);this.clipPathManager.update(v);if(v.style){this.gradientManager.update(v.style.fill);this.gradientManager.update(v.style.stroke);this.shadowManager.update(Ir,v)}v.__dirty=false}v1.push(v)}}var Iu=gH(Is,v1);var v3;for(v2=0;v2<Iu.length;v2++){var Iw=Iu[v2];if(Iw.removed){for(var m=0;m<Iw.count;m++){var v=Is[Iw.indices[m]];var Ir=nM(v);var It=Fj(v);a4(Iv,Ir);a4(Iv,It)}}}for(v2=0;v2<Iu.length;v2++){var Iw=Iu[v2];if(Iw.added){for(var m=0;m<Iw.count;m++){var v=v1[Iw.indices[m]];var Ir=nM(v);var It=Fj(v);v3?y9(Iv,Ir,v3):qm(Iv,Ir);if(Ir){y9(Iv,It,Ir)}else{if(v3){y9(Iv,It,v3)}else{qm(Iv,It)}}y9(Iv,It,Ir);v3=It||Ir||v3;this.gradientManager.addWithoutUpdate(Ir,v);this.shadowManager.addWithoutUpdate(v3,v);this.clipPathManager.markUsed(v)}}else{if(!Iw.removed){for(var m=0;m<Iw.count;m++){var v=v1[Iw.indices[m]];v3=Ir=Fj(v)||nM(v)||v3;this.gradientManager.markUsed(v);this.gradientManager.addWithoutUpdate(Ir,v);this.shadowManager.markUsed(v);this.shadowManager.addWithoutUpdate(Ir,v);this.clipPathManager.markUsed(v)}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=v1},_getDefs:function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){var e=i.insertBefore(F6("defs"),i.firstChild);if(!e.contains){e.contains=function(Z){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===Z){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(v,i){var e=this._viewport;e.style.display="none";var Z=this._opts;v!=null&&(Z.width=v);i!=null&&(Z.height=i);v=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!==v||this._height!==i){this._width=v;this._height=i;var m=e.style;m.width=v+"px";m.height=i+"px";var k=this._svgRoot;k.setAttribute("width",v);k.setAttribute("height",i)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(v){var v2=this._opts;var m=["width","height"][v];var k=["clientWidth","clientHeight"][v];var Z=["paddingLeft","paddingTop"][v];var e=["paddingRight","paddingBottom"][v];if(v2[m]!=null&&v2[m]!=="auto"){return parseFloat(v2[m])}var i=this.root;var v1=document.defaultView.getComputedStyle(i);return((i[k]||fj(v1[m])||fj(i.style[m]))-(fj(v1[Z])||0)-(fj(v1[e])||0))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},pathToDataUrl:function(){this.refresh();var e=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+e}};function D5(e){return function(){Gy('In SVG mode painter not support method "'+e+'"')}}pb(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){vB.prototype[e]=D5(e)});w6("svg",vB);rD.version=Ic;rD.dependencies=q1;rD.PRIORITY=Ca;rD.init=EZ;rD.connect=nO;rD.disConnect=hH;rD.disconnect=y0;rD.dispose=u6;rD.getInstanceByDom=b2;rD.getInstanceById=dU;rD.registerTheme=zC;rD.registerPreprocessor=y6;rD.registerProcessor=ec;rD.registerPostUpdate=wj;rD.registerAction=b1;rD.registerCoordinateSystem=wC;rD.getCoordinateSystemDimensions=g3;rD.registerLayout=pu;rD.registerVisual=G;rD.registerLoading=xZ;rD.extendComponentModel=p5;rD.extendComponentView=qB;rD.extendSeriesModel=B7;rD.extendChartView=BP;rD.setCanvasCreator=eH;rD.registerMap=fG;rD.getMap=vd;rD.dataTool=wD;rD.zrender=ls;rD.number=ni;rD.format=fR;rD.throttle=e3;rD.helper=Cd;rD.matrix=kE;rD.vector=EG;rD.color=wG;rD.parseGeoJSON=bK;rD.parseGeoJson=kq;rD.util=k8;rD.graphic=t1;rD.List=xw;rD.Model=fx;rD.Axis=BW;rD.env=sZ})));